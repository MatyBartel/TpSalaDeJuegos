var yx=Object.defineProperty,vx=Object.defineProperties;var _x=Object.getOwnPropertyDescriptors;var RI=Object.getOwnPropertySymbols,wx=Object.getPrototypeOf,Ix=Object.prototype.hasOwnProperty,Ex=Object.prototype.propertyIsEnumerable,bx=Reflect.get;var PI=(t,e,n)=>e in t?yx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})Ix.call(e,n)&&PI(t,n,e[n]);if(RI)for(var n of RI(e))Ex.call(e,n)&&PI(t,n,e[n]);return t},Me=(t,e)=>vx(t,_x(e));var Pr=(t,e,n)=>bx(wx(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var NI=null;var kf=1,Ff=Symbol("SIGNAL");function Ce(t){let e=NI;return NI=t,e}var OI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cx(t){if(!(jf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===kf)){if(!t.producerMustRecompute(t)&&!Lf(t)){t.dirty=!1,t.lastCleanEpoch=kf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=kf}}function kI(t){return t&&(t.nextProducerIndex=0),Ce(t)}function FI(t,e){if(Ce(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(jf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Vf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Lf(t){Tu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Cx(n),r!==n.version))return!0}return!1}function LI(t){if(Tu(t),jf(t))for(let e=0;e<t.producerNode.length;e++)Vf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Vf(t,e){if(Dx(t),Tu(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Vf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Tu(i),i.producerIndexOfThis[r]=e}}function jf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Tu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Dx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Tx(){throw new Error}var Ax=Tx;function VI(t){Ax=t}function oe(t){return typeof t=="function"}function Do(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Au=Do(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function xi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof Au?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{jI(o)}catch(s){e=e??[],s instanceof Au?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Au(e)}}add(e){var n;if(e&&e!==this)if(this.closed)jI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xi(n,e)}remove(e){let{_finalizers:n}=this;n&&xi(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var Uf=Ge.EMPTY;function Su(t){return t instanceof Ge||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function jI(t){oe(t)?t():t.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var To={setTimeout(t,e,...n){let{delegate:r}=To;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=To;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Mu(t){To.setTimeout(()=>{let{onUnhandledError:e}=ln;if(e)e(t);else throw t})}function ma(){}var UI=Bf("C",void 0,void 0);function BI(t){return Bf("E",void 0,t)}function $I(t){return Bf("N",t,void 0)}function Bf(t,e,n){return{kind:t,value:e,error:n}}var Ri=null;function Ao(t){if(ln.useDeprecatedSynchronousErrorHandling){let e=!Ri;if(e&&(Ri={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ri;if(Ri=null,n)throw r}}else t()}function qI(t){ln.useDeprecatedSynchronousErrorHandling&&Ri&&(Ri.errorThrown=!0,Ri.error=t)}var Pi=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Su(e)&&e.add(this)):this.destination=xx}static create(e,n,r){return new So(e,n,r)}next(e){this.isStopped?qf($I(e),this):this._next(e)}error(e){this.isStopped?qf(BI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qf(UI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Sx=Function.prototype.bind;function $f(t,e){return Sx.call(t,e)}var zf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xu(r)}else xu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xu(n)}}},So=class extends Pi{constructor(e,n,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ln.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$f(e.next,o),error:e.error&&$f(e.error,o),complete:e.complete&&$f(e.complete,o)}):i=e}this.destination=new zf(i)}};function xu(t){ln.useDeprecatedSynchronousErrorHandling?qI(t):Mu(t)}function Mx(t){throw t}function qf(t,e){let{onStoppedNotification:n}=ln;n&&To.setTimeout(()=>n(t,e))}var xx={closed:!0,next:ma,error:Mx,complete:ma};var Mo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(t){return t}function Hf(...t){return Gf(t)}function Gf(t){return t.length===0?zt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Px(n)?n:new So(n,r,i);return Ao(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=zI(r),new r((i,o)=>{let s=new So({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Mo](){return this}pipe(...n){return Gf(n)(this)}toPromise(n){return n=zI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function zI(t){var e;return(e=t??ln.Promise)!==null&&e!==void 0?e:Promise}function Rx(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}function Px(t){return t&&t instanceof Pi||Rx(t)&&Su(t)}function Wf(t){return oe(t?.lift)}function ve(t){return e=>{if(Wf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,e,n,r,i){return new Kf(t,e,n,r,i)}var Kf=class extends Pi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xo(){return ve((t,e)=>{let n=null;t._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ro=class extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Wf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return xo()(this)}};var HI=Do(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var bt=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ru(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new HI}next(n){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Uf:(this.currentObservers=null,o.push(n),new Ge(()=>{this.currentObservers=null,xi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new fe;return n.source=this,n}}return t.create=(e,n)=>new Ru(e,n),t})(),Ru=class extends bt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Uf}};var ht=class extends bt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Qf={now(){return(Qf.delegate||Date).now()},delegate:void 0};var Pu=class extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}};var ya={setInterval(t,e,...n){let{delegate:r}=ya;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ya;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Po=class extends Pu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ya.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ya.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var No=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};No.now=Qf.now;var Oo=class extends No{constructor(e,n=No.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Yf=new Oo(Po);var Nu=class extends Po{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ou=class extends Oo{};var Jf=new Ou(Nu);var Ht=new fe(t=>t.complete());function GI(t){return t&&oe(t.schedule)}function WI(t){return t[t.length-1]}function ku(t){return oe(WI(t))?t.pop():void 0}function Nr(t){return GI(WI(t))?t.pop():void 0}function Zf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function QI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function KI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ni(t){return this instanceof Ni?(this.v=t,this):new Ni(t)}function YI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){r[m]&&(i[m]=function(I){return new Promise(function(x,N){o.push([m,I,x,N])>1||a(m,I)})})}function a(m,I){try{u(r[m](I))}catch(x){p(o[0][3],x)}}function u(m){m.value instanceof Ni?Promise.resolve(m.value.v).then(l,h):p(o[0][2],m)}function l(m){a("next",m)}function h(m){a("throw",m)}function p(m,I){m(I),o.shift(),o.length&&a(o[0][0],o[0][1])}}function JI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof KI=="function"?KI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Fu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Lu(t){return oe(t?.then)}function Vu(t){return oe(t[Mo])}function ju(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function Uu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Nx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bu=Nx();function $u(t){return oe(t?.[Bu])}function qu(t){return YI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ni(n.read());if(i)return yield Ni(void 0);yield yield Ni(r)}}finally{n.releaseLock()}})}function zu(t){return oe(t?.getReader)}function We(t){if(t instanceof fe)return t;if(t!=null){if(Vu(t))return Ox(t);if(Fu(t))return kx(t);if(Lu(t))return Fx(t);if(ju(t))return ZI(t);if($u(t))return Lx(t);if(zu(t))return Vx(t)}throw Uu(t)}function Ox(t){return new fe(e=>{let n=t[Mo]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kx(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Fx(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Mu)})}function Lx(t){return new fe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ZI(t){return new fe(e=>{jx(t,e).catch(n=>e.error(n))})}function Vx(t){return ZI(qu(t))}function jx(t,e){var n,r,i,o;return QI(this,void 0,void 0,function*(){try{for(n=JI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function jt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Or(t,e=0){return ve((n,r)=>{n.subscribe(pe(r,i=>jt(r,t,()=>r.next(i),e),()=>jt(r,t,()=>r.complete(),e),i=>jt(r,t,()=>r.error(i),e)))})}function kr(t,e=0){return ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function XI(t,e){return We(t).pipe(kr(e),Or(e))}function e0(t,e){return We(t).pipe(kr(e),Or(e))}function t0(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function n0(t,e){return new fe(n=>{let r;return jt(n,e,()=>{r=t[Bu](),jt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Hu(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{jt(n,e,()=>{let r=t[Symbol.asyncIterator]();jt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function r0(t,e){return Hu(qu(t),e)}function i0(t,e){if(t!=null){if(Vu(t))return XI(t,e);if(Fu(t))return t0(t,e);if(Lu(t))return e0(t,e);if(ju(t))return Hu(t,e);if($u(t))return n0(t,e);if(zu(t))return r0(t,e)}throw Uu(t)}function Ne(t,e){return e?i0(t,e):We(t)}function Z(...t){let e=Nr(t);return Ne(t,e)}function ko(t,e){let n=oe(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function Xf(t){return!!t&&(t instanceof fe||oe(t.lift)&&oe(t.subscribe))}var Xn=Do(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(t,e){return ve((n,r)=>{let i=0;n.subscribe(pe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Ux}=Array;function Bx(t,e){return Ux(e)?t(...e):t(e)}function Gu(t){return ce(e=>Bx(t,e))}var{isArray:$x}=Array,{getPrototypeOf:qx,prototype:zx,keys:Hx}=Object;function Wu(t){if(t.length===1){let e=t[0];if($x(e))return{args:e,keys:null};if(Gx(e)){let n=Hx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Gx(t){return t&&typeof t=="object"&&qx(t)===zx}function Ku(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function va(...t){let e=Nr(t),n=ku(t),{args:r,keys:i}=Wu(t);if(r.length===0)return Ne([],e);let o=new fe(Wx(r,e,i?s=>Ku(i,s):zt));return n?o.pipe(Gu(n)):o}function Wx(t,e,n=zt){return r=>{o0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)o0(e,()=>{let l=Ne(t[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function o0(t,e,n){t?jt(n,t,e):e()}function s0(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},I=N=>l<r?x(N):u.push(N),x=N=>{o&&e.next(N),l++;let R=!1;We(n(N,h++)).subscribe(pe(e,L=>{i?.(L),o?I(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?jt(e,s,()=>x(L)):x(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(pe(e,I,()=>{p=!0,m()})),()=>{a?.()}}function Ke(t,e,n=1/0){return oe(e)?Ke((r,i)=>ce((o,s)=>e(r,o,i,s))(We(t(r,i))),n):(typeof e=="number"&&(n=e),ve((r,i)=>s0(r,i,t,n)))}function Fr(t=1/0){return Ke(zt,t)}function a0(){return Fr(1)}function Fo(...t){return a0()(Ne(t,Nr(t)))}function Qu(t){return new fe(e=>{We(t()).subscribe(e)})}function ep(...t){let e=ku(t),{args:n,keys:r}=Wu(t),i=new fe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;We(n[h]).subscribe(pe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ku(r,a):a),o.complete())}))}});return e?i.pipe(Gu(e)):i}function Ut(t,e){return ve((n,r)=>{let i=0;n.subscribe(pe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Lr(t){return ve((e,n)=>{let r=null,i=!1,o;r=e.subscribe(pe(n,void 0,void 0,s=>{o=We(t(s,Lr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function c0(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function er(t,e){return oe(e)?Ke(t,e,1):Ke(t,1)}function Vr(t){return ve((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function tr(t){return t<=0?()=>Ht:ve((e,n)=>{let r=0;e.subscribe(pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function tp(t){return ce(()=>t)}function Yu(t=Kx){return ve((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Kx(){return new Xn}function jr(t){return ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function An(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):zt,tr(1),n?Vr(e):Yu(()=>new Xn))}function Lo(t){return t<=0?()=>Ht:ve((e,n)=>{let r=[];e.subscribe(pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function np(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):zt,Lo(1),n?Vr(e):Yu(()=>new Xn))}function rp(t,e){return ve(c0(t,e,arguments.length>=2,!0))}function ip(...t){let e=Nr(t);return ve((n,r)=>{(e?Fo(t,n,e):Fo(t,n)).subscribe(r)})}function Bt(t,e){return ve((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;We(t(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function op(t){return ve((e,n)=>{We(t).subscribe(pe(n,()=>n.complete(),ma)),!n.closed&&e.subscribe(n)})}function Qe(t,e,n){let r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):zt}var W0="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(Ml(e,n)),this.code=e}};function Ml(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function xa(t){return{toString:t}.toString()}var Ju="__parameters__";function Qx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function K0(t,e,n){return xa(()=>{let r=Qx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Ju)?u[Ju]:Object.defineProperty(u,Ju,{value:[]})[Ju];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var nr=globalThis;function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function Yx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(kt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function u0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Jx=Re({__forward_ref__:Re});function gn(t){return t.__forward_ref__=gn,t.toString=function(){return kt(this())},t}function Ot(t){return Q0(t)?t():t}function Q0(t){return typeof t=="function"&&t.hasOwnProperty(Jx)&&t.__forward_ref__===gn}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function On(t){return{providers:t.providers||[],imports:t.imports||[]}}function xl(t){return l0(t,J0)||l0(t,Z0)}function Y0(t){return xl(t)!==null}function l0(t,e){return t.hasOwnProperty(e)?t[e]:null}function Zx(t){let e=t&&(t[J0]||t[Z0]);return e||null}function d0(t){return t&&(t.hasOwnProperty(h0)||t.hasOwnProperty(Xx))?t[h0]:null}var J0=Re({\u0275prov:Re}),h0=Re({\u0275inj:Re}),Z0=Re({ngInjectableDef:Re}),Xx=Re({ngInjectorDef:Re}),z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function X0(t){return t&&!!t.\u0275providers}var eR=Re({\u0275cmp:Re}),tR=Re({\u0275dir:Re}),nR=Re({\u0275pipe:Re}),rR=Re({\u0275mod:Re}),cl=Re({\u0275fac:Re}),_a=Re({__NG_ELEMENT_ID__:Re}),f0=Re({__NG_ENV_ID__:Re});function zo(t){return typeof t=="string"?t:t==null?"":String(t)}function iR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():zo(t)}function oR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function pg(t,e){throw new G(-201,!1)}var he=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(he||{}),Ip;function eE(){return Ip}function Xt(t){let e=Ip;return Ip=t,e}function tE(t,e,n){let r=xl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&he.Optional)return null;if(e!==void 0)return e;pg(t,"Injector")}var sR={},wa=sR,Ep="__NG_DI_FLAG__",ul="ngTempTokenPath",aR="ngTokenPath",cR=/\n/gm,uR="\u0275",p0="__source",$o;function lR(){return $o}function Ur(t){let e=$o;return $o=t,e}function dR(t,e=he.Default){if($o===void 0)throw new G(-203,!1);return $o===null?tE(t,void 0,e):$o.get(t,e&he.Optional?null:void 0,e)}function Y(t,e=he.Default){return(eE()||dR)(Ot(t),e)}function k(t,e=he.Default){return Y(t,Rl(e))}function Rl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bp(t){let e=[];for(let n=0;n<t.length;n++){let r=Ot(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=he.Default;for(let s=0;s<r.length;s++){let a=r[s],u=hR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function nE(t,e){return t[Ep]=e,t.prototype[Ep]=e,t}function hR(t){return t[Ep]}function fR(t,e,n,r){let i=t[ul];throw e[p0]&&i.unshift(e[p0]),t.message=pR(`
`+t.message,i,n,r),t[aR]=i,t[ul]=null,t}function pR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==uR?t.slice(2):t;let i=kt(e);if(Array.isArray(e))i=e.map(kt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):kt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cR,`
  `)}`}var Ct=nE(K0("Optional"),8);var gg=nE(K0("SkipSelf"),4);function Ho(t,e){let n=t.hasOwnProperty(cl);return n?t[cl]:null}function gR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function mR(t){return t.flat(Number.POSITIVE_INFINITY)}function mg(t,e){t.forEach(n=>Array.isArray(n)?mg(n,e):e(n))}function rE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ll(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function vR(t,e,n){let r=Ra(t,e);return r>=0?t[r|1]=n:(r=~r,yR(t,r,e,n)),r}function sp(t,e){let n=Ra(t,e);if(n>=0)return t[n|1]}function Ra(t,e){return _R(t,e,1)}function _R(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Go={},en=[],Wo=new z(""),iE=new z("",-1),oE=new z(""),dl=class{get(e,n=wa){if(n===wa){let r=new Error(`NullInjectorError: No provider for ${kt(e)}!`);throw r.name="NullInjectorError",r}return n}},sE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(sE||{}),xn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xn||{}),ft=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ft||{});function wR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Cp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];IR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function aE(t){return t===3||t===4||t===6}function IR(t){return t.charCodeAt(0)===64}function Ia(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?g0(t,n,i,null,e[++r]):g0(t,n,i,null,null))}}return t}function g0(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var cE="ng-template";function ER(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&wR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(yg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function yg(t){return t.type===4&&t.value!==cE}function bR(t,e,n){let r=t.type===4&&!n?cE:t.value;return e===r}function CR(t,e,n){let r=4,i=t.attrs,o=i!==null?AR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!dn(r)&&!dn(u))return!1;if(s&&dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!bR(t,u,n)||u===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!ER(t,i,u,n)){if(dn(r))return!1;s=!0}}else{let l=e[++a],h=DR(u,i,yg(t),n);if(h===-1){if(dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(t){return(t&1)===0}function DR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return SR(e,t)}function TR(t,e,n=!1){for(let r=0;r<e.length;r++)if(CR(t,e[r],n))return!0;return!1}function AR(t){for(let e=0;e<t.length;e++){let n=t[e];if(aE(n))return e}return t.length}function SR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function m0(t,e){return t?":not("+e.trim()+")":e}function MR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=m0(o,i),i=""),r=s,o=o||!dn(r);n++}return i!==""&&(e+=m0(o,i)),e}function xR(t){return t.map(MR).join(",")}function RR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ve(t){return xa(()=>{let e=fE(t),n=Me(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xn.Emulated,styles:t.styles||en,_:null,schemas:t.schemas||null,tView:null,id:""});pE(n);let r=t.dependencies;return n.directiveDefs=v0(r,!1),n.pipeDefs=v0(r,!0),n.id=OR(n),n})}function PR(t){return $r(t)||uE(t)}function NR(t){return t!==null}function kn(t){return xa(()=>({type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function y0(t,e){if(t==null)return Go;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ft.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ft.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Le(t){return xa(()=>{let e=fE(t);return pE(e),e})}function $r(t){return t[eR]||null}function uE(t){return t[tR]||null}function lE(t){return t[nR]||null}function dE(t){let e=$r(t)||uE(t)||lE(t);return e!==null?e.standalone:!1}function hE(t,e){let n=t[rR]||null;if(!n&&e===!0)throw new Error(`Type ${kt(t)} does not have '\u0275mod' property.`);return n}function fE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Go,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:y0(t.inputs,e),outputs:y0(t.outputs),debugInfo:null}}function pE(t){t.features?.forEach(e=>e(t))}function v0(t,e){if(!t)return null;let n=e?lE:PR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(NR)}function OR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tn(t){return{\u0275providers:t}}function kR(...t){return{\u0275providers:gE(!0,t),\u0275fromNgModule:!0}}function gE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return mg(e,s=>{let a=s;Dp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&mE(i,o),n}function mE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];vg(i,o=>{e(o,r)})}}function Dp(t,e,n,r){if(t=Ot(t),!t)return!1;let i=null,o=d0(t),s=!o&&$r(t);if(!o&&!s){let u=t.ngModule;if(o=d0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Dp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{mg(o.imports,h=>{Dp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&mE(l,e)}if(!a){let l=Ho(i)||(()=>new i);e({provide:i,useFactory:l,deps:en},i),e({provide:oE,useValue:i,multi:!0},i),e({provide:Wo,useValue:()=>Y(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;vg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function vg(t,e){for(let n of t)X0(n)&&(n=n.\u0275providers),Array.isArray(n)?vg(n,e):e(n)}var FR=Re({provide:String,useValue:Re});function yE(t){return t!==null&&typeof t=="object"&&FR in t}function LR(t){return!!(t&&t.useExisting)}function VR(t){return!!(t&&t.useFactory)}function Ko(t){return typeof t=="function"}function jR(t){return!!t.useClass}var Pl=new z(""),nl={},UR={},ap;function _g(){return ap===void 0&&(ap=new dl),ap}var Ft=class{},Ea=class extends Ft{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ap(e,s=>this.processProvider(s)),this.records.set(iE,Vo(void 0,this)),i.has("environment")&&this.records.set(Ft,Vo(void 0,this));let o=this.records.get(Pl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(oE,en,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ur(this),r=Xt(void 0),i;try{return e()}finally{Ur(n),Xt(r)}}get(e,n=wa,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(f0))return e[f0](this);r=Rl(r);let i,o=Ur(this),s=Xt(void 0);try{if(!(r&he.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=HR(e)&&xl(e);l&&this.injectableDefInScope(l)?u=Vo(Tp(e),nl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&he.Self?_g():this.parent;return n=r&he.Optional&&n===wa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ul]=a[ul]||[]).unshift(kt(e)),o)throw a;return fR(a,e,"R3InjectorError",this.source)}else throw a}finally{Xt(s),Ur(o)}}resolveInjectorInitializers(){let e=Ce(null),n=Ur(this),r=Xt(void 0),i;try{let o=this.get(Wo,en,he.Self);for(let s of o)s()}finally{Ur(n),Xt(r),Ce(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(kt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Ot(e);let n=Ko(e)?e:Ot(e&&e.provide),r=$R(e);if(!Ko(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Vo(void 0,nl,!0),i.factory=()=>bp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ce(null);try{return n.value===nl&&(n.value=UR,n.value=n.factory()),typeof n.value=="object"&&n.value&&zR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ce(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ot(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Tp(t){let e=xl(t),n=e!==null?e.factory:Ho(t);if(n!==null)return n;if(t instanceof z)throw new G(204,!1);if(t instanceof Function)return BR(t);throw new G(204,!1)}function BR(t){if(t.length>0)throw new G(204,!1);let n=Zx(t);return n!==null?()=>n.factory(t):()=>new t}function $R(t){if(yE(t))return Vo(void 0,t.useValue);{let e=vE(t);return Vo(e,nl)}}function vE(t,e,n){let r;if(Ko(t)){let i=Ot(t);return Ho(i)||Tp(i)}else if(yE(t))r=()=>Ot(t.useValue);else if(VR(t))r=()=>t.useFactory(...bp(t.deps||[]));else if(LR(t))r=()=>Y(Ot(t.useExisting));else{let i=Ot(t&&(t.useClass||t.provide));if(qR(t))r=()=>new i(...bp(t.deps));else return Ho(i)||Tp(i)}return r}function Vo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qR(t){return!!t.deps}function zR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function HR(t){return typeof t=="function"||typeof t=="object"&&t instanceof z}function Ap(t,e){for(let n of t)Array.isArray(n)?Ap(n,e):n&&X0(n)?Ap(n.\u0275providers,e):e(n)}function mn(t,e){t instanceof Ea&&t.assertNotDestroyed();let n,r=Ur(t),i=Xt(void 0);try{return e()}finally{Ur(r),Xt(i)}}function _E(){return eE()!==void 0||lR()!=null}function GR(t){if(!_E())throw new G(-203,!1)}function WR(t){return typeof t=="function"}var sr=0,le=1,ee=2,pt=3,hn=4,yn=5,hl=6,ba=7,fn=8,Qo=9,pn=10,Ye=11,Ca=12,_0=13,Xo=14,Rn=15,Pa=16,jo=17,rr=18,Nl=19,wE=20,Br=21,cp=22,Fi=23,qr=25,IE=1;var Li=7,fl=8,Yo=9,Gt=10,wg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(wg||{});function Oi(t){return Array.isArray(t)&&typeof t[IE]=="object"}function ar(t){return Array.isArray(t)&&t[IE]===!0}function EE(t){return(t.flags&4)!==0}function Ol(t){return t.componentOffset>-1}function Ig(t){return(t.flags&1)===1}function zr(t){return!!t.template}function KR(t){return(t[ee]&512)!==0}var Sp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function bE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function cr(){return CE}function CE(t){return t.type.prototype.ngOnChanges&&(t.setInput=YR),QR}cr.ngInherit=!0;function QR(){let t=TE(this),e=t?.current;if(e){let n=t.previous;if(n===Go)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function YR(t,e,n,r,i){let o=this.declaredInputs[r],s=TE(t)||JR(t,{previous:Go,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Sp(l&&l.currentValue,n,u===Go),bE(t,e,i,n)}var DE="__ngSimpleChanges__";function TE(t){return t[DE]||null}function JR(t,e){return t[DE]=e}var w0=null;var Sn=function(t,e,n){w0?.(t,e,n)},ZR="svg",XR="math",eP=!1;function tP(){return eP}function Pn(t){for(;Array.isArray(t);)t=t[sr];return t}function AE(t,e){return Pn(e[t])}function nn(t,e){return Pn(e[t.index])}function SE(t,e){return t.data[e]}function Wr(t,e){let n=e[t];return Oi(n)?n:n[sr]}function nP(t){return(t[ee]&4)===4}function Eg(t){return(t[ee]&128)===128}function rP(t){return ar(t[pt])}function pl(t,e){return e==null?null:t[e]}function ME(t){t[jo]=0}function iP(t){t[ee]&1024||(t[ee]|=1024,Eg(t)&&Da(t))}function oP(t,e){for(;t>0;)e=e[Xo],t--;return e}function bg(t){return!!(t[ee]&9216||t[Fi]?.dirty)}function Mp(t){t[pn].changeDetectionScheduler?.notify(1),bg(t)?Da(t):t[ee]&64&&(tP()?(t[ee]|=1024,Da(t)):t[pn].changeDetectionScheduler?.notify())}function Da(t){t[pn].changeDetectionScheduler?.notify();let e=Ta(t);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!Eg(e)));)e=Ta(e)}function xE(t,e){if((t[ee]&256)===256)throw new G(911,!1);t[Br]===null&&(t[Br]=[]),t[Br].push(e)}function sP(t,e){if(t[Br]===null)return;let n=t[Br].indexOf(e);n!==-1&&t[Br].splice(n,1)}function Ta(t){let e=t[pt];return ar(e)?e[pt]:e}var de={lFrame:VE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function aP(){return de.lFrame.elementDepthCount}function cP(){de.lFrame.elementDepthCount++}function uP(){de.lFrame.elementDepthCount--}function RE(){return de.bindingsEnabled}function lP(){return de.skipHydrationRootTNode!==null}function dP(t){return de.skipHydrationRootTNode===t}function hP(){de.skipHydrationRootTNode=null}function Ee(){return de.lFrame.lView}function gt(){return de.lFrame.tView}function Oe(t){return de.lFrame.contextLView=t,t[fn]}function ke(t){return de.lFrame.contextLView=null,t}function Lt(){let t=PE();for(;t!==null&&t.type===64;)t=t.parent;return t}function PE(){return de.lFrame.currentTNode}function fP(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Na(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function NE(){return de.lFrame.isParent}function pP(){de.lFrame.isParent=!1}function gP(){let t=de.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mP(){return de.lFrame.bindingIndex}function yP(t){return de.lFrame.bindingIndex=t}function kl(){return de.lFrame.bindingIndex++}function OE(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vP(){return de.lFrame.inI18n}function _P(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,xp(e)}function wP(){return de.lFrame.currentDirectiveIndex}function xp(t){de.lFrame.currentDirectiveIndex=t}function IP(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function kE(){return de.lFrame.currentQueryIndex}function Cg(t){de.lFrame.currentQueryIndex=t}function EP(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[yn]:null}function FE(t,e,n){if(n&he.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&he.Host);)if(i=EP(o),i===null||(o=o[Xo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=de.lFrame=LE();return r.currentTNode=e,r.lView=t,!0}function Dg(t){let e=LE(),n=t[le];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function LE(){let t=de.lFrame,e=t===null?null:t.child;return e===null?VE(t):e}function VE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function jE(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var UE=jE;function Tg(){let t=jE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bP(t){return(de.lFrame.contextLView=oP(t,de.lFrame.contextLView))[fn]}function Hi(){return de.lFrame.selectedIndex}function Vi(t){de.lFrame.selectedIndex=t}function Fl(){let t=de.lFrame;return SE(t.tView,t.selectedIndex)}function CP(){return de.lFrame.currentNamespace}var BE=!0;function Ag(){return BE}function Sg(t){BE=t}function DP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=CE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Mg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function rl(t,e,n){$E(t,e,3,n)}function il(t,e,n,r){(t[ee]&3)===n&&$E(t,e,n,r)}function up(t,e){let n=t[ee];(n&3)===e&&(n&=16383,n+=1,t[ee]=n)}function $E(t,e,n,r){let i=r!==void 0?t[jo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[jo]+=65536),(a<o||o==-1)&&(TP(t,n,e,u),t[jo]=(t[jo]&4294901760)+u+2),u++}function I0(t,e){Sn(4,t,e);let n=Ce(null);try{e.call(t)}finally{Ce(n),Sn(5,t,e)}}function TP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ee]>>14<t[jo]>>16&&(t[ee]&3)===e&&(t[ee]+=16384,I0(a,o)):I0(a,o)}var qo=-1,ji=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function AP(t){return t instanceof ji}function SP(t){return(t.flags&8)!==0}function MP(t){return(t.flags&16)!==0}function qE(t){return t!==qo}function gl(t){return t&32767}function xP(t){return t>>16}function ml(t,e){let n=xP(t),r=e;for(;n>0;)r=r[Xo],n--;return r}var Rp=!0;function E0(t){let e=Rp;return Rp=t,e}var RP=256,zE=RP-1,HE=5,PP=0,Mn={};function NP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(_a)&&(r=n[_a]),r==null&&(r=n[_a]=PP++);let i=r&zE,o=1<<i;e.data[t+(i>>HE)]|=o}function yl(t,e){let n=GE(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,lp(r.data,t),lp(e,null),lp(r.blueprint,null));let i=xg(t,e),o=t.injectorIndex;if(qE(i)){let s=gl(i),a=ml(i,e),u=a[le].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function lp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function GE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function xg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=JE(i),r===null)return qo;if(n++,i=i[Xo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return qo}function Pp(t,e,n){NP(t,e,n)}function OP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(aE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function WE(t,e,n){if(n&he.Optional||t!==void 0)return t;pg(e,"NodeInjector")}function KE(t,e,n,r){if(n&he.Optional&&r===void 0&&(r=null),!(n&(he.Self|he.Host))){let i=t[Qo],o=Xt(void 0);try{return i?i.get(e,r,n&he.Optional):tE(e,r,n&he.Optional)}finally{Xt(o)}}return WE(r,e,n)}function QE(t,e,n,r=he.Default,i){if(t!==null){if(e[ee]&2048&&!(r&he.Self)){let s=VP(t,e,n,r,Mn);if(s!==Mn)return s}let o=YE(t,e,n,r,Mn);if(o!==Mn)return o}return KE(e,n,r,i)}function YE(t,e,n,r,i){let o=FP(n);if(typeof o=="function"){if(!FE(e,t,r))return r&he.Host?WE(i,n,r):KE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&he.Optional))pg(n);else return s}finally{UE()}}else if(typeof o=="number"){let s=null,a=GE(t,e),u=qo,l=r&he.Host?e[Rn][yn]:null;for((a===-1||r&he.SkipSelf)&&(u=a===-1?xg(t,e):e[a+8],u===qo||!C0(r,!1)?a=-1:(s=e[le],a=gl(u),e=ml(u,e)));a!==-1;){let h=e[le];if(b0(o,a,h.data)){let p=kP(a,e,n,s,r,l);if(p!==Mn)return p}u=e[a+8],u!==qo&&C0(r,e[le].data[a+8]===l)&&b0(o,a,e)?(s=h,a=gl(u),e=ml(u,e)):a=-1}}return i}function kP(t,e,n,r,i,o){let s=e[le],a=s.data[t+8],u=r==null?Ol(a)&&Rp:r!=s&&(a.type&3)!==0,l=i&he.Host&&o===a,h=ol(a,s,n,u,l);return h!==null?Ui(e,s,h,a):Mn}function ol(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let I=p;I<m;I++){let x=s[I];if(I<u&&n===x||I>=u&&x.type===n)return I}if(i){let I=s[u];if(I&&zr(I)&&I.type===n)return u}return null}function Ui(t,e,n,r){let i=t[n],o=e.data;if(AP(i)){let s=i;s.resolving&&oR(iR(o[n]));let a=E0(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Xt(s.injectImpl):null,h=FE(t,r,he.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&DP(n,o[n],e)}finally{l!==null&&Xt(l),E0(a),s.resolving=!1,UE()}}return i}function FP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(_a)?t[_a]:void 0;return typeof e=="number"?e>=0?e&zE:LP:e}function b0(t,e,n){let r=1<<t;return!!(n[e+(t>>HE)]&r)}function C0(t,e){return!(t&he.Self)&&!(t&he.Host&&e)}var ki=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return QE(this._tNode,this._lView,e,Rl(r),n)}};function LP(){return new ki(Lt(),Ee())}function ur(t){return xa(()=>{let e=t.prototype.constructor,n=e[cl]||Np(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[cl]||Np(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Np(t){return Q0(t)?()=>{let e=Np(Ot(t));return e&&e()}:Ho(t)}function VP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!(s[ee]&512);){let a=YE(o,s,n,r|he.Self,Mn);if(a!==Mn)return a;let u=o.parent;if(!u){let l=s[wE];if(l){let h=l.get(n,Mn,r);if(h!==Mn)return h}u=JE(s),s=s[Xo]}o=u}return i}function JE(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[yn]:null}function Rg(t){return OP(Lt(),t)}function D0(t,e=null,n=null,r){let i=ZE(t,e,n,r);return i.resolveInjectorInitializers(),i}function ZE(t,e=null,n=null,r,i=new Set){let o=[n||en,kR(t)];return r=r||(typeof t=="object"?void 0:kt(t)),new Ea(o,e||_g(),r||null,i)}var Dt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return D0({name:""},i,r,"");{let o=r.name??"";return D0({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=wa,e.NULL=new dl,e.\u0275prov=H({token:e,providedIn:"any",factory:()=>Y(iE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var jP="ngOriginalError";function dp(t){return t[jP]}var Nn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&dp(e);for(;n&&dp(n);)n=dp(n);return n||null}},XE=new z("",{providedIn:"root",factory:()=>k(Nn).handleError.bind(void 0)}),Pg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Op=class extends Pg{constructor(e){super(),this._lView=e}onDestroy(e){return xE(this._lView,e),()=>sP(this._lView,e)}};function UP(){return new Op(Ee())}function BP(){return es(Lt(),Ee())}function es(t,e){return new Tt(nn(t,e))}var Tt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=BP;let t=e;return t})();function $P(t){return t instanceof Tt?t.nativeElement:t}var kp=class extends bt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,_E()&&(this.destroyRef=k(Pg,{optional:!0})??void 0)}emit(e){let n=Ce(null);try{super.next(e)}finally{Ce(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=hp(o),i&&(i=hp(i)),s&&(s=hp(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ge&&e.add(a),a}};function hp(t){return e=>{setTimeout(t,void 0,e)}}var qe=kp;function qP(){return this._results[Symbol.iterator]()}var Fp=class t{get changes(){return this._changes??=new qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=qP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=mR(e);(this._changesDetected=!gR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function eb(t){return(t.flags&128)===128}var tb=new Map,zP=0;function HP(){return zP++}function GP(t){tb.set(t[Nl],t)}function WP(t){tb.delete(t[Nl])}var T0="__ngContext__";function Bi(t,e){Oi(e)?(t[T0]=e[Nl],GP(e)):t[T0]=e}function nb(t){return ib(t[Ca])}function rb(t){return ib(t[hn])}function ib(t){for(;t!==null&&!ar(t);)t=t[hn];return t}var Lp;function ob(t){Lp=t}function KP(){if(Lp!==void 0)return Lp;if(typeof document<"u")return document;throw new G(210,!1)}var Ng=new z("",{providedIn:"root",factory:()=>QP}),QP="ng",Og=new z(""),rn=new z("",{providedIn:"platform",factory:()=>"unknown"});var kg=new z("",{providedIn:"root",factory:()=>KP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var YP="h",JP="b";var ZP=()=>null;function Fg(t,e,n=!1){return ZP(t,e,n)}var sb=!1,XP=new z("",{providedIn:"root",factory:()=>sb});var Zu;function eN(){if(Zu===void 0&&(Zu=null,nr.trustedTypes))try{Zu=nr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zu}function tN(t){return eN()?.createScriptURL(t)||t}var Xu;function nN(){if(Xu===void 0&&(Xu=null,nr.trustedTypes))try{Xu=nr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xu}function A0(t){return nN()?.createScriptURL(t)||t}var vl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${W0})`}};function Oa(t){return t instanceof vl?t.changingThisBreaksApplicationSecurity:t}function Lg(t,e){let n=rN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${W0})`)}return n===e}function rN(t){return t instanceof vl&&t.getTypeName()||null}var iN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ab(t){return t=String(t),t.match(iN)?t:"unsafe:"+t}var Ll=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ll||{});function ka(t){let e=ub();return e?e.sanitize(Ll.URL,t)||"":Lg(t,"URL")?Oa(t):ab(zo(t))}function oN(t){let e=ub();if(e)return A0(e.sanitize(Ll.RESOURCE_URL,t)||"");if(Lg(t,"ResourceURL"))return A0(Oa(t));throw new G(904,!1)}function Vl(t){return tN(t[0])}function sN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oN:ka}function cb(t,e,n){return sN(e,n)(t)}function ub(){let t=Ee();return t&&t[pn].sanitizer}function lb(t){return t instanceof Function?t():t}function aN(t){return(t??k(Dt)).get(rn)==="browser"}var ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ir||{}),cN;function Vg(t,e){return cN(t,e)}function Uo(t,e,n,r,i){if(r!=null){let o,s=!1;ar(r)?o=r:Oi(r)&&(s=!0,r=r[sr]);let a=Pn(r);t===0&&n!==null?i==null?gb(e,n,a):_l(e,n,a,i||null,!0):t===1&&n!==null?_l(e,n,a,i||null,!0):t===2?DN(e,a,s):t===3&&e.destroyNode(a),o!=null&&AN(e,t,o,n,i)}}function uN(t,e){return t.createText(e)}function lN(t,e,n){t.setValue(e,n)}function db(t,e,n){return t.createElement(e,n)}function dN(t,e){hb(t,e),e[sr]=null,e[yn]=null}function hN(t,e,n,r,i,o){r[sr]=i,r[yn]=e,jl(t,r,n,1,i,o)}function hb(t,e){e[pn].changeDetectionScheduler?.notify(1),jl(t,e,e[Ye],2,null,null)}function fN(t){let e=t[Ca];if(!e)return fp(t[le],t);for(;e;){let n=null;if(Oi(e))n=e[Ca];else{let r=e[Gt];r&&(n=r)}if(!n){for(;e&&!e[hn]&&e!==t;)Oi(e)&&fp(e[le],e),e=e[pt];e===null&&(e=t),Oi(e)&&fp(e[le],e),n=e&&e[hn]}e=n}}function pN(t,e,n,r){let i=Gt+r,o=n.length;r>0&&(n[i-1][hn]=e),r<o-Gt?(e[hn]=n[i],rE(n,Gt+r,e)):(n.push(e),e[hn]=null),e[pt]=n;let s=e[Pa];s!==null&&n!==s&&gN(s,e);let a=e[rr];a!==null&&a.insertView(t),Mp(e),e[ee]|=128}function gN(t,e){let n=t[Yo],i=e[pt][pt][Rn];e[Rn]!==i&&(t[ee]|=wg.HasTransplantedViews),n===null?t[Yo]=[e]:n.push(e)}function fb(t,e){let n=t[Yo],r=n.indexOf(e);n.splice(r,1)}function Vp(t,e){if(t.length<=Gt)return;let n=Gt+e,r=t[n];if(r){let i=r[Pa];i!==null&&i!==t&&fb(i,r),e>0&&(t[n-1][hn]=r[hn]);let o=ll(t,Gt+e);dN(r[le],r);let s=o[rr];s!==null&&s.detachView(o[le]),r[pt]=null,r[hn]=null,r[ee]&=-129}return r}function pb(t,e){if(!(e[ee]&256)){let n=e[Ye];n.destroyNode&&jl(t,e,n,3,null,null),fN(e)}}function fp(t,e){if(e[ee]&256)return;let n=Ce(null);try{e[ee]&=-129,e[ee]|=256,e[Fi]&&LI(e[Fi]),yN(t,e),mN(t,e),e[le].type===1&&e[Ye].destroy();let r=e[Pa];if(r!==null&&ar(e[pt])){r!==e[pt]&&fb(r,e);let i=e[rr];i!==null&&i.detachView(t)}WP(e)}finally{Ce(n)}}function mN(t,e){let n=t.cleanup,r=e[ba];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ba]=null);let i=e[Br];if(i!==null){e[Br]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function yN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ji)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Sn(4,a,u);try{u.call(a)}finally{Sn(5,a,u)}}else{Sn(4,i,o);try{o.call(i)}finally{Sn(5,i,o)}}}}}function vN(t,e,n){return _N(t,e.parent,n)}function _N(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[sr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===xn.None||o===xn.Emulated)return null}return nn(r,n)}}function _l(t,e,n,r,i){t.insertBefore(e,n,r,i)}function gb(t,e,n){t.appendChild(e,n)}function S0(t,e,n,r,i){r!==null?_l(t,e,n,r,i):gb(t,e,n)}function wN(t,e,n,r){t.removeChild(e,n,r)}function jg(t,e){return t.parentNode(e)}function IN(t,e){return t.nextSibling(e)}function EN(t,e,n){return CN(t,e,n)}function bN(t,e,n){return t.type&40?nn(t,n):null}var CN=bN,M0;function Ug(t,e,n,r){let i=vN(t,r,e),o=e[Ye],s=r.parent||e[yn],a=EN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)S0(o,i,n[u],a,!1);else S0(o,i,n,a,!1);M0!==void 0&&M0(o,r,e,n,i)}function sl(t,e){if(e!==null){let n=e.type;if(n&3)return nn(e,t);if(n&4)return jp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return sl(t,r);{let i=t[e.index];return ar(i)?jp(-1,i):Pn(i)}}else{if(n&32)return Vg(e,t)()||Pn(t[e.index]);{let r=mb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ta(t[Rn]);return sl(i,r)}else return sl(t,e.next)}}}return null}function mb(t,e){if(e!==null){let r=t[Rn][yn],i=e.projection;return r.projection[i]}return null}function jp(t,e){let n=Gt+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return sl(r,i)}return e[Li]}function DN(t,e,n){let r=jg(t,e);r&&wN(t,r,e,n)}function Bg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Bi(Pn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Bg(t,e,n.child,r,i,o,!1),Uo(e,t,i,a,o);else if(u&32){let l=Vg(n,r),h;for(;h=l();)Uo(e,t,i,h,o);Uo(e,t,i,a,o)}else u&16?TN(t,e,r,n,i,o):Uo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function jl(t,e,n,r,i,o){Bg(n,r,t.firstChild,e,i,o,!1)}function TN(t,e,n,r,i,o){let s=n[Rn],u=s[yn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Uo(e,t,i,h,o)}else{let l=u,h=s[pt];eb(r)&&(l.flags|=128),Bg(t,e,l,h,i,o,!0)}}function AN(t,e,n,r,i){let o=n[Li],s=Pn(n);o!==s&&Uo(e,t,r,o,i);for(let a=Gt;a<n.length;a++){let u=n[a];jl(u[le],u,t,e,r,o)}}function SN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ir.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ir.Important),t.setStyle(n,r,i,o))}}function MN(t,e,n){t.setAttribute(e,"style",n)}function yb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Cp(t,e,r),i!==null&&yb(t,e,i),o!==null&&MN(t,e,o)}var Fn={};function F(t=1){_b(gt(),Ee(),Hi()+t,!1)}function _b(t,e,n,r){if(!r)if((e[ee]&3)===3){let o=t.preOrderCheckHooks;o!==null&&rl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&il(e,o,0,n)}Vi(n)}function $(t,e=he.Default){let n=Ee();if(n===null)return Y(t,e);let r=Lt();return QE(r,n,Ot(t),e)}function wb(){let t="invalid";throw new Error(t)}function Ib(t,e,n,r,i,o){let s=Ce(null);try{let a=null;i&ft.SignalBased&&(a=e[r][Ff]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ft.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):bE(e,a,r,o)}finally{Ce(s)}}function xN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Vi(~i);else{let o=i,s=n[++r],a=n[++r];_P(s,o);let u=e[o];a(2,u)}}}finally{Vi(-1)}}function Ul(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[sr]=i,p[ee]=r|4|128|8|64,(l!==null||t&&t[ee]&2048)&&(p[ee]|=2048),ME(p),p[pt]=p[Xo]=t,p[fn]=n,p[pn]=s||t&&t[pn],p[Ye]=a||t&&t[Ye],p[Qo]=u||t&&t[Qo]||null,p[yn]=o,p[Nl]=HP(),p[hl]=h,p[wE]=l,p[Rn]=e.type==2?t[Rn]:p,p}function Bl(t,e,n,r,i){let o=t.data[e];if(o===null)o=RN(t,e,n,r,i),vP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=fP();o.injectorIndex=s===null?-1:s.injectorIndex}return Na(o,!0),o}function RN(t,e,n,r,i){let o=PE(),s=NE(),a=s?o:o&&o.parent,u=t.data[e]=LN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Eb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bb(t,e,n,r,i){let o=Hi(),s=r&2;try{Vi(-1),s&&e.length>qr&&_b(t,e,qr,!1),Sn(s?2:0,i),n(r,i)}finally{Vi(o),Sn(s?3:1,i)}}function Cb(t,e,n){if(EE(e)){let r=Ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Ce(r)}}}function Db(t,e,n){RE()&&(qN(t,e,n,nn(n,e)),(n.flags&64)===64&&xb(t,e,n))}function Tb(t,e,n=nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Ab(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=$g(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function $g(t,e,n,r,i,o,s,a,u,l,h){let p=qr+r,m=p+i,I=PN(p,m),x=typeof l=="function"?l():l;return I[le]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:h}}function PN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fn);return n}function NN(t,e,n,r){let o=r.get(XP,sb)||n===xn.ShadowDom,s=t.selectRootElement(e,o);return ON(s),s}function ON(t){kN(t)}var kN=()=>null;function FN(t,e,n,r){let i=Nb(e);i.push(n),t.firstCreatePass&&Ob(t).push(r,i.length-1)}function LN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return lP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function x0(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ft.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?R0(r,n,l,a,u):R0(r,n,l,a)}return r}function R0(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function VN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,I=m?m.inputs:null,x=m?m.outputs:null;u=x0(0,p.inputs,h,u,I),l=x0(1,p.outputs,h,l,x);let N=u!==null&&s!==null&&!yg(e)?eO(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function jN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function qg(t,e,n,r,i,o,s,a){let u=nn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(zg(t,n,h,r,i),Ol(e)&&UN(n,e.index)):e.type&3?(r=jN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function UN(t,e){let n=Wr(e,t);n[ee]&16||(n[ee]|=64)}function Sb(t,e,n,r){if(RE()){let i=r===null?null:{"":-1},o=HN(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Mb(t,e,n,s,i,a),i&&GN(n,r,i)}n.mergedAttrs=Ia(n.mergedAttrs,n.attrs)}function Mb(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Pp(yl(n,e),t,r[l].type);KN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Eb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ia(n.mergedAttrs,h.hostAttrs),QN(t,n,e,u,h),WN(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}VN(t,n,o)}function BN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;$N(s)!=a&&s.push(a),s.push(n,r,o)}}function $N(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function qN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ol(n)&&YN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||yl(n,e),Bi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Ui(e,t,a,n);if(Bi(l,e),s!==null&&XN(e,a-i,l,u,n,s),zr(u)){let h=Wr(n.index,e);h[fn]=Ui(e,t,a,n)}}}function xb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=wP();try{Vi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];xp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&zN(u,l)}}finally{Vi(-1),xp(s)}}function zN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(TR(e,s.selectors,!1))if(r||(r=[]),zr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Up(t,e,u)}else r.unshift(s),Up(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Up(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function GN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function WN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zr(e)&&(n[""]=t)}}function KN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function QN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ho(i.type,!0)),s=new ji(o,zr(i),$);t.blueprint[r]=s,n[r]=s,BN(t,e,r,Eb(t,n,i.hostVars,Fn),i)}function YN(t,e,n){let r=nn(e,t),i=Ab(n),o=t[pn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=$l(t,Ul(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function JN(t,e,n,r,i,o){let s=nn(t,e);ZN(e[Ye],s,o,t.value,n,r,i)}function ZN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?zo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function XN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Ib(r,n,u,l,h,p)}}function eO(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Rb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Pb(t,e){let n=t.contentQueries;if(n!==null){let r=Ce(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Cg(o),a.contentQueries(2,e[s],s)}}}finally{Ce(r)}}}function $l(t,e){return t[Ca]?t[_0][hn]=e:t[Ca]=e,t[_0]=e,e}function Bp(t,e,n){Cg(0);let r=Ce(null);try{e(t,n)}finally{Ce(r)}}function Nb(t){return t[ba]||(t[ba]=[])}function Ob(t){return t.cleanup||(t.cleanup=[])}function kb(t,e){let n=t[Qo],r=n?n.get(Nn,null):null;r&&r.handleError(e)}function zg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];Ib(h,l,r,a,u,i)}}function Fb(t,e,n){let r=AE(e,t);lN(t[Ye],r,n)}function tO(t,e){let n=Wr(e,t),r=n[le];nO(r,n);let i=n[sr];i!==null&&n[hl]===null&&(n[hl]=Fg(i,n[Qo])),Hg(r,n,n[fn])}function nO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Hg(t,e,n){Dg(e);try{let r=t.viewQuery;r!==null&&Bp(1,r,n);let i=t.template;i!==null&&bb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[rr]?.finishViewCreation(t),t.staticContentQueries&&Pb(t,e),t.staticViewQueries&&Bp(2,t.viewQuery,n);let o=t.components;o!==null&&rO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ee]&=-5,Tg()}}function rO(t,e){for(let n=0;n<e.length;n++)tO(t,e[n])}function iO(t,e,n,r){let i=Ce(null);try{let o=e.tView,a=t[ee]&4096?4096:16,u=Ul(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Pa]=l;let h=t[rr];return h!==null&&(u[rr]=h.createEmbeddedView(o)),Hg(o,u,n),u}finally{Ce(i)}}function P0(t,e){return!e||e.firstChild===null||eb(t)}function oO(t,e,n,r=!0){let i=e[le];if(pN(i,e,t,n),r){let s=jp(n,t),a=e[Ye],u=jg(a,t[Li]);u!==null&&hN(i,t[yn],a,e,u,s)}let o=e[hl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wl(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Pn(o)),ar(o)&&sO(o,r);let s=n.type;if(s&8)wl(t,e,n.child,r);else if(s&32){let a=Vg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=mb(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ta(e[Rn]);wl(u[le],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function sO(t,e){for(let n=Gt;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&wl(r[le],r,i,e)}t[Li]!==t[sr]&&e.push(t[Li])}var Lb=[];function aO(t){return t[Fi]??cO(t)}function cO(t){let e=Lb.pop()??Object.create(lO);return e.lView=t,e}function uO(t){t.lView[Fi]!==t&&(t.lView=null,Lb.push(t))}var lO=Me(U({},OI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Da(t.lView)},consumerOnSignalRead(){this.lView[Fi]=this}}),Vb=100;function jb(t,e=!0,n=0){let r=t[pn],i=r.rendererFactory,o=!1;o||i.begin?.();try{dO(t,n)}catch(s){throw e&&kb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function dO(t,e){$p(t,e);let n=0;for(;bg(t);){if(n===Vb)throw new G(103,!1);n++,$p(t,1)}}function hO(t,e,n,r){let i=e[ee];if((i&256)===256)return;let o=!1;!o&&e[pn].inlineEffectRunner?.flush(),Dg(e);let s=null,a=null;!o&&fO(t)&&(a=aO(e),s=kI(a));try{ME(e),yP(t.bindingStartIndex),n!==null&&bb(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&rl(e,p,null)}else{let p=t.preOrderHooks;p!==null&&il(e,p,0,null),up(e,0)}if(pO(e),Ub(e,0),t.contentQueries!==null&&Pb(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&rl(e,p)}else{let p=t.contentHooks;p!==null&&il(e,p,1),up(e,1)}xN(t,e);let l=t.components;l!==null&&$b(e,l,0);let h=t.viewQuery;if(h!==null&&Bp(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&rl(e,p)}else{let p=t.viewHooks;p!==null&&il(e,p,2),up(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[cp]){for(let p of e[cp])p();e[cp]=null}o||(e[ee]&=-73)}catch(u){throw Da(e),u}finally{a!==null&&(FI(a,s),uO(a)),Tg()}}function fO(t){return t.type!==2}function Ub(t,e){for(let n=nb(t);n!==null;n=rb(n))for(let r=Gt;r<n.length;r++){let i=n[r];Bb(i,e)}}function pO(t){for(let e=nb(t);e!==null;e=rb(e)){if(!(e[ee]&wg.HasTransplantedViews))continue;let n=e[Yo];for(let r=0;r<n.length;r++){let i=n[r],o=i[pt];iP(i)}}}function gO(t,e,n){let r=Wr(e,t);Bb(r,n)}function Bb(t,e){Eg(t)&&$p(t,e)}function $p(t,e){let r=t[le],i=t[ee],o=t[Fi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Lf(o)),o&&(o.dirty=!1),t[ee]&=-9217,s)hO(r,t,r.template,t[fn]);else if(i&8192){Ub(t,1);let a=r.components;a!==null&&$b(t,a,1)}}function $b(t,e,n){for(let r=0;r<e.length;r++)gO(t,e[r],n)}function Gg(t){for(t[pn].changeDetectionScheduler?.notify();t;){t[ee]|=64;let e=Ta(t);if(KR(t)&&!e)return t;t=e}return null}var $i=class{get rootNodes(){let e=this._lView,n=e[le];return wl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return(this._lView[ee]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pt];if(ar(e)){let n=e[fl],r=n?n.indexOf(this):-1;r>-1&&(Vp(e,r),ll(n,r))}this._attachedToViewContainer=!1}pb(this._lView[le],this._lView)}onDestroy(e){xE(this._lView,e)}markForCheck(){Gg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ee]&=-129}reattach(){Mp(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,jb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,hb(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e,Mp(this._lView)}},qi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vO;let t=e;return t})(),mO=qi,yO=class extends mO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=iO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new $i(i)}};function vO(){return Wg(Lt(),Ee())}function Wg(t,e){return t.type&4?new yO(e,t,es(t,e)):null}var H9=new RegExp(`^(\\d+)*(${JP}|${YP})*(.*)`);var _O=()=>null;function N0(t,e){return _O(t,e)}var Il=class{},qp=class{},El=class{};function wO(t){let e=Error(`No component factory found for ${kt(t)}.`);return e[IO]=t,e}var IO="ngComponent";var zp=class{resolveComponentFactory(e){throw wO(e)}},ql=(()=>{let e=class e{};e.NULL=new zp;let t=e;return t})(),Aa=class{},on=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>EO();let t=e;return t})();function EO(){let t=Ee(),e=Lt(),n=Wr(e.index,t);return(Oi(n)?n:t)[Ye]}var bO=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),pp={};var O0=new Set;function zl(t){O0.has(t)||(O0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function k0(...t){}function CO(){let t=typeof nr.requestAnimationFrame=="function",e=nr[t?"requestAnimationFrame":"setTimeout"],n=nr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=CO().nativeRequestAnimationFrame,AO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,DO,k0,k0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},DO={};function Kg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function TO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(nr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hp(t),t.isCheckStableRunning=!0,Kg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hp(t))}function AO(t){let e=()=>{TO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(SO(a))return n.invokeTask(i,o,s,a);try{return F0(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),L0(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return F0(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),L0(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Hp(t),Kg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Hp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function F0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function L0(t){t._nesting--,Kg(t)}function SO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Bo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Bo||{}),MO={destroy(){}};function Qg(t,e){!e&&GR(Qg);let n=e?.injector??k(Dt);if(!aN(n))return MO;zl("NgAfterNextRender");let r=n.get(Yg),i=r.handler??=new Wp,o=e?.phase??Bo.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(Pg).onDestroy(s),u=mn(n,()=>new Gp(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var Gp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(Ie),this.errorHandler=k(Nn,{optional:!0}),k(Il,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Wp=class{constructor(){this.executingCallbacks=!1,this.buckets={[Bo.EarlyRead]:new Set,[Bo.Write]:new Set,[Bo.MixedReadWrite]:new Set,[Bo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Yg=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Kp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=u0(i,a);else if(o==2){let u=a,l=e[++s];r=u0(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var bl=class extends ql{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$r(e);return new Jo(n,this.ngModule)}};function V0(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function xO(t){let e=t.toLowerCase();return e==="svg"?ZR:e==="math"?XR:null}var Qp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Rl(r);let i=this.injector.get(e,pp,r);return i!==pp||n===pp?i:this.parentInjector.get(e,n,r)}},Jo=class extends El{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=V0(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return V0(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=xR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ce(null);try{i=i||this.ngModule;let s=i instanceof Ft?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Qp(e,s):e,u=a.get(Aa,null);if(u===null)throw new G(407,!1);let l=a.get(bO,null),h=a.get(Yg,null),p=a.get(Il,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",N=r?NN(I,r,this.componentDef.encapsulation,a):db(I,x,xO(x)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let L=null;N!==null&&(L=Fg(N,a,!0));let K=$g(0,null,null,1,0,null,null,null,null,null,null),Q=Ul(null,K,null,R,null,null,m,I,a,null,L);Dg(Q);let X,Pe;try{let ie=this.componentDef,b,y=null;ie.findHostDirectiveDefs?(b=[],y=new Map,ie.findHostDirectiveDefs(ie,b,y),b.push(ie)):b=[ie];let _=RO(Q,N),E=PO(_,N,ie,b,Q,m,I);Pe=SE(K,qr),N&&kO(I,ie,N,r),n!==void 0&&FO(Pe,this.ngContentSelectors,n),X=OO(E,ie,b,y,Q,[LO]),Hg(K,Q,null)}finally{Tg()}return new Yp(this.componentType,X,es(Pe,Q),Q,Pe)}finally{Ce(o)}}},Yp=class extends qp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new $i(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;zg(o[le],o,i,e,n),this.previousInputValues.set(e,n);let s=Wr(this._tNode.index,o);Gg(s)}}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function RO(t,e){let n=t[le],r=qr;return t[r]=e,Bl(n,r,2,"#host",null)}function PO(t,e,n,r,i,o,s){let a=i[le];NO(r,t,e,s);let u=null;e!==null&&(u=Fg(e,i[Qo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Ul(i,Ab(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Up(a,t,r.length-1),$l(i,p),i[t.index]=p}function NO(t,e,n,r){for(let i of t)e.mergedAttrs=Ia(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Kp(e,e.mergedAttrs,!0),n!==null&&vb(r,n,e))}function OO(t,e,n,r,i,o){let s=Lt(),a=i[le],u=nn(s,i);Mb(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=Ui(i,a,p,s);Bi(m,i)}xb(a,i,s),u&&Bi(u,i);let l=Ui(i,a,s.directiveStart+s.componentOffset,s);if(t[fn]=i[fn]=l,o!==null)for(let h of o)h(l,e);return Cb(a,s,i),l}function kO(t,e,n,r){if(r)Cp(t,n,["ng-version","17.3.4"]);else{let{attrs:i,classes:o}=RR(e.selectors[0]);i&&Cp(t,n,i),o&&o.length>0&&yb(t,n,o.join(" "))}}function FO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function LO(){let t=Lt();Mg(Ee()[le],t)}var Kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VO;let t=e;return t})();function VO(){let t=Lt();return zb(t,Ee())}var jO=Kr,qb=class extends jO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return es(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){let e=xg(this._hostTNode,this._hostLView);if(qE(e)){let n=ml(e,this._hostLView),r=gl(e),i=n[le].data[r+8];return new ki(i,n)}else return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=j0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=N0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,P0(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!WR(e),a;if(s)a=n;else{let x=n||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let u=s?e:new Jo($r(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Ft,null);N&&(o=N)}let h=$r(u.componentType??{}),p=N0(this._lContainer,h?.id??null),m=p?.firstChild??null,I=u.create(l,i,m,o);return this.insertImpl(I.hostView,a,P0(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(rP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[pt],l=new qb(u,u[yn],u[pt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return oO(s,i,o,r),e.attachToViewContainerRef(),rE(gp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=j0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Vp(this._lContainer,n);r&&(ll(gp(this._lContainer),n),pb(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=Vp(this._lContainer,n);return r&&ll(gp(this._lContainer),n)!=null?new $i(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function j0(t){return t[fl]}function gp(t){return t[fl]||(t[fl]=[])}function zb(t,e){let n,r=e[t.index];return ar(r)?n=r:(n=Rb(r,e,null,t),e[t.index]=n,$l(e,n)),BO(n,e,t,r),new qb(n,t,e)}function UO(t,e){let n=t[Ye],r=n.createComment(""),i=nn(e,t),o=jg(n,i);return _l(n,o,r,IN(n,i),!1),r}var BO=zO,$O=()=>!1;function qO(t,e,n){return $O(t,e,n)}function zO(t,e,n,r){if(t[Li])return;let i;n.type&8?i=Pn(r):i=UO(e,n),t[Li]=i}var Jp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Zp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Jg(e,n).matches!==null&&this.queries[n].setDirty()}},Cl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=ZO(e):this.predicate=e}},Xp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},eg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,HO(n,o)),this.matchTNodeWithReadOption(e,n,ol(n,e,o,!1,!1))}else r===qi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ol(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Tt||i===Kr||i===qi&&n.type&4)this.addMatch(n.index,-2);else{let o=ol(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function HO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function GO(t,e){return t.type&11?es(t,e):t.type&4?Wg(t,e):null}function WO(t,e,n,r){return n===-1?GO(e,t):n===-2?KO(t,e,r):Ui(t,t[le],n,e)}function KO(t,e,n){if(n===Tt)return es(e,t);if(n===qi)return Wg(e,t);if(n===Kr)return zb(e,t)}function Hb(t,e,n,r){let i=e[rr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(WO(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function tg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Hb(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Gt;p<h.length;p++){let m=h[p];m[Pa]===m[pt]&&tg(m[le],m,l,r)}if(h[Yo]!==null){let p=h[Yo];for(let m=0;m<p.length;m++){let I=p[m];tg(I[le],I,l,r)}}}}}return r}function QO(t,e){return t[rr].queries[e].queryList}function Gb(t,e,n){let r=new Fp((n&4)===4);return FN(t,e,r,r.destroy),(e[rr]??=new Zp).queries.push(new Jp(r))-1}function YO(t,e,n){let r=gt();return r.firstCreatePass&&(Wb(r,new Cl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Gb(r,Ee(),e)}function JO(t,e,n,r){let i=gt();if(i.firstCreatePass){let o=Lt();Wb(i,new Cl(e,n,r),o.index),XO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Gb(i,Ee(),n)}function ZO(t){return t.split(",").map(e=>e.trim())}function Wb(t,e,n){t.queries===null&&(t.queries=new Xp),t.queries.track(new eg(e,n))}function XO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Jg(t,e){return t.queries.getByIndex(e)}function e1(t,e){let n=t[le],r=Jg(n,e);return r.crossesNgTemplate?tg(n,t,e,[]):Hb(n,t,r,e)}function t1(t){return typeof t=="function"&&t[Ff]!==void 0}function Kb(t){return t1(t)&&typeof t.set=="function"}function n1(t){return Object.getPrototypeOf(t.prototype).constructor}function Wt(t){let e=n1(t.type),n=!0,r=[t];for(;e;){let i;if(zr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=el(t.inputs),s.inputTransforms=el(t.inputTransforms),s.declaredInputs=el(t.declaredInputs),s.outputs=el(t.outputs);let a=i.hostBindings;a&&a1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&o1(t,u),l&&s1(t,l),r1(t,i),Yx(t.outputs,i.outputs),zr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Wt&&(n=!1)}}e=Object.getPrototypeOf(e)}i1(r)}function r1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function i1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ia(i.hostAttrs,n=Ia(n,i.hostAttrs))}}function el(t){return t===Go?{}:t===en?[]:t}function o1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function s1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function a1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Zg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Hr=class{},Sa=class{};var ng=class extends Hr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bl(this);let i=hE(e);this._bootstrapComponents=lb(i.bootstrap),this._r3Injector=ZE(e,n,[{provide:Hr,useValue:this},{provide:ql,useValue:this.componentFactoryResolver},...r],kt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},rg=class extends Sa{constructor(e){super(),this.moduleType=e}create(e){return new ng(this.moduleType,e,[])}};var Dl=class extends Hr{constructor(e){super(),this.componentFactoryResolver=new bl(this),this.instance=null;let n=new Ea([...e.providers,{provide:Hr,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],e.parent||_g(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Hl(t,e,n=null){return new Dl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Gi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ht(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qb(t){return u1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function c1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function u1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function l1(t,e,n){return t[e]=n}function Gr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function d1(t,e,n,r){let i=Gr(t,e,n);return Gr(t,e+1,r)||i}function h1(t){return(t.flags&32)===32}function f1(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Bl(e,t,4,s||null,pl(l,a));Sb(e,n,h,pl(l,u)),Mg(e,h);let p=h.tView=$g(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function De(t,e,n,r,i,o,s,a){let u=Ee(),l=gt(),h=t+qr,p=l.firstCreatePass?f1(h,l,u,e,n,r,i,o,s):l.data[h];Na(p,!1);let m=p1(l,u,p,t);Ag()&&Ug(l,u,m,p),Bi(m,u);let I=Rb(m,u,m,p);return u[h]=I,$l(u,I),qO(I,p,u),Ig(p)&&Db(l,u,p),s!=null&&Tb(u,p,a),De}var p1=g1;function g1(t,e,n,r){return Sg(!0),e[Ye].createComment("")}function Fa(t,e,n,r){let i=Ee(),o=kl();if(Gr(i,o,e)){let s=gt(),a=Fl();JN(a,i,t,e,n,r)}return Fa}function Yb(t,e,n,r){return Gr(t,kl(),n)?e+zo(n)+r:Fn}function m1(t,e,n,r,i,o){let s=mP(),a=d1(t,s,n,i);return OE(2),a?e+zo(n)+r+zo(i)+o:Fn}function tl(t,e){return t<<17|e<<2}function zi(t){return t>>17&32767}function y1(t){return(t&2)==2}function v1(t,e){return t&131071|e<<17}function ig(t){return t|2}function Zo(t){return(t&131068)>>2}function mp(t,e){return t&-131069|e<<2}function _1(t){return(t&1)===1}function og(t){return t|1}function w1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=zi(s),u=Zo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ra(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=zi(t[a+1]);t[r+1]=tl(m,a),m!==0&&(t[m+1]=mp(t[m+1],r)),t[a+1]=v1(t[a+1],r)}else t[r+1]=tl(a,0),a!==0&&(t[a+1]=mp(t[a+1],r)),a=r;else t[r+1]=tl(u,0),a===0?a=r:t[u+1]=mp(t[u+1],r),u=r;l&&(t[r+1]=ig(t[r+1])),U0(t,h,r,!0),U0(t,h,r,!1),I1(e,h,t,r,o),s=tl(a,u),o?e.classBindings=s:e.styleBindings=s}function I1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ra(o,e)>=0&&(n[r+1]=og(n[r+1]))}function U0(t,e,n,r){let i=t[n+1],o=e===null,s=r?zi(i):Zo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];E1(u,e)&&(a=!0,t[s+1]=r?og(l):ig(l)),s=r?zi(l):Zo(l)}a&&(t[n+1]=r?ig(i):og(i))}function E1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ra(t,e)>=0:!1}function W(t,e,n){let r=Ee(),i=kl();if(Gr(r,i,e)){let o=gt(),s=Fl();qg(o,s,r,t,e,r[Ye],n,!1)}return W}function B0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";zg(t,n,o[s],s,r)}function ts(t,e){return b1(t,e,null,!0),ts}function b1(t,e,n,r){let i=Ee(),o=gt(),s=OE(2);if(o.firstUpdatePass&&D1(o,t,s,r),e!==Fn&&Gr(i,s,e)){let a=o.data[Hi()];x1(o,a,i,i[Ye],t,i[s+1]=R1(e,n),r,s)}}function C1(t,e){return e>=t.expandoStartIndex}function D1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Hi()],s=C1(t,n);P1(o,r)&&e===null&&!s&&(e=!1),e=T1(i,o,e,r),w1(i,o,e,n,s,r)}}function T1(t,e,n,r){let i=IP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yp(null,t,e,n,r),n=Ma(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=yp(i,t,e,n,r),o===null){let u=A1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=yp(null,t,e,u[1],r),u=Ma(u,e.attrs,r),S1(t,e,r,u))}else o=M1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function A1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Zo(r)!==0)return t[zi(r)]}function S1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[zi(i)]=r}function M1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ma(r,s,n)}return Ma(r,e.attrs,n)}function yp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ma(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ma(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),vR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function x1(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=_1(l)?$0(u,e,n,i,Zo(l),s):void 0;if(!Tl(h)){Tl(o)||y1(l)&&(o=$0(u,null,n,i,a,s));let p=AE(Hi(),n);SN(r,s,p,i,o)}}function $0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Fn&&(m=p?en:void 0);let I=p?sp(m,r):h===r?m:void 0;if(l&&!Tl(I)&&(I=sp(u,r)),Tl(I)&&(a=I,s))return a;let x=t[i+1];i=s?zi(x):Zo(x)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=sp(u,r))}return a}function Tl(t){return t!==void 0}function R1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=kt(Oa(t)))),t}function P1(t,e){return(t.flags&(e?8:16))!==0}function N1(t,e,n,r,i,o){let s=e.consts,a=pl(s,i),u=Bl(e,t,2,r,a);return Sb(e,n,u,pl(s,o)),u.attrs!==null&&Kp(u,u.attrs,!1),u.mergedAttrs!==null&&Kp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function A(t,e,n,r){let i=Ee(),o=gt(),s=qr+t,a=i[Ye],u=o.firstCreatePass?N1(s,o,i,e,n,r):o.data[s],l=O1(o,i,u,a,e,t);i[s]=l;let h=Ig(u);return Na(u,!0),vb(a,l,u),!h1(u)&&Ag()&&Ug(o,i,l,u),aP()===0&&Bi(l,i),cP(),h&&(Db(o,i,u),Cb(o,u,i)),r!==null&&Tb(i,u),A}function M(){let t=Lt();NE()?pP():(t=t.parent,Na(t,!1));let e=t;dP(e)&&hP(),uP();let n=gt();return n.firstCreatePass&&(Mg(n,t),EE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&SP(e)&&B0(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&MP(e)&&B0(n,e,Ee(),e.stylesWithoutHost,!1),M}function ye(t,e,n,r){return A(t,e,n,r),M(),ye}var O1=(t,e,n,r,i,o)=>(Sg(!0),db(r,i,CP()));function it(){return Ee()}var Al="en-US";var k1=Al;function F1(t){typeof t=="string"&&(k1=t.toLowerCase().replace(/_/g,"-"))}function se(t,e,n,r){let i=Ee(),o=gt(),s=Lt();return Jb(o,i,i[Ye],s,t,e,r),se}function L1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ba],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Jb(t,e,n,r,i,o,s){let a=Ig(r),l=t.firstCreatePass&&Ob(t),h=e[fn],p=Nb(e),m=!0;if(r.type&3||s){let N=nn(r,e),R=s?s(N):N,L=p.length,K=s?X=>s(Pn(X[r.index])):r.index,Q=null;if(!s&&a&&(Q=L1(t,e,i,r.index)),Q!==null){let X=Q.__ngLastListenerFn__||Q;X.__ngNextListenerFn__=o,Q.__ngLastListenerFn__=o,m=!1}else{o=z0(r,e,h,o,!1);let X=n.listen(R,i,o);p.push(o,X),l&&l.push(i,K,L,L+1)}}else o=z0(r,e,h,o,!1);let I=r.outputs,x;if(m&&I!==null&&(x=I[i])){let N=x.length;if(N)for(let R=0;R<N;R+=2){let L=x[R],K=x[R+1],Pe=e[L][K].subscribe(o),ie=p.length;p.push(o,Pe),l&&l.push(i,r.index,ie,-(ie+1))}}}function q0(t,e,n,r){let i=Ce(null);try{return Sn(6,e,n),n(r)!==!1}catch(o){return kb(t,o),!1}finally{Sn(7,e,n),Ce(i)}}function z0(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Wr(t.index,e):e;Gg(a);let u=q0(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=q0(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Ae(t=1){return bP(t)}function Xg(t,e,n,r,i){let o=Ee(),s=Yb(o,e,n,r);if(s!==Fn){let a=gt(),u=Fl();qg(a,u,o,t,s,o[Ye],i,!1)}return Xg}function Zb(t,e,n,r){JO(t,e,n,r)}function Xb(t,e,n){YO(t,e,n)}function Gl(t){let e=Ee(),n=gt(),r=kE();Cg(r+1);let i=Jg(n,r);if(t.dirty&&nP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=e1(e,r);t.reset(o,$P),t.notifyOnChanges()}return!0}return!1}function Wl(){return QO(Ee(),kE())}function O(t,e=""){let n=Ee(),r=gt(),i=t+qr,o=r.firstCreatePass?Bl(r,i,1,e,null):r.data[i],s=V1(r,n,o,e,t);n[i]=s,Ag()&&Ug(r,n,s,o),Na(o,!1)}var V1=(t,e,n,r,i)=>(Sg(!0),uN(e[Ye],r));function Vt(t){return tt("",t,""),Vt}function tt(t,e,n){let r=Ee(),i=Yb(r,t,e,n);return i!==Fn&&Fb(r,Hi(),i),tt}function vn(t,e,n,r,i){let o=Ee(),s=m1(o,t,e,n,r,i);return s!==Fn&&Fb(o,Hi(),s),vn}function ot(t,e,n){Kb(e)&&(e=e());let r=Ee(),i=kl();if(Gr(r,i,e)){let o=gt(),s=Fl();qg(o,s,r,t,e,r[Ye],n,!1)}return ot}function mt(t,e){let n=Kb(t);return n&&t.set(e),n}function st(t,e){let n=Ee(),r=gt(),i=Lt();return Jb(r,n,n[Ye],i,t,e),st}function j1(t,e,n){let r=gt();if(r.firstCreatePass){let i=zr(t);sg(n,r.data,r.blueprint,i,!0),sg(e,r.data,r.blueprint,i,!1)}}function sg(t,e,n,r,i){if(t=Ot(t),Array.isArray(t))for(let o=0;o<t.length;o++)sg(t[o],e,n,r,i);else{let o=gt(),s=Ee(),a=Lt(),u=Ko(t)?t:Ot(t.provide),l=vE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ko(t)||!t.multi){let I=new ji(l,i,$),x=_p(u,e,i?h:h+m,p);x===-1?(Pp(yl(a,s),o,u),vp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)):(n[x]=I,s[x]=I)}else{let I=_p(u,e,h+m,p),x=_p(u,e,h,h+m),N=I>=0&&n[I],R=x>=0&&n[x];if(i&&!R||!i&&!N){Pp(yl(a,s),o,u);let L=$1(i?B1:U1,n.length,i,r,l);!i&&R&&(n[x].providerFactory=L),vp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=eC(n[i?x:I],l,!i&&r);vp(o,t,I>-1?I:x,L)}!i&&r&&R&&n[x].componentProviders++}}}function vp(t,e,n,r){let i=Ko(e),o=jR(e);if(i||o){let u=(o?Ot(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function eC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _p(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function U1(t,e,n,r){return ag(this.multi,[])}function B1(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ui(n,n[le],this.providerFactory.index,r);o=a.slice(0,s),ag(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],ag(i,o);return o}function ag(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function $1(t,e,n,r,i){let o=new ji(t,n,$);return o.multi=[],o.index=e,o.componentProviders=0,eC(o,i,r&&!n),o}function lr(t,e=[]){return n=>{n.providersResolver=(r,i)=>j1(r,i?i(t):t,e)}}var q1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=gE(!1,r.type),o=i.length>0?Hl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(Y(Ft))});let t=e;return t})();function je(t){zl("NgStandalone"),t.getStandaloneInjector=e=>e.get(q1).getOrCreateStandaloneInjector(t)}function La(t,e,n,r){return H1(Ee(),gP(),t,e,n,r)}function z1(t,e){let n=t[e];return n===Fn?void 0:n}function H1(t,e,n,r,i,o){let s=e+n;return Gr(t,s,i)?l1(t,s+1,o?r.call(o,i):r(i)):z1(t,s+1)}var or=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},tC=new or("17.3.4"),Kl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var nC=new z("");function Wi(t){return!!t&&typeof t.then=="function"}function rC(t){return!!t&&typeof t.subscribe=="function"}var Ql=new z(""),iC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(Ql,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Wi(s))r.push(s);else if(rC(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Va=new z("");function G1(){VI(()=>{throw new G(600,!1)})}function W1(t){return t.isBoundToModule}function K1(t,e,n){try{let r=n();return Wi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ns=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(XE),this.afterRenderEffectManager=k(Yg),this.externalTestViews=new Set,this.beforeRender=new bt,this.afterTick=new bt,this.componentTypes=[],this.components=[],this.isStable=k(Gi).hasPendingTasks.pipe(ce(r=>!r)),this._injector=k(Ft)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof El;if(!this._injector.get(iC).done){let I=!o&&dE(r),x=!1;throw new G(405,x)}let a;o?a=r:a=this._injector.get(ql).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=W1(a)?void 0:this._injector.get(Hr),l=i||a.selector,h=a.create(Dt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(nC,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),wp(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new G(101,!1);let i=Ce(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Ce(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===Vb)throw new G(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)Q1(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>cg(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>cg(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;wp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Va,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>wp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new G(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Q1(t,e,n){!e&&!cg(t)||Y1(t,n,e)}function cg(t){return bg(t)}function Y1(t,e,n){let r;n?(r=0,t[ee]|=1024):t[ee]&64?r=0:r=1,jb(t,e,r)}var ug=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Yl=(()=>{let e=class e{compileModuleSync(r){return new rg(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=hE(r),s=lb(o.declarations).reduce((a,u)=>{let l=$r(u);return l&&a.push(new Jo(l)),a},[]);return new ug(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var J1=(()=>{let e=class e{constructor(){this.zone=k(Ie),this.applicationRef=k(ns)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z1(t){return[{provide:Ie,useFactory:t},{provide:Wo,multi:!0,useFactory:()=>{let e=k(J1,{optional:!0});return()=>e.initialize()}},{provide:Wo,multi:!0,useFactory:()=>{let e=k(nk);return()=>{e.initialize()}}},{provide:XE,useFactory:X1}]}function X1(){let t=k(Ie),e=k(Nn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function ek(t){let e=Z1(()=>new Ie(tk(t)));return tn([[],e])}function tk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nk=(()=>{let e=class e{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=k(Ie),this.pendingTasks=k(Gi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rk(){return typeof $localize<"u"&&$localize.locale||Al}var em=new z("",{providedIn:"root",factory:()=>k(em,he.Optional|he.SkipSelf)||rk()});var oC=new z("");var al=null;function ik(t=[],e){return Dt.create({name:e,providers:[{provide:Pl,useValue:"platform"},{provide:oC,useValue:new Set([()=>al=null])},...t]})}function ok(t=[]){if(al)return al;let e=ik(t);return al=e,G1(),sk(e),e}function sk(t){t.get(Og,null)?.forEach(n=>n())}var Qr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ak;let t=e;return t})();function ak(t){return ck(Lt(),Ee(),(t&16)===16)}function ck(t,e,n){if(Ol(t)&&!n){let r=Wr(t.index,e);return new $i(r,r)}else if(t.type&47){let r=e[Rn];return new $i(r,e)}return null}var lg=class{constructor(){}supports(e){return Qb(e)}create(e){return new dg(e)}},uk=(t,e)=>e,dg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<H0(r,i,o)?n:r,a=H0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let I=m<o.length?o[m]:o[m]=0,x=I+m;h<=x&&x<l&&(o[m]=I+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Qb(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,c1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new hg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Sl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Sl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},hg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},fg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Sl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new fg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function H0(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function G0(){return new tm([new lg])}var tm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||G0()),deps:[[e,new gg,new Ct]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new G(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:G0});let t=e;return t})();function sC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=ok(r),o=[ek(),...n||[]],a=new Dl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ie);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Nn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:I=>{l.handleError(I)}})});let p=()=>a.destroy(),m=i.get(oC);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),K1(l,u,()=>{let I=a.get(iC);return I.runInitializers(),I.donePromise.then(()=>{let x=a.get(em,Al);F1(x||Al);let N=a.get(ns);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function Yr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function aC(t){let e=$r(t);if(!e)return null;let n=new Jo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var fC=null;function hr(){return fC}function pC(t){fC??=t}var Jl=class{};var At=new z(""),am=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(lk),providedIn:"platform"});let t=e;return t})(),gC=new z(""),lk=(()=>{let e=class e extends am{constructor(){super(),this._doc=k(At),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(r){let i=hr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=hr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function cm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function cC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function dr(t){return t&&t[0]!=="?"?"?"+t:t}var fr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(um),providedIn:"root"});let t=e;return t})(),mC=new z(""),um=(()=>{let e=class e extends fr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return cm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+dr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+dr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+dr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Y(am),Y(mC,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yC=(()=>{let e=class e extends fr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=cm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+dr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+dr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Y(am),Y(mC,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),is=(()=>{let e=class e{constructor(r){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=fk(cC(uC(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+dr(i))}normalize(r){return e.stripTrailingSlash(hk(this._basePath,uC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=dr,e.joinWithSlash=cm,e.stripTrailingSlash=cC,e.\u0275fac=function(i){return new(i||e)(Y(fr))},e.\u0275prov=H({token:e,factory:()=>dk(),providedIn:"root"});let t=e;return t})();function dk(){return new is(Y(fr))}function hk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function uC(t){return t.replace(/\/index.html$/,"")}function fk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Zl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var nm=/\s+/,lC=[],vC=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=lC,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(nm):lC}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(nm):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(nm).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)($(Tt),$(on))},e.\u0275dir=Le({type:e,selectors:[["","ngClass",""]],inputs:{klass:[ft.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var rm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ln=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new rm(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),dC(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);dC(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($(Kr),$(qi),$(tm))},e.\u0275dir=Le({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function dC(t,e){t.context.$implicit=e.item}var St=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new im,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){hC("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){hC("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($(Kr),$(qi))},e.\u0275dir=Le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),im=class{constructor(){this.$implicit=null,this.ngIf=null}};function hC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${kt(e)}'.`)}var nt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=On({});let t=e;return t})(),lm="browser",pk="server";function gk(t){return t===lm}function Xl(t){return t===pk}var _C=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>gk(k(rn))?new om(k(At),window):new sm});let t=e;return t})(),om=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=mk(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function mk(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var sm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},rs=class{};var Ua=class{},td=class{},Ki=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var hm=class{encodeKey(e){return wC(e)}encodeValue(e){return wC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function _k(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var wk=/%(\d[a-f0-9])/gi,Ik={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wC(t){return encodeURIComponent(t).replace(wk,(e,n)=>Ik[n]??e)}function ed(t){return`${t}`}var Jr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new hm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=_k(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(ed):[ed(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ed(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ed(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var fm=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Ek(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function IC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function EC(t){return typeof Blob<"u"&&t instanceof Blob}function bC(t){return typeof FormData<"u"&&t instanceof FormData}function bk(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ja=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Ek(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ki,this.context??=new fm,!this.params)this.params=new Jr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||IC(this.body)||EC(this.body)||bC(this.body)||bk(this.body)?this.body:this.body instanceof Jr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bC(this.body)?null:EC(this.body)?this.body.type||null:IC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Jr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,I)=>m.set(I,e.setHeaders[I]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,I)=>m.set(I,e.setParams[I]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},os=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(os||{}),Ba=class{constructor(e,n=id.Ok,r="OK"){this.headers=e.headers||new Ki,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},pm=class t extends Ba{constructor(e={}){super(e),this.type=os.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},nd=class t extends Ba{constructor(e={}){super(e),this.type=os.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rd=class extends Ba{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},id=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(id||{});function dm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var $a=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof ja)s=r;else{let l;o.headers instanceof Ki?l=o.headers:l=new Ki(o.headers);let h;o.params&&(o.params instanceof Jr?h=o.params:h=new Jr({fromObject:o.params})),s=new ja(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Z(s).pipe(er(l=>this.handler.handle(l)));if(r instanceof ja||o.observe==="events")return a;let u=a.pipe(Ut(l=>l instanceof nd));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(ce(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(ce(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(ce(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(ce(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Jr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,dm(o,i))}post(r,i,o={}){return this.request("POST",r,dm(o,i))}put(r,i,o={}){return this.request("PUT",r,dm(o,i))}};e.\u0275fac=function(i){return new(i||e)(Y(Ua))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function AC(t,e){return e(t)}function Ck(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function Dk(t,e,n){return(r,i)=>mn(n,()=>e(r,o=>t(o,i)))}var Tk=new z(""),gm=new z(""),Ak=new z(""),Sk=new z("");function Mk(){let t=null;return(e,n)=>{t===null&&(t=(k(Tk,{optional:!0})??[]).reduceRight(Ck,AC));let r=k(Gi),i=r.add();return t(e,n).pipe(jr(()=>r.remove(i)))}}var CC=(()=>{let e=class e extends Ua{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=k(Gi);let o=k(Sk,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(gm),...this.injector.get(Ak,[])]));this.chain=o.reduceRight((s,a)=>Dk(s,a,this.injector),AC)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(jr(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(Y(td),Y(Ft))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();var xk=/^\)\]\}',?\n/;function Rk(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var DC=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new G(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ne(i.\u0275loadImpl()):Z(null)).pipe(Bt(()=>new fe(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,L)=>a.setRequestHeader(R,L.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let R=a.statusText||"OK",L=new Ki(a.getAllResponseHeaders()),K=Rk(a)||r.url;return l=new pm({headers:L,status:a.status,statusText:R,url:K}),l},p=()=>{let{headers:R,status:L,statusText:K,url:Q}=h(),X=null;L!==id.NoContent&&(X=typeof a.response>"u"?a.responseText:a.response),L===0&&(L=X?id.Ok:0);let Pe=L>=200&&L<300;if(r.responseType==="json"&&typeof X=="string"){let ie=X;X=X.replace(xk,"");try{X=X!==""?JSON.parse(X):null}catch(b){X=ie,Pe&&(Pe=!1,X={error:b,text:X})}}Pe?(s.next(new nd({body:X,headers:R,status:L,statusText:K,url:Q||void 0})),s.complete()):s.error(new rd({error:X,headers:R,status:L,statusText:K,url:Q||void 0}))},m=R=>{let{url:L}=h(),K=new rd({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:L||void 0});s.error(K)},I=!1,x=R=>{I||(s.next(h()),I=!0);let L={type:os.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(L.total=R.total),r.responseType==="text"&&a.responseText&&(L.partialText=a.responseText),s.next(L)},N=R=>{let L={type:os.UploadProgress,loaded:R.loaded};R.lengthComputable&&(L.total=R.total),s.next(L)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",x),u!==null&&a.upload&&a.upload.addEventListener("progress",N)),a.send(u),s.next({type:os.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",x),u!==null&&a.upload&&a.upload.removeEventListener("progress",N)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(Y(rs))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),SC=new z(""),Pk="XSRF-TOKEN",Nk=new z("",{providedIn:"root",factory:()=>Pk}),Ok="X-XSRF-TOKEN",kk=new z("",{providedIn:"root",factory:()=>Ok}),od=class{},Fk=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(Y(At),Y(rn),Y(Nk))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function Lk(t,e){let n=t.url.toLowerCase();if(!k(SC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k(od).getToken(),i=k(kk);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var MC=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(MC||{});function Vk(t,e){return{\u0275kind:t,\u0275providers:e}}function jk(...t){let e=[$a,DC,CC,{provide:Ua,useExisting:CC},{provide:td,useExisting:DC},{provide:gm,useValue:Lk,multi:!0},{provide:SC,useValue:!0},{provide:od,useClass:Fk}];for(let n of t)e.push(...n.\u0275providers);return tn(e)}var TC=new z("");function Uk(){return Vk(MC.LegacyInterceptors,[{provide:TC,useFactory:Mk},{provide:gm,useExisting:TC,multi:!0}])}var sd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=On({providers:[jk(Uk())]});let t=e;return t})();var vm=class extends Jl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_m=class t extends vm{static makeCurrent(){pC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Bk();return n==null?null:$k(n)}resetBaseElement(){qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zl(document.cookie,e)}},qa=null;function Bk(){return qa=qa||document.querySelector("base"),qa?qa.getAttribute("href"):null}function $k(t){return new URL(t,document.baseURI).pathname}var qk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),wm=new z(""),OC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Y(wm),Y(Ie))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),ad=class{constructor(e){this._doc=e}},mm="ng-app-id",kC=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xl(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${mm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(mm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(mm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Y(At),Y(Ng),Y(kg,8),Y(rn))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),ym={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Em=/%COMP%/g,FC="%COMP%",zk=`_nghost-${FC}`,Hk=`_ngcontent-${FC}`,Gk=!0,Wk=new z("",{providedIn:"root",factory:()=>Gk});function Kk(t){return Hk.replace(Em,t)}function Qk(t){return zk.replace(Em,t)}function LC(t,e){return e.map(n=>n.replace(Em,t))}var RC=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Xl(u),this.defaultRenderer=new za(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===xn.ShadowDom&&(i=Me(U({},i),{encapsulation:xn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof cd?o.applyToHost(r):o instanceof Ha&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case xn.Emulated:s=new cd(l,h,i,this.appId,p,a,u,m);break;case xn.ShadowDom:return new Im(l,h,r,i,a,u,this.nonce,m);default:s=new Ha(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Y(OC),Y(kC),Y(Ng),Y(Wk),Y(At),Y(rn),Y(Ie),Y(kg))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),za=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ym[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(PC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(PC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=ym[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ym[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ir.DashCase|ir.Important)?e.style.setProperty(n,r,i&ir.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ir.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function PC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Im=class extends za{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=LC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ha=class extends za{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?LC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cd=class extends Ha{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=Kk(l),this.hostAttr=Qk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Yk=(()=>{let e=class e extends ad{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(Y(At))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),NC=["alt","control","meta","shift"],Jk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Xk=(()=>{let e=class e extends ad{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),NC.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Jk[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),NC.forEach(a=>{if(a!==o){let u=Zk[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Y(At))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function VC(t,e){return sC(U({rootComponent:t},eF(e)))}function eF(t){return{appProviders:[...oF,...t?.providers??[]],platformProviders:iF}}function tF(){_m.makeCurrent()}function nF(){return new Nn}function rF(){return ob(document),document}var iF=[{provide:rn,useValue:lm},{provide:Og,useValue:tF,multi:!0},{provide:At,useFactory:rF,deps:[]}];var oF=[{provide:Pl,useValue:"root"},{provide:Nn,useFactory:nF,deps:[]},{provide:wm,useClass:Yk,multi:!0,deps:[At,Ie,rn]},{provide:wm,useClass:Xk,multi:!0,deps:[At]},RC,kC,OC,{provide:Aa,useExisting:RC},{provide:rs,useClass:qk,deps:[]},[]];var jC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Y(At))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ue="primary",ac=Symbol("RouteTitle"),Am=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ls(t){return new Am(t)}function aF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function cF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}function Vn(t,e){let n=t?Sm(t):void 0,r=e?Sm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!KC(t[i],e[i]))return!1;return!0}function Sm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function KC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function QC(t){return t.length>0?t[t.length-1]:null}function ni(t){return Xf(t)?t:Wi(t)?Ne(Promise.resolve(t)):Z(t)}var uF={exact:JC,subset:ZC},YC={exact:lF,subset:dF,ignored:()=>!0};function UC(t,e,n){return uF[n.paths](t.root,e.root,n.matrixParams)&&YC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function lF(t,e){return Vn(t,e)}function JC(t,e,n){if(!Yi(t.segments,e.segments)||!dd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!JC(t.children[r],e.children[r],n))return!1;return!0}function dF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>KC(t[n],e[n]))}function ZC(t,e,n){return XC(t,e,e.segments,n)}function XC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Yi(i,n)||e.hasChildren()||!dd(i,n,r))}else if(t.segments.length===n.length){if(!Yi(t.segments,n)||!dd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ZC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Yi(t.segments,i)||!dd(t.segments,i,r)||!t.children[ue]?!1:XC(t.children[ue],e,o,r)}}function dd(t,e,n){return e.every((r,i)=>YC[n](t[i].parameters,r.parameters))}var Zr=class{constructor(e=new Te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){return pF.serialize(this)}},Te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hd(this)}},Qi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ls(this.parameters),this._parameterMap}toString(){return tD(this)}};function hF(t,e){return Yi(t,e)&&t.every((n,r)=>Vn(n.parameters,e[r].parameters))}function Yi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function fF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ue&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ue&&(n=n.concat(e(i,r)))}),n}var cc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new Za,providedIn:"root"});let t=e;return t})(),Za=class{parse(e){let n=new xm(e);return new Zr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ga(e.root,!0)}`,r=yF(e.queryParams),i=typeof e.fragment=="string"?`#${gF(e.fragment)}`:"";return`${n}${r}${i}`}},pF=new Za;function hd(t){return t.segments.map(e=>tD(e)).join("/")}function Ga(t,e){if(!t.hasChildren())return hd(t);if(e){let n=t.children[ue]?Ga(t.children[ue],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${Ga(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=fF(t,(r,i)=>i===ue?[Ga(t.children[ue],!1)]:[`${i}:${Ga(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ue]!=null?`${hd(t)}/${n[0]}`:`${hd(t)}/(${n.join("//")})`}}function eD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ud(t){return eD(t).replace(/%3B/gi,";")}function gF(t){return encodeURI(t)}function Mm(t){return eD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fd(t){return decodeURIComponent(t)}function BC(t){return fd(t.replace(/\+/g,"%20"))}function tD(t){return`${Mm(t.path)}${mF(t.parameters)}`}function mF(t){return Object.entries(t).map(([e,n])=>`;${Mm(e)}=${Mm(n)}`).join("")}function yF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ud(n)}=${ud(i)}`).join("&"):`${ud(n)}=${ud(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var vF=/^[^\/()?;#]+/;function bm(t){let e=t.match(vF);return e?e[0]:""}var _F=/^[^\/()?;=#]+/;function wF(t){let e=t.match(_F);return e?e[0]:""}var IF=/^[^=?&#]+/;function EF(t){let e=t.match(IF);return e?e[0]:""}var bF=/^[^&#]+/;function CF(t){let e=t.match(bF);return e?e[0]:""}var xm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new Te(e,n)),r}parseSegment(){let e=bm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new Qi(fd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=wF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=bm(this.remaining);i&&(r=i,this.capture(r))}e[fd(n)]=fd(r)}parseQueryParam(e){let n=EF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=CF(this.remaining);s&&(r=s,this.capture(r))}let i=BC(n),o=BC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ue]:new Te([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function nD(t){return t.segments.length>0?new Te([],{[ue]:t}):t}function rD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=rD(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Te(t.segments,e);return DF(n)}function DF(t){if(t.numberOfChildren===1&&t.children[ue]){let e=t.children[ue];return new Te(t.segments.concat(e.segments),e.children)}return t}function ds(t){return t instanceof Zr}function TF(t,e,n=null,r=null){let i=iD(t);return oD(i,e,n,r)}function iD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Te(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=nD(r);return e??i}function oD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Cm(i,i,i,n,r);let o=AF(e);if(o.toRoot())return Cm(i,i,new Te([],{}),n,r);let s=SF(o,i,t),a=s.processChildren?Qa(s.segmentGroup,s.index,o.commands):aD(s.segmentGroup,s.index,o.commands);return Cm(i,s.segmentGroup,a,n,r)}function pd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xa(t){return typeof t=="object"&&t!=null&&t.outlets}function Cm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=sD(t,e,n);let a=nD(rD(s));return new Zr(a,o,i)}function sD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=sD(o,e,n)}),new Te(t.segments,r)}var gd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pd(r[0]))throw new G(4003,!1);let i=r.find(Xa);if(i&&i!==QC(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function AF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new gd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new gd(n,e,r)}var cs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function SF(t,e,n){if(t.isAbsolute)return new cs(e,!0,0);if(!n)return new cs(e,!1,NaN);if(n.parent===null)return new cs(n,!0,0);let r=pd(t.commands[0])?0:1,i=n.segments.length-1+r;return MF(n,i,t.numberOfDoubleDots)}function MF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new cs(r,!1,i-o)}function xF(t){return Xa(t[0])?t[0].outlets:{[ue]:t}}function aD(t,e,n){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return Qa(t,e,n);let r=RF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Te(t.segments.slice(0,r.pathIndex),{});return o.children[ue]=new Te(t.segments.slice(r.pathIndex),t.children),Qa(o,0,i)}else return r.match&&i.length===0?new Te(t.segments,{}):r.match&&!t.hasChildren()?Rm(t,e,n):r.match?Qa(t,0,i):Rm(t,e,n)}function Qa(t,e,n){if(n.length===0)return new Te(t.segments,{});{let r=xF(n),i={};if(Object.keys(r).some(o=>o!==ue)&&t.children[ue]&&t.numberOfChildren===1&&t.children[ue].segments.length===0){let o=Qa(t.children[ue],e,n);return new Te(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=aD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(t.segments,i)}}function RF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Xa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!qC(u,l,s))return o;r+=2}else{if(!qC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Rm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Xa(o)){let u=PF(o.outlets);return new Te(r,u)}if(i===0&&pd(n[0])){let u=t.segments[e];r.push(new Qi(u.path,$C(n[0]))),i++;continue}let s=Xa(o)?o.outlets[ue]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&pd(a)?(r.push(new Qi(s,$C(a))),i+=2):(r.push(new Qi(s,{})),i++)}return new Te(r,{})}function PF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Rm(new Te([],{}),0,r))}),e}function $C(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function qC(t,e,n){return t==n.path&&Vn(e,n.parameters)}var Ya="imperative",at=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(at||{}),sn=class{constructor(e,n){this.id=e,this.url=n}},hs=class extends sn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=at.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wn=class extends sn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=at.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qt||{}),md=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(md||{}),Xr=class extends sn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=at.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ei=class extends sn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=at.NavigationSkipped}},ec=class extends sn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=at.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yd=class extends sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=at.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pm=class extends sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=at.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nm=class extends sn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=at.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Om=class extends sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=at.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},km=class extends sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=at.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fm=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lm=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vm=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jm=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Um=class{constructor(e){this.snapshot=e,this.type=at.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bm=class{constructor(e){this.snapshot=e,this.type=at.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=at.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},tc=class{},nc=class{constructor(e){this.url=e}};var $m=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uc,this.attachRef=null}},uc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new $m,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_d=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=qm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=qm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zm(e,this._root).map(n=>n.value)}};function qm(t,e){if(t===e.value)return e;for(let n of e.children){let r=qm(t,n);if(r)return r}return null}function zm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=zm(t,n);if(r.length)return r.unshift(e),r}return[]}var Kt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function as(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var wd=class extends _d{constructor(e,n){super(e),this.snapshot=n,ey(this,e)}toString(){return this.snapshot.toString()}};function cD(t){let e=NF(t),n=new ht([new Qi("",{})]),r=new ht({}),i=new ht({}),o=new ht({}),s=new ht(""),a=new ti(n,r,o,s,i,ue,t,e.root);return a.snapshot=e.root,new wd(new Kt(a,[]),e)}function NF(t){let e={},n={},r={},i="",o=new rc([],e,r,i,n,ue,t,null,{});return new Id("",new Kt(o,[]))}var ti=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[ac]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>ls(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>ls(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&lD(i)&&(r.resolve[ac]=i.title),r}var rc=class{get title(){return this.data?.[ac]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ls(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Id=class extends _d{constructor(e,n){super(n),this.url=e,ey(this,n)}toString(){return uD(this._root)}};function ey(t,e){e.value._routerState=t,e.children.forEach(n=>ey(t,n))}function uD(t){let e=t.children.length>0?` { ${t.children.map(uD).join(", ")} } `:"";return`${t.value}${e}`}function Dm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vn(e.params,n.params)||t.paramsSubject.next(n.params),cF(e.url,n.url)||t.urlSubject.next(n.url),Vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Hm(t,e){let n=Vn(t.params,e.params)&&hF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Hm(t.parent,e.parent))}function lD(t){return typeof t.title=="string"||t.title===null}var ty=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=k(uc),this.location=k(Kr),this.changeDetector=k(Qr),this.environmentInjector=k(Ft),this.inputBinder=k(Td,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Gm(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Le({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]});let t=e;return t})(),Gm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===ti?this.route:e===uc?this.childContexts:this.parent.get(e,n)}},Td=new z(""),zC=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=va([i.queryParams,i.params,i.data]).pipe(Bt(([s,a,u],l)=>(u=U(U(U({},s),a),u),l===0?Z(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=aC(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function OF(t,e,n){let r=ic(t,e._root,n?n._root:void 0);return new wd(r,e)}function ic(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=kF(t,e,n);return new Kt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ic(t,a)),s}}let r=FF(e.value),i=e.children.map(o=>ic(t,o));return new Kt(r,i)}}function kF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ic(t,r,i);return ic(t,r)})}function FF(t){return new ti(new ht(t.url),new ht(t.params),new ht(t.queryParams),new ht(t.fragment),new ht(t.data),t.outlet,t.component,t)}var dD="ngNavigationCancelingError";function hD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ds(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fD(!1,Qt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function fD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[dD]=!0,n.cancellationCode=e,n}function LF(t){return pD(t)&&ds(t.url)}function pD(t){return!!t&&t[dD]}var VF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["ng-component"]],standalone:!0,features:[je],decls:1,vars:0,template:function(i,o){i&1&&ye(0,"router-outlet")},dependencies:[ty],encapsulation:2});let t=e;return t})();function jF(t,e){return t.providers&&!t._injector&&(t._injector=Hl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ny(t){let e=t.children&&t.children.map(ny),n=e?Me(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=VF),n}function jn(t){return t.outlet||ue}function UF(t,e){let n=t.filter(r=>jn(r)===e);return n.push(...t.filter(r=>jn(r)!==e)),n}function lc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var BF=(t,e,n,r)=>ce(i=>(new Wm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Wm=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=as(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=as(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=as(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=as(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Bm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Dm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=lc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Ed=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},us=class{constructor(e,n){this.component=e,this.route=n}};function $F(t,e,n){let r=t._root,i=e?e._root:null;return Wa(r,i,n,[r.value])}function qF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ps(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Y0(t)?t:e.get(t):r}function Wa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=as(e);return t.children.forEach(s=>{zF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ja(a,n.getContext(s),i)),i}function zF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=HF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ed(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Wa(t,e,a?a.children:null,r,i):Wa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new us(a.outlet.component,s))}else s&&Ja(e,a,i),i.canActivateChecks.push(new Ed(r)),o.component?Wa(t,null,a?a.children:null,r,i):Wa(t,null,n,r,i);return i}function HF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Yi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yi(t.url,e.url)||!Vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hm(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!Hm(t,e)}}function Ja(t,e,n){let r=as(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ja(s,e.children.getContext(o),n):Ja(s,null,n):Ja(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new us(e.outlet.component,i)):n.canDeactivateChecks.push(new us(null,i)):n.canDeactivateChecks.push(new us(null,i))}function dc(t){return typeof t=="function"}function GF(t){return typeof t=="boolean"}function WF(t){return t&&dc(t.canLoad)}function KF(t){return t&&dc(t.canActivate)}function QF(t){return t&&dc(t.canActivateChild)}function YF(t){return t&&dc(t.canDeactivate)}function JF(t){return t&&dc(t.canMatch)}function gD(t){return t instanceof Xn||t?.name==="EmptyError"}var ld=Symbol("INITIAL_VALUE");function fs(){return Bt(t=>va(t.map(e=>e.pipe(tr(1),ip(ld)))).pipe(ce(e=>{for(let n of e)if(n!==!0){if(n===ld)return ld;if(n===!1||n instanceof Zr)return n}return!0}),Ut(e=>e!==ld),tr(1)))}function ZF(t,e){return Ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(Me(U({},n),{guardsResult:!0})):XF(s,r,i,t).pipe(Ke(a=>a&&GF(a)?eL(r,o,t,e):Z(a)),ce(a=>Me(U({},n),{guardsResult:a})))})}function XF(t,e,n,r){return Ne(t).pipe(Ke(i=>oL(i.component,i.route,n,e,r)),An(i=>i!==!0,!0))}function eL(t,e,n,r){return Ne(e).pipe(er(i=>Fo(nL(i.route.parent,r),tL(i.route,r),iL(t,i.path,n),rL(t,i.route,n))),An(i=>i!==!0,!0))}function tL(t,e){return t!==null&&e&&e(new Um(t)),Z(!0)}function nL(t,e){return t!==null&&e&&e(new Vm(t)),Z(!0)}function rL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Qu(()=>{let s=lc(e)??n,a=ps(o,s),u=KF(a)?a.canActivate(e,t):mn(s,()=>a(e,t));return ni(u).pipe(An())}));return Z(i).pipe(fs())}function iL(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>qF(s)).filter(s=>s!==null).map(s=>Qu(()=>{let a=s.guards.map(u=>{let l=lc(s.node)??n,h=ps(u,l),p=QF(h)?h.canActivateChild(r,t):mn(l,()=>h(r,t));return ni(p).pipe(An())});return Z(a).pipe(fs())}));return Z(o).pipe(fs())}function oL(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=lc(e)??i,l=ps(a,u),h=YF(l)?l.canDeactivate(t,e,n,r):mn(u,()=>l(t,e,n,r));return ni(h).pipe(An())});return Z(s).pipe(fs())}function sL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=ps(s,t),u=WF(a)?a.canLoad(e,n):mn(t,()=>a(e,n));return ni(u)});return Z(o).pipe(fs(),mD(r))}function mD(t){return Hf(Qe(e=>{if(ds(e))throw hD(t,e)}),ce(e=>e===!0))}function aL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=ps(s,t),u=JF(a)?a.canMatch(e,n):mn(t,()=>a(e,n));return ni(u)});return Z(o).pipe(fs(),mD(r))}var oc=class{constructor(e){this.segmentGroup=e||null}},bd=class extends Error{constructor(e){super(),this.urlTree=e}};function ss(t){return ko(new oc(t))}function cL(t){return ko(new G(4e3,!1))}function uL(t){return ko(fD(!1,Qt.GuardRejected))}var Km=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ue])return cL(e.redirectTo);i=i.children[ue]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new bd(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Zr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Te(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Qm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lL(t,e,n,r,i){let o=ry(t,e,n);return o.matched?(r=jF(e,r),aL(r,e,n,i).pipe(ce(s=>s===!0?o:U({},Qm)))):Z(o)}function ry(t,e,n){if(e.path==="**")return dL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Qm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||aF)(n,t,e);if(!i)return U({},Qm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dL(t){return{matched:!0,parameters:t.length>0?QC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function HC(t,e,n,r){return n.length>0&&pL(t,n,r)?{segmentGroup:new Te(e,fL(r,new Te(n,t.children))),slicedSegments:[]}:n.length===0&&gL(t,n,r)?{segmentGroup:new Te(t.segments,hL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function hL(t,e,n,r){let i={};for(let o of n)if(Ad(t,e,o)&&!r[jn(o)]){let s=new Te([],{});i[jn(o)]=s}return U(U({},r),i)}function fL(t,e){let n={};n[ue]=e;for(let r of t)if(r.path===""&&jn(r)!==ue){let i=new Te([],{});n[jn(r)]=i}return n}function pL(t,e,n){return n.some(r=>Ad(t,e,r)&&jn(r)!==ue)}function gL(t,e,n){return n.some(r=>Ad(t,e,r))}function Ad(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function mL(t,e,n,r){return jn(t)!==r&&(r===ue||!Ad(e,n,t))?!1:ry(e,t,n).matched}function yL(t,e,n){return e.length===0&&!t.children[n]}var Ym=class{};function vL(t,e,n,r,i,o,s="emptyOnly"){return new Jm(t,e,n,r,i,s,o).recognize()}var _L=31,Jm=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Km(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=HC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(n=>{let r=new rc([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},ue,this.rootComponentType,null,{}),i=new Kt(r,n),o=new Id("",i),s=TF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(Lr(r=>{if(r instanceof bd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oc?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Xm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ce(o=>o instanceof Kt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ne(i).pipe(er(o=>{let s=r.children[o],a=UF(n,o);return this.processSegmentGroup(e,a,s,o)}),rp((o,s)=>(o.push(...s),o)),Vr(null),np(),Ke(o=>{if(o===null)return ss(r);let s=yD(o);return wL(s),Z(s)}))}processSegment(e,n,r,i,o,s){return Ne(n).pipe(er(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Lr(u=>{if(u instanceof oc)return Z(null);throw u}))),An(a=>!!a),Lr(a=>{if(gD(a))return yL(r,i,o)?Z(new Ym):ss(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return mL(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):ss(i):ss(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=ry(n,i,o);if(!a)return ss(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_L&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ke(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=lL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Bt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Bt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,I=new rc(h,m,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,EL(r),jn(r),r.component??r._loadedComponent??null,r,bL(r)),{segmentGroup:x,slicedSegments:N}=HC(n,h,p,u);if(N.length===0&&x.hasChildren())return this.processChildren(l,u,x).pipe(ce(L=>L===null?null:new Kt(I,L)));if(u.length===0&&N.length===0)return Z(new Kt(I,[]));let R=jn(r)===o;return this.processSegment(l,u,x,N,R?ue:o,!0).pipe(ce(L=>new Kt(I,L instanceof Kt?[L]:[])))}))):ss(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):sL(e,n,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):uL(n))):Z({routes:[],injector:e})}};function wL(t){t.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet))}function IL(t){let e=t.value.routeConfig;return e&&e.path===""}function yD(t){let e=[],n=new Set;for(let r of t){if(!IL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=yD(r.children);e.push(new Kt(r.value,i))}return e.filter(r=>!n.has(r))}function EL(t){return t.data||{}}function bL(t){return t.resolve||{}}function CL(t,e,n,r,i,o){return Ke(s=>vL(t,e,n,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:u})=>Me(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function DL(t,e){return Ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of vD(u))s.add(l);let a=0;return Ne(s).pipe(er(u=>o.has(u)?TL(u,r,t,e):(u.data=Xm(u,u.parent,t).resolve,Z(void 0))),Qe(()=>a++),Lo(1),Ke(u=>a===s.size?Z(n):Ht))})}function vD(t){let e=t.children.map(n=>vD(n)).flat();return[t,...e]}function TL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!lD(i)&&(o[ac]=i.title),AL(o,t,e,r).pipe(ce(s=>(t._resolvedData=s,t.data=Xm(t,t.parent,n).resolve,null)))}function AL(t,e,n,r){let i=Sm(t);if(i.length===0)return Z({});let o={};return Ne(i).pipe(Ke(s=>SL(t[s],e,n,r).pipe(An(),Qe(a=>{o[s]=a}))),Lo(1),tp(o),Lr(s=>gD(s)?Ht:ko(s)))}function SL(t,e,n,r){let i=lc(e)??r,o=ps(t,i),s=o.resolve?o.resolve(e,n):mn(i,()=>o(e,n));return ni(s)}function Tm(t){return Bt(e=>{let n=t(e);return n?Ne(n).pipe(ce(()=>e)):Z(e)})}var _D=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ue);return i}getResolvedTitleForRoute(r){return r.data[ac]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(ML),providedIn:"root"});let t=e;return t})(),ML=(()=>{let e=class e extends _D{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Y(jC))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hc=new z("",{providedIn:"root",factory:()=>({})}),sc=new z(""),iy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Yl)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ni(r.loadComponent()).pipe(ce(wD),Qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),jr(()=>{this.componentLoaders.delete(r)})),o=new Ro(i,()=>new bt).pipe(xo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=xL(i,this.compiler,r,this.onLoadEndListener).pipe(jr(()=>{this.childrenLoaders.delete(i)})),a=new Ro(s,()=>new bt).pipe(xo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xL(t,e,n,r){return ni(t.loadChildren()).pipe(ce(wD),Ke(i=>i instanceof Sa||Array.isArray(i)?Z(i):Ne(e.compileModuleAsync(i))),ce(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(sc,[],{optional:!0,self:!0}).flat()),{routes:s.map(ny),injector:o}}))}function RL(t){return t&&typeof t=="object"&&"default"in t}function wD(t){return RL(t)?t.default:t}var oy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(PL),providedIn:"root"});let t=e;return t})(),PL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ID=new z(""),ED=new z("");function NL(t,e,n){let r=t.get(ED),i=t.get(At);return t.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),OL(t))),{onViewTransitionCreated:u}=r;return u&&mn(t,()=>u({transition:a,from:e,to:n})),s})}function OL(t){return new Promise(e=>{Qg(e,{injector:t})})}var sy=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new bt,this.transitionAbortSubject=new bt,this.configLoader=k(iy),this.environmentInjector=k(Ft),this.urlSerializer=k(cc),this.rootContexts=k(uc),this.location=k(is),this.inputBindingEnabled=k(Td,{optional:!0})!==null,this.titleStrategy=k(_D),this.options=k(hc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(oy),this.createViewTransition=k(ID,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Fm(o)),i=o=>this.events.next(new Lm(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Me(U(U({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ht({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ya,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ut(s=>s.id!==0),ce(s=>Me(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Bt(s=>{let a=!1,u=!1;return Z(s).pipe(Bt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Qt.SupersededByNewNavigation),Ht;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Me(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new ei(l.id,this.urlSerializer.serialize(l.rawUrl),m,md.IgnoredSameUrlNavigation)),l.resolve(null),Ht}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(Bt(m=>{let I=this.transitions?.getValue();return this.events.next(new hs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),I!==this.transitions?.getValue()?Ht:Promise.resolve(m)}),CL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Me(U({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let I=new yd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:I,source:x,restoredState:N,extras:R}=l,L=new hs(m,this.urlSerializer.serialize(I),x,N);this.events.next(L);let K=cD(this.rootComponentType).snapshot;return this.currentTransition=s=Me(U({},l),{targetSnapshot:K,urlAfterRedirects:I,extras:Me(U({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,Z(s)}else{let m="";return this.events.next(new ei(l.id,this.urlSerializer.serialize(l.extractedUrl),m,md.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ht}}),Qe(l=>{let h=new Pm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ce(l=>(this.currentTransition=s=Me(U({},l),{guards:$F(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),ZF(this.environmentInjector,l=>this.events.next(l)),Qe(l=>{if(s.guardsResult=l.guardsResult,ds(l.guardsResult))throw hD(this.urlSerializer,l.guardsResult);let h=new Nm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Ut(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Qt.GuardRejected),!1)),Tm(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(Qe(h=>{let p=new Om(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Bt(h=>{let p=!1;return Z(h).pipe(DL(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Qt.NoDataFromResolver)}}))}),Qe(h=>{let p=new km(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Tm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Qe(I=>{p.component=I}),ce(()=>{})));for(let I of p.children)m.push(...h(I));return m};return va(h(l.targetSnapshot.root)).pipe(Vr(null),tr(1))}),Tm(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ne(p).pipe(ce(()=>s)):Z(s)}),ce(l=>{let h=OF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Me(U({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Qe(()=>{this.events.next(new tc)}),BF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),tr(1),Qe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),op(this.transitionAbortSubject.pipe(Qe(l=>{throw l}))),jr(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lr(l=>{if(u=!0,pD(l))this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),LF(l)?this.events.next(new nc(l.url)):s.resolve(!1);else{this.events.next(new ec(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Ht}))}))}cancelNavigationTransition(r,i,o){let s=new Xr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kL(t){return t!==Ya}var FL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(LL),providedIn:"root"});let t=e;return t})(),Zm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},LL=(()=>{let e=class e extends Zm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(VL),providedIn:"root"});let t=e;return t})(),VL=(()=>{let e=class e extends bD{constructor(){super(...arguments),this.location=k(is),this.urlSerializer=k(cc),this.options=k(hc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(oy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=cD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof hs)this.stateMemento=this.createStateMemento();else if(r instanceof ei)this.rawUrlTree=i.initialUrl;else if(r instanceof yd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof tc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Xr&&(r.code===Qt.GuardRejected||r.code===Qt.NoDataFromResolver)?this.restoreHistory(i):r instanceof ec?this.restoreHistory(i,!0):r instanceof wn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=U(U({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ka=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ka||{});function CD(t,e){t.events.pipe(Ut(n=>n instanceof wn||n instanceof Xr||n instanceof ec||n instanceof ei),ce(n=>n instanceof wn||n instanceof ei?Ka.COMPLETE:(n instanceof Xr?n.code===Qt.Redirect||n.code===Qt.SupersededByNewNavigation:!1)?Ka.REDIRECTING:Ka.FAILED),Ut(n=>n!==Ka.REDIRECTING),tr(1)).subscribe(()=>{e()})}function jL(t){throw t}var UL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Je=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Kl),this.stateManager=k(bD),this.options=k(hc,{optional:!0})||{},this.pendingTasks=k(Gi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(sy),this.urlSerializer=k(cc),this.location=k(is),this.urlHandlingStrategy=k(oy),this._events=new bt,this.errorHandler=this.options.errorHandler||jL,this.navigated=!1,this.routeReuseStrategy=k(FL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(sc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Td,{optional:!0}),this.eventsSubscription=new Ge,this.isNgZoneEnabled=k(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Xr&&i.code!==Qt.Redirect&&i.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof wn)this.navigated=!0;else if(i instanceof nc){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||kL(o.source)};this.scheduleNavigation(a,Ya,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}qL(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ya,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=U({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ny),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let I=o?o.snapshot:this.routerState.snapshot.root;m=iD(I)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return oD(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ds(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ya,null,i)}navigate(r,i={skipLocationChange:!1}){return $L(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=U({},UL):i===!1?o=U({},BL):o=i,ds(r))return UC(this.currentUrlTree,r,o);let s=this.parseUrl(r);return UC(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,I)=>{u=m,l=I});let p=this.pendingTasks.add();return CD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $L(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function qL(t){return!(t instanceof tc)&&!(t instanceof nc)}var Cd=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new bt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof wn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:cb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)($(Je),$(ti),Rg("tabindex"),$(on),$(Tt),$(fr))},e.\u0275dir=Le({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&se("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Fa("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ft.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Yr],skipLocationChange:[ft.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Yr],replaceUrl:[ft.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Yr],routerLink:"routerLink"},standalone:!0,features:[Zg,cr]});let t=e;return t})(),DD=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new qe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof wn&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(Fr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ne(r).pipe(Fr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=zL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)($(Je),$(Tt),$(on),$(Qr),$(Cd,8))},e.\u0275dir=Le({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&Zb(s,Cd,5),i&2){let a;Gl(a=Wl())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[cr]});let t=e;return t})();function zL(t){return!!t.paths}var Dd=class{};var HL=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(r=>r instanceof wn),er(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Hl(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Ne(o).pipe(Fr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=Z(null);let s=o.pipe(Ke(a=>a===null?Z(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ne([s,a]).pipe(Fr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(Y(Je),Y(Yl),Y(Ft),Y(Dd),Y(iy))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TD=new z(""),GL=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof hs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof wn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof ei&&r.code===md.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof vd&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vd(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){wb()},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function AD(t,...e){return tn([{provide:sc,multi:!0,useValue:t},[],{provide:ti,useFactory:SD,deps:[Je]},{provide:Va,multi:!0,useFactory:MD},e.map(n=>n.\u0275providers)])}function SD(t){return t.routerState.root}function fc(t,e){return{\u0275kind:t,\u0275providers:e}}function MD(){let t=k(Dt);return e=>{let n=t.get(ns);if(e!==n.components[0])return;let r=t.get(Je),i=t.get(xD);t.get(ay)===1&&r.initialNavigation(),t.get(RD,null,he.Optional)?.setUpPreloading(),t.get(TD,null,he.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xD=new z("",{factory:()=>new bt}),ay=new z("",{providedIn:"root",factory:()=>1});function WL(){return fc(2,[{provide:ay,useValue:0},{provide:Ql,multi:!0,deps:[Dt],useFactory:e=>{let n=e.get(gC,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Je),o=e.get(xD);CD(i,()=>{r(!0)}),e.get(sy).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))}}])}function KL(){return fc(3,[{provide:Ql,multi:!0,useFactory:()=>{let e=k(Je);return()=>{e.setUpLocationChangeListener()}}},{provide:ay,useValue:2}])}var RD=new z("");function QL(t){return fc(0,[{provide:RD,useExisting:HL},{provide:Dd,useExisting:t}])}function YL(){return fc(8,[zC,{provide:Td,useExisting:zC}])}function JL(t){let e=[{provide:ID,useValue:NL},{provide:ED,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return fc(9,e)}var GC=new z("ROUTER_FORROOT_GUARD"),ZL=[is,{provide:cc,useClass:Za},Je,uc,{provide:ti,useFactory:SD,deps:[Je]},iy,[]],PD=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[ZL,[],{provide:sc,multi:!0,useValue:r},{provide:GC,useFactory:nV,deps:[[Je,new Ct,new gg]]},{provide:hc,useValue:i||{}},i?.useHash?eV():tV(),XL(),i?.preloadingStrategy?QL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?rV(i):[],i?.bindToComponentInputs?YL().\u0275providers:[],i?.enableViewTransitions?JL().\u0275providers:[],iV()]}}static forChild(r){return{ngModule:e,providers:[{provide:sc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(Y(GC,8))},e.\u0275mod=kn({type:e}),e.\u0275inj=On({});let t=e;return t})();function XL(){return{provide:TD,useFactory:()=>{let t=k(_C),e=k(Ie),n=k(hc),r=k(sy),i=k(cc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new GL(i,r,t,e,n)}}}function eV(){return{provide:fr,useClass:yC}}function tV(){return{provide:fr,useClass:um}}function nV(t){return"guarded"}function rV(t){return[t.initialNavigation==="disabled"?KL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?WL().\u0275providers:[]]}var WC=new z("");function iV(){return[{provide:WC,useFactory:MD},{provide:Va,multi:!0,useExisting:WC}]}var ND=(()=>{let e=class e{ngAfterViewInit(){console.log("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["app-about"]],standalone:!0,features:[je],decls:27,vars:0,consts:[[1,"about"],[1,"datos-personales"],[1,"imagen-alumno"],[1,"imagen-cuadrada"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Matias.jpg?alt=media&token=e1a98f33-30c0-447c-89e0-cd04d6d9fe92","alt","Imagen del Alumno",1,"alumno-img"],[1,"texto-alumno"],[1,"titulo-centro"],[1,"explicacion-juego"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/WordGameExp.png?alt=media&token=f0e55f52-557b-4c2b-9b31-91d6c34bff09","alt","Imagen del Juego",1,"juego-img"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"h2"),O(2,"\xBFQui\xE9n Soy?"),M(),A(3,"div",1)(4,"div",2)(5,"div",3),ye(6,"img",4),M()(),A(7,"div",5)(8,"h3")(9,"span",6),O(10,"Datos Personales"),M()(),A(11,"p"),O(12,"Nombre: Matias Bartel"),M(),A(13,"p"),O(14,"Edad: 19"),M(),A(15,"p"),O(16,"Email: "),A(17,"span"),O(18,"matiasbartelavgmail.com"),M()(),A(19,"p"),O(20,"Descripci\xF3n: Soy Estudiante de la TUP en la UTN."),M()()(),A(21,"div",7)(22,"h3"),O(23,"Explicaci\xF3n del Juego Propio"),M(),A(24,"p"),O(25,"Word Game - Ser\xE1 un juego donde el participante ver\xE1 una palabra desordenada y debe reorganizar las letras para formar la palabra correcta, tendr\xE1 un tiempo l\xEDmite; si no logra reorganizar las letras, pierde una vida."),M(),ye(26,"img",8),M()())},styles:["body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.about[_ngcontent-%COMP%]{max-width:600px;max-height:850px;margin:70px;padding:20px;background-color:#f0f0f0;border-radius:8px}h2[_ngcontent-%COMP%]{text-align:center;color:#005900}h3[_ngcontent-%COMP%]{margin-top:20px;color:#000}.texto-centro[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}p[_ngcontent-%COMP%]{line-height:1.5;font-family:Arial,sans-serif;color:#000}.datos-personales[_ngcontent-%COMP%]{display:flex;align-items:stretch;margin:20px 0}.imagen-alumno[_ngcontent-%COMP%]{margin-right:20px;margin-top:70px}.imagen-cuadrada[_ngcontent-%COMP%]{width:200px;height:auto;overflow:hidden;border-radius:10px}.alumno-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.texto-alumno[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.explicacion-juego[_ngcontent-%COMP%]{text-align:center}.juego-img[_ngcontent-%COMP%]{max-width:90%;height:auto;border-radius:5px}"]});let t=e;return t})();var qD=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)($(on),$(Tt))},e.\u0275dir=Le({type:e});let t=e;return t})(),vc=(()=>{let e=class e extends qD{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275dir=Le({type:e,features:[Wt]});let t=e;return t})(),vs=new z("");var oV={provide:vs,useExisting:gn(()=>Un),multi:!0};function sV(){let t=hr()?hr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var aV=new z(""),Un=(()=>{let e=class e extends qD{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!sV())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)($(on),$(Tt),$(aV,8))},e.\u0275dir=Le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&se("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[lr([oV]),Wt]});let t=e;return t})();function cV(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var uy=new z(""),zD=new z("");function uV(t){return cV(t.value)?{required:!0}:null}function OD(t){return null}function HD(t){return t!=null}function GD(t){return Wi(t)?Ne(t):t}function WD(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function KD(t,e){return e.map(n=>n(t))}function lV(t){return!t.validate}function QD(t){return t.map(e=>lV(e)?e:n=>e.validate(n))}function dV(t){if(!t)return null;let e=t.filter(HD);return e.length==0?null:function(n){return WD(KD(n,e))}}function ly(t){return t!=null?dV(QD(t)):null}function hV(t){if(!t)return null;let e=t.filter(HD);return e.length==0?null:function(n){let r=KD(n,e).map(GD);return ep(r).pipe(ce(WD))}}function dy(t){return t!=null?hV(QD(t)):null}function kD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function fV(t){return t._rawValidators}function pV(t){return t._rawAsyncValidators}function cy(t){return t?Array.isArray(t)?t:[t]:[]}function Md(t,e){return Array.isArray(t)?t.includes(e):t===e}function FD(t,e){let n=cy(e);return cy(t).forEach(i=>{Md(n,i)||n.push(i)}),n}function LD(t,e){return cy(e).filter(n=>!Md(t,n))}var xd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ly(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ms=class extends xd{get formDirective(){return null}get path(){return null}},ys=class extends xd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Rd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},gV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},PW=Me(U({},gV),{"[class.ng-submitted]":"isSubmitted"}),ri=(()=>{let e=class e extends Rd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(ys,2))},e.\u0275dir=Le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&ts("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Wt]});let t=e;return t})(),_s=(()=>{let e=class e extends Rd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(ms,10))},e.\u0275dir=Le({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&ts("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Wt]});let t=e;return t})();var gc="VALID",Sd="INVALID",gs="PENDING",mc="DISABLED";function YD(t){return(Od(t)?t.validators:t)||null}function mV(t){return Array.isArray(t)?ly(t):t||null}function JD(t,e){return(Od(e)?e.asyncValidators:t)||null}function yV(t){return Array.isArray(t)?dy(t):t||null}function Od(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function vV(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[n])throw new G(1001,"")}function _V(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new G(1002,"")})}var Pd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gc}get invalid(){return this.status===Sd}get pending(){return this.status==gs}get disabled(){return this.status===mc}get enabled(){return this.status!==mc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(FD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(FD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(LD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(LD(e,this._rawAsyncValidators))}hasValidator(e){return Md(this._rawValidators,e)}hasAsyncValidator(e){return Md(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=mc,this.errors=null,this._forEachChild(r=>{r.disable(Me(U({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Me(U({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=gc,this._forEachChild(r=>{r.enable(Me(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Me(U({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gc||this.status===gs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mc:gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gs,this._hasOwnPendingAsyncValidator=!0;let n=GD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?mc:this.errors?Sd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gs)?gs:this._anyControlsHaveStatus(Sd)?Sd:gc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Od(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=mV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=yV(this._rawAsyncValidators)}},Nd=class extends Pd{constructor(e,n,r){super(YD(n),JD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){_V(this,!0,e),Object.keys(e).forEach(r=>{vV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var kd=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Fd}),Fd="always";function wV(t,e){return[...e.path,t]}function ZD(t,e,n=Fd){XD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),EV(t,e),CV(t,e),bV(t,e),IV(t,e)}function VD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function IV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function XD(t,e){let n=fV(t);e.validator!==null?t.setValidators(kD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=pV(t);e.asyncValidator!==null?t.setAsyncValidators(kD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();VD(e._rawValidators,i),VD(e._rawAsyncValidators,i)}function EV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&eT(t,e)})}function bV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&eT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function eT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function CV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function DV(t,e){t==null,XD(t,e)}function TV(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function AV(t){return Object.getPrototypeOf(t.constructor)===vc}function SV(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function MV(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Un?n=o:AV(o)?r=o:i=o}),i||r||n||null}var xV={provide:ms,useExisting:gn(()=>Ji)},yc=Promise.resolve(),Ji=(()=>{let e=class e extends ms{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new qe,this.form=new Nd({},ly(r),dy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){yc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),ZD(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){yc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){yc.then(()=>{let i=this._findContainer(r.path),o=new Nd({});DV(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){yc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){yc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,SV(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)($(uy,10),$(zD,10),$(kd,8))},e.\u0275dir=Le({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&se("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[ft.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lr([xV]),Wt]});let t=e;return t})();function jD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function UD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var RV=class extends Pd{constructor(e=null,n,r){super(YD(n),JD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Od(n)&&(n.nonNullable||n.initialValueIsDefault)&&(UD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){UD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var PV={provide:ys,useExisting:gn(()=>pr)},BD=Promise.resolve(),pr=(()=>{let e=class e extends ys{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new RV,this._registered=!1,this.name="",this.update=new qe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=MV(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),TV(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ZD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){BD.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Yr(i);BD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?wV(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)($(ms,9),$(uy,10),$(zD,10),$(vs,10),$(Qr,8),$(kd,8))},e.\u0275dir=Le({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ft.None,"disabled","isDisabled"],model:[ft.None,"ngModel","model"],options:[ft.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[lr([PV]),Wt,cr]});let t=e;return t})(),ws=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Le({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),NV={provide:vs,useExisting:gn(()=>hy),multi:!0},hy=(()=>{let e=class e extends vc{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&se("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[lr([NV]),Wt]});let t=e;return t})(),OV={provide:vs,useExisting:gn(()=>fy),multi:!0};var kV=(()=>{let e=class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fy=(()=>{let e=class e extends vc{constructor(r,i,o,s){super(r,i),this._registry=o,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=k(kd,{optional:!0})??Fd}ngOnInit(){this._control=this._injector.get(ys),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)($(on),$(Tt),$(kV),$(Dt))},e.\u0275dir=Le({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&se("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[lr([OV]),Wt]});let t=e;return t})();var FV={provide:vs,useExisting:gn(()=>Ld),multi:!0};function tT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function LV(t){return t.split(":")[0]}var Ld=(()=>{let e=class e extends vc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=tT(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=LV(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&se("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[lr([FV]),Wt]});let t=e;return t})(),nT=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(tT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(Tt),$(on),$(Ld,9))},e.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),VV={provide:vs,useExisting:gn(()=>rT),multi:!0};function $D(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function jV(t){return t.split(":")[0]}var rT=(()=>{let e=class e extends vc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=jV(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&se("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[lr([VV]),Wt]});let t=e;return t})(),iT=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue($D(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue($D(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(Tt),$(on),$(rT,9))},e.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var UV=(()=>{let e=class e{constructor(){this._validator=OD}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):OD,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Le({type:e,features:[cr]});let t=e;return t})();var BV={provide:uy,useExisting:gn(()=>_c),multi:!0};var _c=(()=>{let e=class e extends UV{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Yr,this.createValidator=r=>uV}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Fa("required",o._enabled?"":null)},inputs:{required:"required"},features:[lr([BV]),Wt]});let t=e;return t})();var $V=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=On({});let t=e;return t})();var ii=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:kd,useValue:r.callSetDisabledState??Fd}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=On({imports:[$V]});let t=e;return t})();var sT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,I=l&63;u||(I=64,s||(m=64)),r.push(n[h],n[p],n[m],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new gy;let m=o<<2|a>>4;if(r.push(m),l!==64){let I=a<<4&240|l>>2;if(r.push(I),p!==64){let x=l<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},gy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},zV=function(t){let e=sT(t);return aT.encodeByteArray(e,!0)},wc=function(t){return zV(t).replace(/\./g,"")},yy=function(t){try{return aT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GV=()=>HV().__FIREBASE_DEFAULTS__,WV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&yy(t[1]);return e&&JSON.parse(e)},Ud=()=>{try{return GV()||WV()||KV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vy=t=>{var e,n;return(n=(e=Ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cT=t=>{let e=vy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_y=()=>{var t;return(t=Ud())===null||t===void 0?void 0:t.config},wy=t=>{var e;return(e=Ud())===null||e===void 0?void 0:e[`_${t}`]};var jd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function uT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wc(JSON.stringify(n)),wc(JSON.stringify(s)),""].join(".")}function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function QV(){var t;let e=(t=Ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pT(){let t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gT(){return!QV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iy(){try{return typeof indexedDB=="object"}catch{return!1}}function mT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var YV="FirebaseError",Yt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gr.prototype.create)}},gr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Yt(i,a,r)}};function JV(t,e){return t.replace(ZV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZV=/\{\$([^}]+)}/g;function yT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(oT(o)&&oT(s)){if(!Zi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function oT(t){return t!==null&&typeof t=="object"}function Ic(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Is(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Es(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vT(t,e){let n=new my(t,e);return n.subscribe.bind(n)}var my=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=py),i.error===void 0&&(i.error=py),i.complete===void 0&&(i.complete=py);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function XV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function py(){}var kW=4*60*60*1e3;function ut(t){return t&&t._delegate?t._delegate:t}var an=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xi="[DEFAULT]";var Ey=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new jd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t2(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function e2(t){return t===Xi?void 0:t}function t2(t){return t.instantiationMode==="EAGER"}var Bd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ey(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var n2=[],ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{}),r2={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},i2=ge.INFO,o2={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},s2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=o2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},oi=class{constructor(e){this.name=e,this._logLevel=i2,this._logHandler=s2,this._userLogHandler=null,n2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var a2=(t,e)=>e.some(n=>t instanceof n),_T,wT;function c2(){return _T||(_T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u2(){return wT||(wT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var IT=new WeakMap,Cy=new WeakMap,ET=new WeakMap,by=new WeakMap,Ty=new WeakMap;function l2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Bn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&IT.set(n,t)}).catch(()=>{}),Ty.set(e,t),e}function d2(t){if(Cy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Cy.set(t,e)}var Dy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ET.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bT(t){Dy=t(Dy)}function h2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call($d(this),e,...n);return ET.set(r,e.sort?e.sort():[e]),Bn(r)}:u2().includes(t)?function(...e){return t.apply($d(this),e),Bn(IT.get(this))}:function(...e){return Bn(t.apply($d(this),e))}}function f2(t){return typeof t=="function"?h2(t):(t instanceof IDBTransaction&&d2(t),a2(t,c2())?new Proxy(t,Dy):t)}function Bn(t){if(t instanceof IDBRequest)return l2(t);if(by.has(t))return by.get(t);let e=f2(t);return e!==t&&(by.set(t,e),Ty.set(e,t)),e}var $d=t=>Ty.get(t);function DT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Bn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Bn(s.result),u.oldVersion,u.newVersion,Bn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var p2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],Ay=new Map;function CT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ay.get(e))return Ay.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=g2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p2.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Ay.set(e,o),o}bT(t=>Me(U({},t),{get:(e,n,r)=>CT(e,n)||t.get(e,n,r),has:(e,n)=>!!CT(e,n)||t.has(e,n)}));var My=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function m2(t){let e=t.getComponent();return e?.type==="VERSION"}var xy="@firebase/app",TT="0.10.13";var mr=new oi("@firebase/app"),y2="@firebase/app-compat",v2="@firebase/analytics-compat",_2="@firebase/analytics",w2="@firebase/app-check-compat",I2="@firebase/app-check",E2="@firebase/auth",b2="@firebase/auth-compat",C2="@firebase/database",D2="@firebase/data-connect",T2="@firebase/database-compat",A2="@firebase/functions",S2="@firebase/functions-compat",M2="@firebase/installations",x2="@firebase/installations-compat",R2="@firebase/messaging",P2="@firebase/messaging-compat",N2="@firebase/performance",O2="@firebase/performance-compat",k2="@firebase/remote-config",F2="@firebase/remote-config-compat",L2="@firebase/storage",V2="@firebase/storage-compat",j2="@firebase/firestore",U2="@firebase/vertexai-preview",B2="@firebase/firestore-compat",$2="firebase",q2="10.14.1";var Ry="[DEFAULT]",z2={[xy]:"fire-core",[y2]:"fire-core-compat",[_2]:"fire-analytics",[v2]:"fire-analytics-compat",[I2]:"fire-app-check",[w2]:"fire-app-check-compat",[E2]:"fire-auth",[b2]:"fire-auth-compat",[C2]:"fire-rtdb",[D2]:"fire-data-connect",[T2]:"fire-rtdb-compat",[A2]:"fire-fn",[S2]:"fire-fn-compat",[M2]:"fire-iid",[x2]:"fire-iid-compat",[R2]:"fire-fcm",[P2]:"fire-fcm-compat",[N2]:"fire-perf",[O2]:"fire-perf-compat",[k2]:"fire-rc",[F2]:"fire-rc-compat",[L2]:"fire-gcs",[V2]:"fire-gcs-compat",[j2]:"fire-fst",[B2]:"fire-fst-compat",[U2]:"fire-vertex","fire-js":"fire-js",[$2]:"fire-js-all"};var Ec=new Map,H2=new Map,Py=new Map;function AT(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ai(t){let e=t.name;if(Py.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Py.set(e,t);for(let n of Ec.values())AT(n,t);for(let n of H2.values())AT(n,t);return!0}function Cc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t.settings!==void 0}var G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new gr("app","Firebase",G2);var Ny=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}};var ci=q2;function yr(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ry,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw si.create("bad-app-name",{appName:String(i)});if(n||(n=_y()),!n)throw si.create("no-options");let o=Ec.get(i);if(o){if(Zi(n,o.options)&&Zi(r,o.config))return o;throw si.create("duplicate-app",{appName:i})}let s=new Bd(i);for(let u of Py.values())s.addComponent(u);let a=new Ny(n,r,s);return Ec.set(i,a),a}function bs(t=Ry){let e=Ec.get(t);if(!e&&t===Ry&&_y())return yr();if(!e)throw si.create("no-app",{appName:t});return e}function qd(){return Array.from(Ec.values())}function rt(t,e,n){var r;let i=(r=z2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(a.join(" "));return}ai(new an(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var W2="firebase-heartbeat-database",K2=1,bc="firebase-heartbeat-store",Sy=null;function RT(){return Sy||(Sy=DT(W2,K2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),Sy}function Q2(t){return v(this,null,function*(){try{let n=(yield RT()).transaction(bc),r=yield n.objectStore(bc).get(PT(t));return yield n.done,r}catch(e){if(e instanceof Yt)mr.warn(e.message);else{let n=si.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}})}function ST(t,e){return v(this,null,function*(){try{let r=(yield RT()).transaction(bc,"readwrite");yield r.objectStore(bc).put(e,PT(t)),yield r.done}catch(n){if(n instanceof Yt)mr.warn(n.message);else{let r=si.create("idb-set",{originalErrorMessage:n?.message});mr.warn(r.message)}}})}function PT(t){return`${t.name}!${t.options.appId}`}var Y2=1024,J2=30*24*60*60*1e3,Oy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ky(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=MT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=J2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=MT(),{heartbeatsToSend:r,unsentEntries:i}=Z2(this._heartbeatsCache.heartbeats),o=wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mr.warn(n),""}})}};function MT(){return new Date().toISOString().substring(0,10)}function Z2(t,e=Y2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),xT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ky=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Iy()?mT().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Q2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ST(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ST(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xT(t){return wc(JSON.stringify({version:2,heartbeats:t})).length}function X2(t){ai(new an("platform-logger",e=>new My(e),"PRIVATE")),ai(new an("heartbeat",e=>new Oy(e),"PRIVATE")),rt(xy,TT,t),rt(xy,TT,"esm2017"),rt("fire-js","")}X2("");function QT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var YT=QT,JT=new gr("auth","Firebase",QT());var Qd=new oi("@firebase/auth");function ej(t,...e){Qd.logLevel<=ge.WARN&&Qd.warn(`Auth (${ci}): ${t}`,...e)}function Hd(t,...e){Qd.logLevel<=ge.ERROR&&Qd.error(`Auth (${ci}): ${t}`,...e)}function qn(t,...e){throw iv(t,...e)}function eo(t,...e){return iv(t,...e)}function ZT(t,e,n){let r=Object.assign(Object.assign({},YT()),{[e]:n});return new gr("auth","Firebase",r).create(e,{appName:t.name})}function wr(t){return ZT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JT.create(t,...e)}function te(t,e,...n){if(!t)throw iv(e,...n)}function vr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Hd(e),new Error(e)}function li(t,e){t||vr(e)}function jy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tj(){return NT()==="http:"||NT()==="https:"}function NT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function nj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tj()||hT()||"connection"in navigator)?navigator.onLine:!0}function rj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var to=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=lT()||fT()}get(){return nj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ov(t,e){li(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Yd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ij={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var oj=new to(3e4,6e4);function di(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function hi(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return XT(t,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ic(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:m},l);return dT()||(I.referrerPolicy="no-referrer"),Yd.fetch()(eA(t,t.config.apiHost,n,p),I)}))})}function XT(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},ij),e);try{let i=new Uy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw zd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw zd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw zd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ZT(t,h,l);qn(t,h)}}catch(i){if(i instanceof Yt)throw i;qn(t,"network-request-failed",{message:String(i)})}})}function Pc(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield hi(t,e,n,r,i);return"mfaPendingCredential"in l&&qn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function eA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ov(t.config,i):`${t.config.apiScheme}://${i}`}function sj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Uy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(eo(this.auth,"network-request-failed")),oj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=eo(t,e,r);return i.customData._tokenResponse=n,i}function OT(t){return t!==void 0&&t.enterprise!==void 0}var By=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function aj(t,e){return v(this,null,function*(){return hi(t,"GET","/v2/recaptchaConfig",di(t,e))})}function cj(t,e){return v(this,null,function*(){return hi(t,"POST","/v1/accounts:delete",e)})}function tA(t,e){return v(this,null,function*(){return hi(t,"POST","/v1/accounts:lookup",e)})}function Dc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function sv(t,e=!1){return v(this,null,function*(){let n=ut(t),r=yield n.getIdToken(e),i=av(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Dc(Fy(i.auth_time)),issuedAtTime:Dc(Fy(i.iat)),expirationTime:Dc(Fy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Fy(t){return Number(t)*1e3}function av(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{let i=yy(n);return i?JSON.parse(i):(Hd("Failed to decode base64 JWT payload"),null)}catch(i){return Hd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kT(t){let e=av(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ac(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Yt&&uj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function uj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var $y=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Sc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Jd(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ac(t,tA(n,{idToken:r}));te(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nA(o.providerUserInfo):[],a=lj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Sc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function cv(t){return v(this,null,function*(){let e=ut(t);yield Jd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function lj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nA(t){return t.map(e=>{var{providerId:n}=e,r=Zf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function dj(t,e){return v(this,null,function*(){let n=yield XT(t,{},()=>v(this,null,function*(){let r=Ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=eA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function hj(t,e){return v(this,null,function*(){return hi(t,"POST","/v2/accounts:revokeToken",di(t,e))})}var Tc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");let n=kT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield dj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return vr("not implemented")}};function ui(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Cs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Zf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $y(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Ac(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return sv(this,e)}reload(){return cv(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Jd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(In(this.auth.app))return Promise.reject(wr(this.auth));let e=yield this.getIdToken();return yield Ac(this,cj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:X,isAnonymous:Pe,providerData:ie,stsTokenManager:b}=n;te(Q&&b,e,"internal-error");let y=Tc.fromJSON(this.name,b);te(typeof Q=="string",e,"internal-error"),ui(p,e.name),ui(m,e.name),te(typeof X=="boolean",e,"internal-error"),te(typeof Pe=="boolean",e,"internal-error"),ui(I,e.name),ui(x,e.name),ui(N,e.name),ui(R,e.name),ui(L,e.name),ui(K,e.name);let _=new t({uid:Q,auth:e,email:m,emailVerified:X,displayName:p,isAnonymous:Pe,photoURL:x,phoneNumber:I,tenantId:N,stsTokenManager:y,createdAt:L,lastLoginAt:K});return ie&&Array.isArray(ie)&&(_.providerData=ie.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Tc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Jd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];te(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?nA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Tc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var FT=new Map;function _r(t){li(t instanceof Function,"Expected a class definition");let e=FT.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FT.set(t,e),e)}var fj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),qy=fj;function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}var Zd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Gd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Cs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(_r(qy),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||_r(qy),s=Gd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Cs._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function LT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cA(e))return"Blackberry";if(uA(e))return"Webos";if(iA(e))return"Safari";if((e.includes("chrome/")||oA(e))&&!e.includes("edge/"))return"Chrome";if(aA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function rA(t=ct()){return/firefox\//i.test(t)}function iA(t=ct()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oA(t=ct()){return/crios\//i.test(t)}function sA(t=ct()){return/iemobile/i.test(t)}function aA(t=ct()){return/android/i.test(t)}function cA(t=ct()){return/blackberry/i.test(t)}function uA(t=ct()){return/webos/i.test(t)}function uv(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pj(t=ct()){var e;return uv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gj(){return pT()&&document.documentMode===10}function lA(t=ct()){return uv(t)||aA(t)||uA(t)||cA(t)||/windows phone/i.test(t)||sA(t)}function dA(t,e=[]){let n;switch(t){case"Browser":n=LT(ct());break;case"Worker":n=`${LT(ct())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ci}/${r}`}var zy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function mj(n){return v(this,arguments,function*(t,e={}){return hi(t,"GET","/v2/passwordPolicy",di(t,e))})}var yj=6,Hy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:yj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Gy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xd(this),this.idTokenSubscription=new Xd(this),this.beforeStateQueue=new zy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Zd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield tA(this,{idToken:e}),r=yield Cs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(In(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Jd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=rj()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(In(this.app))return Promise.reject(wr(this));let n=e?ut(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return In(this.app)?Promise.reject(wr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return In(this.app)?Promise.reject(wr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(_r(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield mj(this),n=new Hy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield hj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&_r(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield Zd.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&ej(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ro(t){return ut(t)}var Xd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vT(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sh={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vj(t){sh=t}function hA(t){return sh.loadJS(t)}function _j(){return sh.recaptchaEnterpriseScript}function wj(){return sh.gapiScript}function fA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Ij="recaptcha-enterprise",Ej="NO_RECAPTCHA",Wy=class{constructor(e){this.type=Ij,this.auth=ro(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){aj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new By(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;OT(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(Ej)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&OT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=_j();u.length!==0&&(u+=a),hA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function VT(t,e,n,r=!1){return v(this,null,function*(){let i=new Wy(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Ky(t,e,n,r){return v(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield VT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>v(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield VT(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function lv(t,e){let n=Cc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Zi(o,e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}function bj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_r);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function dv(t,e,n){let r=ro(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=pA(e),{host:s,port:a}=Cj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Dj()}function pA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cj(t){let e=pA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:jT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:jT(s)}}}function jT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Dj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Mc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}};function Tj(t,e){return v(this,null,function*(){return hi(t,"POST","/v1/accounts:signUp",e)})}function Aj(t,e){return v(this,null,function*(){return Pc(t,"POST","/v1/accounts:signInWithPassword",di(t,e))})}function Sj(t,e){return v(this,null,function*(){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))})}function Mj(t,e){return v(this,null,function*(){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))})}var xc=class t extends Mc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,n,"signInWithPassword",Aj);case"emailLink":return Sj(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,r,"signUpPassword",Tj);case"emailLink":return Mj(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ly(t,e){return v(this,null,function*(){return Pc(t,"POST","/v1/accounts:signInWithIdp",di(t,e))})}function xj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rj(t){let e=Is(Es(t)).link,n=e?Is(Es(e)).deep_link_id:null,r=Is(Es(t)).deep_link_id;return(r?Is(Es(r)).link:null)||r||n||e||t}var eh=class t{constructor(e){var n,r,i,o,s,a;let u=Is(Es(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=xj((i=u.mode)!==null&&i!==void 0?i:null);te(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Rj(e);try{return new t(n)}catch{return null}}};var gA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return xc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=eh.parseLink(r);return te(i,"argument-error"),xc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),th=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Qy=class extends th{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Pj(t,e){return v(this,null,function*(){return Pc(t,"POST","/v1/accounts:signUp",di(t,e))})}var Ds=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Cs._fromIdTokenResponse(e,r,i),s=UT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=UT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function UT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Yy=class t extends Yt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function mA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Yy._fromErrorAndOperation(t,o,e,r):o})}function Nj(t,e,n=!1){return v(this,null,function*(){let r=yield Ac(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ds._forOperation(t,"link",r)})}function Oj(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(In(r.app))return Promise.reject(wr(r));let i="reauthenticate";try{let o=yield Ac(t,mA(r,i,e,t),n);te(o.idToken,r,"internal-error");let s=av(o.idToken);te(s,r,"internal-error");let{sub:a}=s;return te(t.uid===a,r,"user-mismatch"),Ds._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&qn(r,"user-mismatch"),o}})}function yA(t,e,n=!1){return v(this,null,function*(){if(In(t.app))return Promise.reject(wr(t));let r="signIn",i=yield mA(t,r,e),o=yield Ds._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function hv(t,e){return v(this,null,function*(){return yA(ro(t),e)})}function vA(t){return v(this,null,function*(){let e=ro(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ah(t,e,n){return v(this,null,function*(){if(In(t.app))return Promise.reject(wr(t));let r=ro(t),s=yield Ky(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&vA(t),u}),a=yield Ds._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function ch(t,e,n){return In(t.app)?Promise.reject(wr(t)):hv(ut(t),gA.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&vA(t),r}))}function fv(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function pv(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function uh(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function lh(t){return ut(t).signOut()}var nh="__sak";var rh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var kj=1e3,Fj=10,Lj=(()=>{class t extends rh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);gj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Fj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield Pr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield Pr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield Pr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),_A=Lj;var Vj=(()=>{class t extends rh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),gv=Vj;function jj(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Uj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield jj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function wA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Jy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=wA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function $n(){return window}function Bj(t){$n().location.href=t}function IA(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}function $j(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function qj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zj(){return IA()?self:null}var EA="firebaseLocalStorageDb",Hj=1,ih="firebaseLocalStorage",bA="fbase_key",no=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function dh(t,e){return t.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function Gj(){let t=indexedDB.deleteDatabase(EA);return new no(t).toPromise()}function Zy(){let t=indexedDB.open(EA,Hj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ih,{keyPath:bA})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ih)?e(r):(r.close(),yield Gj(),e(yield Zy()))}))})}function BT(t,e,n){return v(this,null,function*(){let r=dh(t,!0).put({[bA]:e,value:n});return new no(r).toPromise()})}function Wj(t,e){return v(this,null,function*(){let n=dh(t,!1).get(e),r=yield new no(n).toPromise();return r===void 0?null:r.value})}function $T(t,e){let n=dh(t,!0).delete(e);return new no(n).toPromise()}var Kj=800,Qj=3,Yj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Zy(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Qj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return IA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=Uj._getInstance(zj()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield $j(),!this.activeServiceWorker)return;this.sender=new Jy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||qj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Zy();return yield BT(n,nh,"1"),yield $T(n,nh),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>BT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>Wj(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>$T(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=dh(o,!1).getAll();return new no(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),Kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),CA=Yj;var c8=fA("rcb"),u8=new to(3e4,6e4);function Jj(t,e){return e?_r(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Rc=class extends Mc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ly(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ly(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ly(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Zj(t){return yA(t.auth,new Rc(t),t.bypassAuthState)}function Xj(t){let{auth:e,user:n}=t;return te(n,e,"internal-error"),Oj(n,new Rc(t),t.bypassAuthState)}function eU(t){return v(this,null,function*(){let{auth:e,user:n}=t;return te(n,e,"internal-error"),Nj(n,new Rc(t),t.bypassAuthState)})}var Xy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zj;case"linkViaPopup":case"linkViaRedirect":return eU;case"reauthViaPopup":case"reauthViaRedirect":return Xj;default:qn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var l8=new to(2e3,1e4);var tU="pendingRedirect",Wd=new Map,ev=class t extends Xy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Wd.get(this.auth._key());if(!e){try{let r=(yield nU(this.resolver,this.auth))?yield Pr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Pr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Pr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function nU(t,e){return v(this,null,function*(){let n=oU(e),r=iU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function rU(t,e){Wd.set(t._key(),e)}function iU(t){return _r(t._redirectPersistence)}function oU(t){return Gd(tU,t.config.apiKey,t.name)}function sU(t,e,n=!1){return v(this,null,function*(){if(In(t.app))return Promise.reject(wr(t));let r=ro(t),i=Jj(r,e),s=yield new ev(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var aU=10*60*1e3,tv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(eo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aU&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}};function qT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function cU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DA(t);default:return!1}}function uU(n){return v(this,arguments,function*(t,e={}){return hi(t,"GET","/v1/projects",e)})}var lU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dU=/^https?/;function hU(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield uU(t);for(let n of e)try{if(fU(n))return}catch{}qn(t,"unauthorized-domain")})}function fU(t){let e=jy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!dU.test(n))return!1;if(lU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var pU=new to(3e4,6e4);function zT(){let t=$n().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gU(t){return new Promise((e,n)=>{var r,i,o;function s(){zT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zT(),n(eo(t,"network-request-failed"))},timeout:pU.get()})}if(!((i=(r=$n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=$n().gapi)===null||o===void 0)&&o.load)s();else{let a=fA("iframefcb");return $n()[a]=()=>{gapi.load?s():n(eo(t,"network-request-failed"))},hA(`${wj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Kd=null,e})}var Kd=null;function mU(t){return Kd=Kd||gU(t),Kd}var yU=new to(5e3,15e3),vU="__/auth/iframe",_U="emulator/auth/iframe",wU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EU(t){let e=t.config;te(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ov(e,_U):`https://${t.config.authDomain}/${vU}`,r={apiKey:e.apiKey,appName:t.name,v:ci},i=IU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ic(r).slice(1)}`}function bU(t){return v(this,null,function*(){let e=yield mU(t),n=$n().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:EU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wU,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=eo(t,"network-request-failed"),a=$n().setTimeout(()=>{o(s)},yU.get());function u(){$n().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var CU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DU=500,TU=600,AU="_blank",SU="http://localhost",oh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function MU(t,e,n,r=DU,i=TU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},CU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ct().toLowerCase();n&&(a=oA(l)?AU:n),rA(l)&&(e=e||SU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[I,x])=>`${m}${I}=${x},`,"");if(pj(l)&&a!=="_self")return xU(e||"",a),new oh(null);let p=window.open(e||"",a,h);te(p,t,"popup-blocked");try{p.focus()}catch{}return new oh(p)}function xU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var RU="__/auth/handler",PU="emulator/auth/handler",NU=encodeURIComponent("fac");function HT(t,e,n,r,i,o){return v(this,null,function*(){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ci,eventId:i};if(e instanceof th){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",yT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Qy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${NU}=${encodeURIComponent(u)}`:"";return`${OU(t)}?${Ic(a).slice(1)}${l}`})}function OU({config:t}){return t.emulator?ov(t,PU):`https://${t.authDomain}/${RU}`}var Vy="webStorageSupport",nv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gv,this._completeRedirectFn=sU,this._overrideRedirectResult=rU}_openPopup(e,n,r,i){return v(this,null,function*(){var o;li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield HT(e,n,r,jy(),i);return MU(e,s,wA())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield HT(e,n,r,jy(),i);return Bj(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(li(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield bU(e),r=new tv(e);return n.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vy,{type:Vy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Vy];s!==void 0&&n(!!s),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lA()||iA()||uv()}},TA=nv;var GT="@firebase/auth",WT="1.7.9";var rv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FU(t){ai(new an("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dA(t)},l=new Gy(r,i,o,u);return bj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ai(new an("auth-internal",e=>{let n=ro(e.getProvider("auth").getImmediate());return(r=>new rv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt(GT,WT,kU(t)),rt(GT,WT,"esm2017")}var LU=5*60,VU=wy("authIdTokenMaxAge")||LU,KT=null,jU=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VU)return;let i=n?.token;KT!==i&&(KT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ze(t=bs()){let e=Cc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=lv(t,{popupRedirectResolver:TA,persistence:[CA,_A,gv]}),r=wy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=jU(o.toString());pv(n,s,()=>s(n.currentUser)),fv(n,a=>s(a))}}let i=vy("auth");return i&&dv(n,`http://${i}`),n}function UU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=eo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",UU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FU("Browser");var MB="firebase",xB="10.14.1";rt(MB,xB,"app");var Nc={apiKey:"AIzaSyDwWtnrBJsAhV_bpBgDDtJOH4ApwmFHfVw",authDomain:"salajuegos-bartel.firebaseapp.com",projectId:"salajuegos-bartel",storageBucket:"salajuegos-bartel.appspot.com",messagingSenderId:"500772714952",appId:"1:500772714952:web:203ffc93567f0feb75e8fd"},H8=yr(Nc);var AA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SA={};var fi,mv;(function(){var t;function e(b,y){function _(){}_.prototype=y.prototype,b.D=y.prototype,b.prototype=new _,b.prototype.constructor=b,b.C=function(E,C,T){for(var w=Array(arguments.length-2),Yn=2;Yn<arguments.length;Yn++)w[Yn-2]=arguments[Yn];return y.prototype[C].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=b.g[0],_=b.g[1],C=b.g[2];var T=b.g[3],w=y+(T^_&(C^T))+E[0]+3614090360&4294967295;y=_+(w<<7&4294967295|w>>>25),w=T+(C^y&(_^C))+E[1]+3905402710&4294967295,T=y+(w<<12&4294967295|w>>>20),w=C+(_^T&(y^_))+E[2]+606105819&4294967295,C=T+(w<<17&4294967295|w>>>15),w=_+(y^C&(T^y))+E[3]+3250441966&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(T^_&(C^T))+E[4]+4118548399&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(C^y&(_^C))+E[5]+1200080426&4294967295,T=y+(w<<12&4294967295|w>>>20),w=C+(_^T&(y^_))+E[6]+2821735955&4294967295,C=T+(w<<17&4294967295|w>>>15),w=_+(y^C&(T^y))+E[7]+4249261313&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(T^_&(C^T))+E[8]+1770035416&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(C^y&(_^C))+E[9]+2336552879&4294967295,T=y+(w<<12&4294967295|w>>>20),w=C+(_^T&(y^_))+E[10]+4294925233&4294967295,C=T+(w<<17&4294967295|w>>>15),w=_+(y^C&(T^y))+E[11]+2304563134&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(T^_&(C^T))+E[12]+1804603682&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(C^y&(_^C))+E[13]+4254626195&4294967295,T=y+(w<<12&4294967295|w>>>20),w=C+(_^T&(y^_))+E[14]+2792965006&4294967295,C=T+(w<<17&4294967295|w>>>15),w=_+(y^C&(T^y))+E[15]+1236535329&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(C^T&(_^C))+E[1]+4129170786&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^C&(y^_))+E[6]+3225465664&4294967295,T=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(T^y))+E[11]+643717713&4294967295,C=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(C^T))+E[0]+3921069994&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(C^T&(_^C))+E[5]+3593408605&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^C&(y^_))+E[10]+38016083&4294967295,T=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(T^y))+E[15]+3634488961&4294967295,C=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(C^T))+E[4]+3889429448&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(C^T&(_^C))+E[9]+568446438&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^C&(y^_))+E[14]+3275163606&4294967295,T=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(T^y))+E[3]+4107603335&4294967295,C=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(C^T))+E[8]+1163531501&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(C^T&(_^C))+E[13]+2850285829&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^C&(y^_))+E[2]+4243563512&4294967295,T=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(T^y))+E[7]+1735328473&4294967295,C=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(C^T))+E[12]+2368359562&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(_^C^T)+E[5]+4294588738&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^C)+E[8]+2272392833&4294967295,T=y+(w<<11&4294967295|w>>>21),w=C+(T^y^_)+E[11]+1839030562&4294967295,C=T+(w<<16&4294967295|w>>>16),w=_+(C^T^y)+E[14]+4259657740&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(_^C^T)+E[1]+2763975236&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^C)+E[4]+1272893353&4294967295,T=y+(w<<11&4294967295|w>>>21),w=C+(T^y^_)+E[7]+4139469664&4294967295,C=T+(w<<16&4294967295|w>>>16),w=_+(C^T^y)+E[10]+3200236656&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(_^C^T)+E[13]+681279174&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^C)+E[0]+3936430074&4294967295,T=y+(w<<11&4294967295|w>>>21),w=C+(T^y^_)+E[3]+3572445317&4294967295,C=T+(w<<16&4294967295|w>>>16),w=_+(C^T^y)+E[6]+76029189&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(_^C^T)+E[9]+3654602809&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^C)+E[12]+3873151461&4294967295,T=y+(w<<11&4294967295|w>>>21),w=C+(T^y^_)+E[15]+530742520&4294967295,C=T+(w<<16&4294967295|w>>>16),w=_+(C^T^y)+E[2]+3299628645&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(C^(_|~T))+E[0]+4096336452&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~C))+E[7]+1126891415&4294967295,T=y+(w<<10&4294967295|w>>>22),w=C+(y^(T|~_))+E[14]+2878612391&4294967295,C=T+(w<<15&4294967295|w>>>17),w=_+(T^(C|~y))+E[5]+4237533241&4294967295,_=C+(w<<21&4294967295|w>>>11),w=y+(C^(_|~T))+E[12]+1700485571&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~C))+E[3]+2399980690&4294967295,T=y+(w<<10&4294967295|w>>>22),w=C+(y^(T|~_))+E[10]+4293915773&4294967295,C=T+(w<<15&4294967295|w>>>17),w=_+(T^(C|~y))+E[1]+2240044497&4294967295,_=C+(w<<21&4294967295|w>>>11),w=y+(C^(_|~T))+E[8]+1873313359&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~C))+E[15]+4264355552&4294967295,T=y+(w<<10&4294967295|w>>>22),w=C+(y^(T|~_))+E[6]+2734768916&4294967295,C=T+(w<<15&4294967295|w>>>17),w=_+(T^(C|~y))+E[13]+1309151649&4294967295,_=C+(w<<21&4294967295|w>>>11),w=y+(C^(_|~T))+E[4]+4149444226&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~C))+E[11]+3174756917&4294967295,T=y+(w<<10&4294967295|w>>>22),w=C+(y^(T|~_))+E[2]+718787259&4294967295,C=T+(w<<15&4294967295|w>>>17),w=_+(T^(C|~y))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+T&4294967295}r.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var _=y-this.blockSize,E=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=_;)i(this,b,T),T+=this.blockSize;if(typeof b=="string"){for(;T<y;)if(E[C++]=b.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<y;)if(E[C++]=b[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var _=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=_&255,_/=256;for(this.u(b),b=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)b[_++]=this.g[y]>>>E&255;return b};function o(b,y){var _=a;return Object.prototype.hasOwnProperty.call(_,b)?_[b]:_[b]=y(b)}function s(b,y){this.h=y;for(var _=[],E=!0,C=b.length-1;0<=C;C--){var T=b[C]|0;E&&T==y||(_[C]=T,E=!1)}this.g=_}var a={};function u(b){return-128<=b&&128>b?o(b,function(y){return new s([y|0],0>y?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var y=[],_=1,E=0;b>=_;E++)y[E]=b/_|0,_*=4294967296;return new s(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return R(h(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,C=0;C<b.length;C+=8){var T=Math.min(8,b.length-C),w=parseInt(b.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(w))):(E=E.j(_),E=E.add(l(w)))}return E}var p=u(0),m=u(1),I=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var b=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);b+=(0<=E?E:4294967296+E)*y,y*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x(this))return"0";if(N(this))return"-"+R(this).toString(b);for(var y=l(Math.pow(b,6)),_=this,E="";;){var C=X(_,y).g;_=L(_,C.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(b);if(_=C,x(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function x(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function N(b){return b.h==-1}t.l=function(b){return b=L(this,b),N(b)?-1:x(b)?0:1};function R(b){for(var y=b.g.length,_=[],E=0;E<y;E++)_[E]=~b.g[E];return new s(_,~b.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0,C=0;C<=y;C++){var T=E+(this.i(C)&65535)+(b.i(C)&65535),w=(T>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);E=w>>>16,T&=65535,w&=65535,_[C]=w<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function L(b,y){return b.add(R(y))}t.j=function(b){if(x(this)||x(b))return p;if(N(this))return N(b)?R(this).j(R(b)):R(R(this).j(b));if(N(b))return R(this.j(R(b)));if(0>this.l(I)&&0>b.l(I))return l(this.m()*b.m());for(var y=this.g.length+b.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<b.g.length;C++){var T=this.i(E)>>>16,w=this.i(E)&65535,Yn=b.i(C)>>>16,Js=b.i(C)&65535;_[2*E+2*C]+=w*Js,K(_,2*E+2*C),_[2*E+2*C+1]+=T*Js,K(_,2*E+2*C+1),_[2*E+2*C+1]+=w*Yn,K(_,2*E+2*C+1),_[2*E+2*C+2]+=T*Yn,K(_,2*E+2*C+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new s(_,0)};function K(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function Q(b,y){this.g=b,this.h=y}function X(b,y){if(x(y))throw Error("division by zero");if(x(b))return new Q(p,p);if(N(b))return y=X(R(b),y),new Q(R(y.g),R(y.h));if(N(y))return y=X(b,R(y)),new Q(R(y.g),y.h);if(30<b.g.length){if(N(b)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(b);)_=Pe(_),E=Pe(E);var C=ie(_,1),T=ie(E,1);for(E=ie(E,2),_=ie(_,2);!x(E);){var w=T.add(E);0>=w.l(b)&&(C=C.add(_),T=w),E=ie(E,1),_=ie(_,1)}return y=L(b,C.j(y)),new Q(C,y)}for(C=p;0<=b.l(y);){for(_=Math.max(1,Math.floor(b.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),w=T.j(y);N(w)||0<w.l(b);)_-=E,T=l(_),w=T.j(y);x(T)&&(T=m),C=C.add(T),b=L(b,w)}return new Q(C,b)}t.A=function(b){return X(this,b).h},t.and=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&b.i(E);return new s(_,this.h&b.h)},t.or=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|b.i(E);return new s(_,this.h|b.h)},t.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^b.i(E);return new s(_,this.h^b.h)};function Pe(b){for(var y=b.g.length+1,_=[],E=0;E<y;E++)_[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(_,b.h)}function ie(b,y){var _=y>>5;y%=32;for(var E=b.g.length-_,C=[],T=0;T<E;T++)C[T]=0<y?b.i(T+_)>>>y|b.i(T+_+1)<<32-y:b.i(T+_);return new s(C,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mv=SA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,fi=SA.Integer=s}).apply(typeof AA<"u"?AA:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={};var yv,RB,Ts,vv,Oc,fh,_v,wv,Iv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function I(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function x(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,S){for(var j=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)j[xe-2]=arguments[xe];return d.prototype[D].apply(g,j)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,S=g.length||0;c.length=D+S;for(let j=0;j<S;j++)c[D+j]=g[j]}else c.push(g)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var Pe=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ie(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function w(){var c=lf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Yn{constructor(){this.h=this.g=null}add(d,f){let g=Js.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Js=new L(()=>new LM,c=>c.reset());class LM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Zs,Xs=!1,lf=new Yn,xw=()=>{let c=a.Promise.resolve(void 0);Zs=()=>{c.then(VM)}};var VM=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){T(f)}var d=Js;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Xs=!1};function Sr(){this.s=this.s,this.C=this.C}Sr.prototype.s=!1,Sr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Sr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _t(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var jM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ea(c,d){if(_t.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Pe){e:{try{X(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:UM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ea.aa.h.call(this)}}x(ea,_t);var UM={2:"touch",3:"pen",4:"mouse"};ea.prototype.h=function(){ea.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ta="closure_listenable_"+(1e6*Math.random()|0),BM=0;function $M(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++BM,this.da=this.fa=!1}function uu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function lu(c){this.src=c,this.g={},this.h=0}lu.prototype.add=function(c,d,f,g,D){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var j=hf(c,d,g,D);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new $M(d,this.src,S,!!g,D),d.fa=f,c.push(d)),d};function df(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=D)&&Array.prototype.splice.call(g,D,1),S&&(uu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function hf(c,d,f,g){for(var D=0;D<c.length;++D){var S=c[D];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return D}return-1}var ff="closure_lm_"+(1e6*Math.random()|0),pf={};function Rw(c,d,f,g,D){if(g&&g.once)return Nw(c,d,f,g,D);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Rw(c,d[S],f,g,D);return null}return f=vf(f),c&&c[ta]?c.K(d,f,l(g)?!!g.capture:!!g,D):Pw(c,d,f,!1,g,D)}function Pw(c,d,f,g,D,S){if(!d)throw Error("Invalid event type");var j=l(D)?!!D.capture:!!D,xe=mf(c);if(xe||(c[ff]=xe=new lu(c)),f=xe.add(d,f,g,j,S),f.proxy)return f;if(g=qM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)jM||(D=j),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(kw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function qM(){function c(f){return d.call(c.src,c.listener,f)}let d=zM;return c}function Nw(c,d,f,g,D){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Nw(c,d[S],f,g,D);return null}return f=vf(f),c&&c[ta]?c.L(d,f,l(g)?!!g.capture:!!g,D):Pw(c,d,f,!0,g,D)}function Ow(c,d,f,g,D){if(Array.isArray(d))for(var S=0;S<d.length;S++)Ow(c,d[S],f,g,D);else g=l(g)?!!g.capture:!!g,f=vf(f),c&&c[ta]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=hf(S,f,g,D),-1<f&&(uu(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=mf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=hf(d,f,g,D)),(f=-1<c?d[c]:null)&&gf(f))}function gf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ta])df(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(kw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=mf(d))?(df(f,c),f.h==0&&(f.src=null,d[ff]=null)):uu(c)}}}function kw(c){return c in pf?pf[c]:pf[c]="on"+c}function zM(c,d){if(c.da)c=!0;else{d=new ea(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&gf(c),c=f.call(g,d)}return c}function mf(c){return c=c[ff],c instanceof lu?c:null}var yf="__closure_events_fn_"+(1e9*Math.random()>>>0);function vf(c){return typeof c=="function"?c:(c[yf]||(c[yf]=function(d){return c.handleEvent(d)}),c[yf])}function wt(){Sr.call(this),this.i=new lu(this),this.M=this,this.F=null}x(wt,Sr),wt.prototype[ta]=!0,wt.prototype.removeEventListener=function(c,d,f,g){Ow(this,c,d,f,g)};function Pt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new _t(d,c);else if(d instanceof _t)d.target=d.target||c;else{var D=d;d=new _t(g,c),E(d,D)}if(D=!0,f)for(var S=f.length-1;0<=S;S--){var j=d.g=f[S];D=du(j,g,!0,d)&&D}if(j=d.g=c,D=du(j,g,!0,d)&&D,D=du(j,g,!1,d)&&D,f)for(S=0;S<f.length;S++)j=d.g=f[S],D=du(j,g,!1,d)&&D}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)uu(f[g]);delete c.g[d],c.h--}}this.F=null},wt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},wt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function du(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,S=0;S<d.length;++S){var j=d[S];if(j&&!j.da&&j.capture==f){var xe=j.listener,dt=j.ha||j.src;j.fa&&df(c.i,j),D=xe.call(dt,g)!==!1&&D}}return D&&!g.defaultPrevented}function Fw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Lw(c){c.g=Fw(()=>{c.g=null,c.i&&(c.i=!1,Lw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class HM extends Sr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Lw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(c){Sr.call(this),this.h=c,this.g={}}x(na,Sr);var Vw=[];function jw(c){ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&gf(d)},c),c.g={}}na.prototype.N=function(){na.aa.N.call(this),jw(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _f=a.JSON.stringify,GM=a.JSON.parse,WM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function wf(){}wf.prototype.h=null;function Uw(c){return c.h||(c.h=c.i())}function Bw(){}var ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function If(){_t.call(this,"d")}x(If,_t);function Ef(){_t.call(this,"c")}x(Ef,_t);var Ti={},$w=null;function hu(){return $w=$w||new wt}Ti.La="serverreachability";function qw(c){_t.call(this,Ti.La,c)}x(qw,_t);function ia(c){let d=hu();Pt(d,new qw(d))}Ti.STAT_EVENT="statevent";function zw(c,d){_t.call(this,Ti.STAT_EVENT,c),this.stat=d}x(zw,_t);function Nt(c){let d=hu();Pt(d,new zw(d,c))}Ti.Ma="timingevent";function Hw(c,d){_t.call(this,Ti.Ma,c),this.size=d}x(Hw,_t);function oa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function sa(){this.g=!0}sa.prototype.xa=function(){this.g=!1};function KM(c,d,f,g,D,S){c.info(function(){if(c.g)if(S)for(var j="",xe=S.split("&"),dt=0;dt<xe.length;dt++){var we=xe[dt].split("=");if(1<we.length){var It=we[0];we=we[1];var Et=It.split("_");j=2<=Et.length&&Et[1]=="type"?j+(It+"="+we+"&"):j+(It+"=redacted&")}}else j=null;else j=S;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+j})}function QM(c,d,f,g,D,S,j){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+S+" "+j})}function Io(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+JM(c,f)+(g?" "+g:"")})}function YM(c,d){c.info(function(){return"TIMEOUT: "+d})}sa.prototype.info=function(){};function JM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var S=D[0];if(S!="noop"&&S!="stop"&&S!="close")for(var j=1;j<D.length;j++)D[j]=""}}}}return _f(f)}catch{return d}}var fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bf;function pu(){}x(pu,wf),pu.prototype.g=function(){return new XMLHttpRequest},pu.prototype.i=function(){return{}},bf=new pu;function Mr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ww}function Ww(){this.i=null,this.g="",this.h=!1}var Kw={},Cf={};function Df(c,d,f){c.L=1,c.v=vu(Jn(d)),c.m=f,c.P=!0,Qw(c,null)}function Qw(c,d){c.F=Date.now(),gu(c),c.A=Jn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),uI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Ww,c.g=AI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new HM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Vw[0]=D.toString()),D=Vw);for(var S=0;S<D.length;S++){var j=Rw(f,D[S],g||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ia(),KM(c.i,c.u,c.A,c.l,c.R,c.m)}Mr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Zn(c)==3?d.j():this.Y(c)},Mr.prototype.Y=function(c){try{if(c==this.g)e:{let Et=Zn(this.g);var d=this.g.Ba();let Co=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||mI(this.g)))){this.J||Et!=4||d==7||(d==8||0>=Co?ia(3):ia(2)),Tf(this);var f=this.g.Z();this.X=f;t:if(Yw(this)){var g=mI(this.g);c="";var D=g.length,S=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),aa(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,QM(this.i,this.u,this.A,this.l,this.R,Et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,dt=this.g;if((xe=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(xe)){var we=xe;break t}}we=null}if(f=we)Io(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Af(this,f);else{this.o=!1,this.s=3,Nt(12),Ai(this),aa(this);break e}}if(this.P){f=!0;let un;for(;!this.J&&this.C<j.length;)if(un=ZM(this,j),un==Cf){Et==4&&(this.s=4,Nt(14),f=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Kw){this.s=4,Nt(15),Io(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Io(this.i,this.l,un,null),Af(this,un);if(Yw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||j.length!=0||this.h.h||(this.s=1,Nt(16),f=!1),this.o=this.o&&f,!f)Io(this.i,this.l,j,"[Invalid Chunked Response]"),Ai(this),aa(this);else if(0<j.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Nf(It),It.M=!0,Nt(11))}}else Io(this.i,this.l,j,null),Af(this,j);Et==4&&Ai(this),this.o&&!this.J&&(Et==4?bI(this.j,this):(this.o=!1,gu(this)))}else gx(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Ai(this),aa(this)}}}catch{}finally{}};function Yw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ZM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Cf:(f=Number(d.substring(f,g)),isNaN(f)?Kw:(g+=1,g+f>d.length?Cf:(d=d.slice(g,g+f),c.C=g+f,d)))}Mr.prototype.cancel=function(){this.J=!0,Ai(this)};function gu(c){c.S=Date.now()+c.I,Jw(c,c.I)}function Jw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=oa(m(c.ba,c),d)}function Tf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Mr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(YM(this.i,this.A),this.L!=2&&(ia(),Nt(17)),Ai(this),this.s=2,aa(this)):Jw(this,this.S-c)};function aa(c){c.j.G==0||c.J||bI(c.j,c)}function Ai(c){Tf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,jw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Af(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Sf(f.h,c))){if(!c.K&&Sf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)bu(f),Iu(f);else break e;Pf(f),Nt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=oa(m(f.Za,f),6e3));if(1>=eI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Mi(f,11)}else if((c.K||f.g==c)&&bu(f),!K(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let we=D[d];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let It=we[3];It!=null&&(f.la=It,f.j.info("VER="+f.la));let Et=we[4];Et!=null&&(f.Aa=Et,f.j.info("SVER="+f.Aa));let Co=we[5];Co!=null&&typeof Co=="number"&&0<Co&&(g=1.5*Co,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let un=c.g;if(un){let Du=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Du){var S=g.h;S.g||Du.indexOf("spdy")==-1&&Du.indexOf("quic")==-1&&Du.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Mf(S,S.h),S.h=null))}if(g.D){let Of=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Of&&(g.ya=Of,Fe(g.I,g.D,Of))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var j=c;if(g.qa=TI(g,g.J?g.ia:null,g.W),j.K){tI(g.h,j);var xe=j,dt=g.L;dt&&(xe.I=dt),xe.B&&(Tf(xe),gu(xe)),g.g=j}else II(g);0<f.i.length&&Eu(f)}else we[0]!="stop"&&we[0]!="close"||Mi(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Mi(f,7):Rf(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}ia(4)}catch{}}var XM=class{constructor(c,d){this.g=c,this.map=d}};function Zw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function eI(c){return c.h?1:c.g?c.g.size:0}function Sf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Mf(c,d){c.g?c.g.add(d):c.h=d}function tI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Zw.prototype.cancel=function(){if(this.i=nI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function nI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function ex(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function tx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function rI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=tx(c),g=ex(c),D=g.length,S=0;S<D;S++)d.call(void 0,g[S],f&&f[S],c)}var iI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var S=c[f].substring(0,g);D=c[f].substring(g+1)}else S=c[f];d(S,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Si){this.h=c.h,mu(this,c.j),this.o=c.o,this.g=c.g,yu(this,c.s),this.l=c.l;var d=c.i,f=new la;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),oI(this,f),this.m=c.m}else c&&(d=String(c).match(iI))?(this.h=!1,mu(this,d[1]||"",!0),this.o=ca(d[2]||""),this.g=ca(d[3]||"",!0),yu(this,d[4]),this.l=ca(d[5]||"",!0),oI(this,d[6]||"",!0),this.m=ca(d[7]||"")):(this.h=!1,this.i=new la(null,this.h))}Si.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ua(d,sI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ua(d,sI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ua(f,f.charAt(0)=="/"?ox:ix,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ua(f,ax)),c.join("")};function Jn(c){return new Si(c)}function mu(c,d,f){c.j=f?ca(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function yu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function oI(c,d,f){d instanceof la?(c.i=d,cx(c.i,c.h)):(f||(d=ua(d,sx)),c.i=new la(d,c.h))}function Fe(c,d,f){c.i.set(d,f)}function vu(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ca(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ua(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,rx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sI=/[#\/\?@]/g,ix=/[#\?:]/g,ox=/[#\?]/g,sx=/[#\?@]/g,ax=/#/g;function la(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function xr(c){c.g||(c.g=new Map,c.h=0,c.i&&nx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=la.prototype,t.add=function(c,d){xr(this),this.i=null,c=Eo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function aI(c,d){xr(c),d=Eo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function cI(c,d){return xr(c),d=Eo(c,d),c.g.has(d)}t.forEach=function(c,d){xr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){xr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let S=0;S<D.length;S++)f.push(d[g])}return f},t.V=function(c){xr(this);let d=[];if(typeof c=="string")cI(this,c)&&(d=d.concat(this.g.get(Eo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return xr(this),this.i=null,c=Eo(this,c),cI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function uI(c,d,f){aI(c,d),0<f.length&&(c.i=null,c.g.set(Eo(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var D=S;j[g]!==""&&(D+="="+encodeURIComponent(String(j[g]))),c.push(D)}}return this.i=c.join("&")};function Eo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function cx(c,d){d&&!c.j&&(xr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(aI(this,g),uI(this,D,f))},c)),c.j=d}function ux(c,d){let f=new sa;if(a.Image){let g=new Image;g.onload=I(Rr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=I(Rr,f,"TestLoadImage: error",!1,d,g),g.onabort=I(Rr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(Rr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function lx(c,d){let f=new sa,g=new AbortController,D=setTimeout(()=>{g.abort(),Rr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(D),S.ok?Rr(f,"TestPingServer: ok",!0,d):Rr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Rr(f,"TestPingServer: error",!1,d)})}function Rr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function dx(){this.g=new WM}function hx(c,d,f){let g=f||"";try{rI(c,function(D,S){let j=D;l(D)&&(j=_f(D)),d.push(g+S+"="+encodeURIComponent(j))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function da(c){this.l=c.Ub||null,this.j=c.eb||!1}x(da,wf),da.prototype.g=function(){return new _u(this.l,this.j)},da.prototype.i=function(c){return function(){return c}}({});function _u(c,d){wt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(_u,wt),t=_u.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,fa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function lI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ha(this):fa(this),this.readyState==3&&lI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ha(this))},t.Qa=function(c){this.g&&(this.response=c,ha(this))},t.ga=function(){this.g&&ha(this)};function ha(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function fa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function dI(c){let d="";return ie(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function xf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=dI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Fe(c,d,f))}function $e(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x($e,wt);var fx=/^https?$/i,px=["POST","PUT"];t=$e.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bf.g(),this.v=this.o?Uw(this.o):Uw(bf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){hI(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(px,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,j]of f)this.g.setRequestHeader(S,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gI(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){hI(this,S)}};function hI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,fI(c),wu(c)}function fI(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),wu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wu(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pI(this):this.bb())},t.bb=function(){pI(this)};function pI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)Fw(c.Ea,0,c);else if(Pt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=j===0){var D=String(c.D).match(iI)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!fx.test(D?D.toLowerCase():"")}f=g}if(f)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var S=2<Zn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",fI(c)}}finally{wu(c)}}}}function wu(c,d){if(c.g){gI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Pt(c,"ready");try{f.onreadystatechange=g}catch{}}}function gI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),GM(d)}};function mI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gx(c){let d={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=C(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[D]||[];d[D]=S,S.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function yI(c){this.Aa=0,this.i=[],this.j=new sa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,c),this.cb=pa("retryDelaySeedMs",1e4,c),this.Wa=pa("forwardChannelMaxRetries",2,c),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zw(c&&c.concurrentRequestLimit),this.Da=new dx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Nt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=TI(this,null,this.W),Eu(this)};function Rf(c){if(vI(c),c.G==3){var d=c.U++,f=Jn(c.I);if(Fe(f,"SID",c.K),Fe(f,"RID",d),Fe(f,"TYPE","terminate"),ga(c,f),d=new Mr(c,c.j,d),d.L=2,d.v=vu(Jn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=AI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),gu(d)}DI(c)}function Iu(c){c.g&&(Nf(c),c.g.cancel(),c.g=null)}function vI(c){Iu(c),c.u&&(a.clearTimeout(c.u),c.u=null),bu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Eu(c){if(!Xw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Zs||xw(),Xs||(Zs(),Xs=!0),lf.add(d,c),c.B=0}}function mx(c,d){return eI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=oa(m(c.Ga,c,d),CI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Mr(this,this.j,c),S=this.o;if(this.S&&(S?(S=y(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(D.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=wI(this,D,d),f=Jn(this.I),Fe(f,"RID",c),Fe(f,"CVER",22),this.D&&Fe(f,"X-HTTP-Session-Id",this.D),ga(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(dI(S)))+"&"+d:this.m&&xf(f,this.m,S)),Mf(this.h,D),this.Ua&&Fe(f,"TYPE","init"),this.P?(Fe(f,"$req",d),Fe(f,"SID","null"),D.T=!0,Df(D,f,null)):Df(D,f,d),this.G=2}}else this.G==3&&(c?_I(this,c):this.i.length==0||Xw(this.h)||_I(this))};function _I(c,d){var f;d?f=d.l:f=c.U++;let g=Jn(c.I);Fe(g,"SID",c.K),Fe(g,"RID",f),Fe(g,"AID",c.T),ga(c,g),c.m&&c.o&&xf(g,c.m,c.o),f=new Mr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=wI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mf(c.h,f),Df(f,g,d)}function ga(c,d){c.H&&ie(c.H,function(f,g){Fe(d,g,f)}),c.l&&rI({},function(f,g){Fe(d,g,f)})}function wI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let S=-1;for(;;){let j=["count="+f];S==-1?0<f?(S=D[0].g,j.push("ofs="+S)):S=0:j.push("ofs="+S);let xe=!0;for(let dt=0;dt<f;dt++){let we=D[dt].g,It=D[dt].map;if(we-=S,0>we)S=Math.max(0,D[dt].g-100),xe=!1;else try{hx(It,j,"req"+we+"_")}catch{g&&g(It)}}if(xe){g=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function II(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Zs||xw(),Xs||(Zs(),Xs=!0),lf.add(d,c),c.v=0}}function Pf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=oa(m(c.Fa,c),CI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,EI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=oa(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),Iu(this),EI(this))};function Nf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function EI(c){c.g=new Mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Jn(c.qa);Fe(d,"RID","rpc"),Fe(d,"SID",c.K),Fe(d,"AID",c.T),Fe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(d,"TO",c.ja),Fe(d,"TYPE","xmlhttp"),ga(c,d),c.m&&c.o&&xf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=vu(Jn(d)),f.m=null,f.P=!0,Qw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Iu(this),Pf(this),Nt(19))};function bu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function bI(c,d){var f=null;if(c.g==d){bu(c),Nf(c),c.g=null;var g=2}else if(Sf(c.h,d))f=d.D,tI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=hu(),Pt(g,new Hw(g,f)),Eu(c)}else II(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&mx(c,d)||g==2&&Pf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function CI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Mi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new Si(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||mu(g,"https"),vu(g),D?ux(g.toString(),f):lx(g.toString(),f)}else Nt(2);c.G=0,c.l&&c.l.sa(d),DI(c),vI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function DI(c){if(c.G=0,c.ka=[],c.l){let d=nI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function TI(c,d,f){var g=f instanceof Si?Jn(f):new Si(f);if(g.g!="")d&&(g.g=d+"."+g.g),yu(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var S=new Si(null);g&&mu(S,g),d&&(S.g=d),D&&yu(S,D),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Fe(g,f,d),Fe(g,"VER",c.la),ga(c,g),g}function AI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new $e(new da({eb:f})):new $e(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function SI(){}t=SI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Cu(){}Cu.prototype.g=function(c,d){return new qt(c,d)};function qt(c,d){wt.call(this),this.g=new yI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new bo(this)}x(qt,wt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Rf(this.g)},qt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=_f(c),c=f);d.i.push(new XM(d.Ya++,c)),d.G==3&&Eu(d)},qt.prototype.N=function(){this.g.l=null,delete this.j,Rf(this.g),delete this.g,qt.aa.N.call(this)};function MI(c){If.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}x(MI,If);function xI(){Ef.call(this),this.status=1}x(xI,Ef);function bo(c){this.g=c}x(bo,SI),bo.prototype.ua=function(){Pt(this.g,"a")},bo.prototype.ta=function(c){Pt(this.g,new MI(c))},bo.prototype.sa=function(c){Pt(this.g,new xI)},bo.prototype.ra=function(){Pt(this.g,"b")},Cu.prototype.createWebChannel=Cu.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,Iv=Ir.createWebChannelTransport=function(){return new Cu},wv=Ir.getStatEventTarget=function(){return hu()},_v=Ir.Event=Ti,fh=Ir.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fu.NO_ERROR=0,fu.TIMEOUT=8,fu.HTTP_ERROR=6,Oc=Ir.ErrorCode=fu,Gw.COMPLETE="complete",vv=Ir.EventType=Gw,Bw.EventType=ra,ra.OPEN="a",ra.CLOSE="b",ra.ERROR="c",ra.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Ts=Ir.WebChannel=Bw,RB=Ir.FetchXmlHttpFactory=da,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,yv=Ir.XhrIo=$e}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});var MA="@firebase/firestore";var lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");var zs="10.14.0";var co=new oi("@firebase/firestore");function kc(){return co.logLevel}function q(t,...e){if(co.logLevel<=ge.DEBUG){let n=e.map(sw);co.debug(`Firestore (${zs}): ${t}`,...n)}}function br(t,...e){if(co.logLevel<=ge.ERROR){let n=e.map(sw);co.error(`Firestore (${zs}): ${t}`,...n)}}function Ns(t,...e){if(co.logLevel<=ge.WARN){let n=e.map(sw);co.warn(`Firestore (${zs}): ${t}`,...n)}}function sw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: `+t;throw br(e),new Error(e)}function Se(t,e){t||ne()}function re(t,e){return t}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Yt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Er=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var vh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Tv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}},Av=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Sv=class{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Er,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Er)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new vh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new lt(e)}},Mv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},xv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Mv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Rv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Pv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Se(this.o===void 0);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new Rv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function PB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var _h=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=PB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function be(t,e){return t<e?-1:t>e?1:0}function Os(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var vt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new vt(0,0))}static max(){return new t(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var wh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends wh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},NB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jt=class t extends wh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return NB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var J=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var Nv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Nv.UNKNOWN_ID=-1;function OB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new uo(i,J.empty(),e)}function kB(t){return new uo(t.readTime,t.key,-1)}var uo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ae.min(),J.empty(),-1)}static max(){return new t(ae.max(),J.empty(),-1)}};function FB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}var LB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ov=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function eu(t){return v(this,null,function*(){if(t.code!==P.FAILED_PRECONDITION||t.message!==LB)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var V=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function VB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tu(t){return t.name==="IndexedDbTransactionError"}var dS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Qh(t){return t==null}function Bc(t){return t===0&&1/t==-1/0}function jB(t){return typeof t=="number"&&Number.isInteger(t)&&!Bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var UB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],i7=[...UB,"documentOverlays"],BB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$B=BB,qB=[...$B,"indexConfiguration","indexState","indexEntries"];var o7=[...qB,"globals"];function xA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var He=class t{constructor(e,n){this.comparator=e,this.root=n||Gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}},xs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var xt=class t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ih(this.data.getIterator())}getIteratorFrom(e){return new Ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ih=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Hn=class t{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new xt(Jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Eh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Rt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Eh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Rt.EMPTY_BYTE_STRING=new Rt("");var zB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(t){if(Se(!!t),typeof t=="string"){let e=0,n=zB.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mi(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}function aw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cw(t){let e=t.mapValue.fields.__previous_value__;return aw(e)?cw(e):e}function $c(t){let e=Cr(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}var kv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},bh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aw(t)?4:pS(t)?9007199254740991:fS(t)?10:11:ne()}function Qn(t,e){if(t===e)return!0;let n=lo(t);if(n!==lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $c(t).isEqual($c(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Cr(i.timestampValue),a=Cr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return mi(i.bytesValue).isEqual(mi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ue(i.geoPointValue.latitude)===Ue(o.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ue(i.integerValue)===Ue(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ue(i.doubleValue),a=Ue(o.doubleValue);return s===a?Bc(s)===Bc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Os(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xA(s)!==xA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Qn(s[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function qc(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function ks(t,e){if(t===e)return 0;let n=lo(t),r=lo(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ue(o.integerValue||o.doubleValue),u=Ue(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return RA(t.timestampValue,e.timestampValue);case 4:return RA($c(t),$c(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(o,s){let a=mi(o),u=mi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=be(a[l],u[l]);if(h!==0)return h}return be(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=be(Ue(o.latitude),Ue(s.latitude));return a!==0?a:be(Ue(o.longitude),Ue(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},I=(a=p.value)===null||a===void 0?void 0:a.arrayValue,x=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=be(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((h=x?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:PA(I,x)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ph.mapValue&&s===ph.mapValue)return 0;if(o===ph.mapValue)return 1;if(s===ph.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=be(u[p],h[p]);if(m!==0)return m;let I=ks(a[u[p]],l[h[p]]);if(I!==0)return I}return be(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function RA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);let n=Cr(t),r=Cr(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function PA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ks(n[i],r[i]);if(o)return o}return be(n.length,r.length)}function Fs(t){return Fv(t)}function Fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Fv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Fv(n.fields[s])}`;return i+"}"}(t.mapValue):ne()}function NA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lv(t){return!!t&&"integerValue"in t}function uw(t){return!!t&&"arrayValue"in t}function OA(t){return!!t&&"nullValue"in t}function kA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function fS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var En=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Lc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Lc(this.value))}};function gS(t){let e=[];return Hs(t.fields,(n,r)=>{let i=new Jt([n]);if(mh(r)){let o=gS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Hn(e)}var bn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),En.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ls=class{constructor(e,n){this.position=e,this.inclusive=n}};function FA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=ks(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}var ho=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function HB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ch=class{},et=class t extends Ch{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jv(e,n,r):n==="array-contains"?new $v(e,r):n==="in"?new qv(e,r):n==="not-in"?new zv(e,r):n==="array-contains-any"?new Hv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Uv(e,r):new Bv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ks(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Cn=class t extends Ch{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return mS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function mS(t){return t.op==="and"}function yS(t){return GB(t)&&mS(t)}function GB(t){for(let e of t.filters)if(e instanceof Cn)return!1;return!0}function Vv(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Fs(t.value);if(yS(t))return t.filters.map(e=>Vv(e)).join(",");{let e=t.filters.map(n=>Vv(n)).join(",");return`${t.op}(${e})`}}function vS(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Qn(r.value,i.value)}(t,e):t instanceof Cn?function(r,i){return i instanceof Cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&vS(s,i.filters[a]),!0):!1}(t,e):void ne()}function _S(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(t):t instanceof Cn?function(n){return n.op.toString()+" {"+n.getFilters().map(_S).join(" ,")+"}"}(t):"Filter"}var jv=class extends et{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){let n=J.comparator(e.key,this.key);return this.matchesComparison(n)}},Uv=class extends et{constructor(e,n){super(e,"in",n),this.keys=wS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Bv=class extends et{constructor(e,n){super(e,"not-in",n),this.keys=wS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function wS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}var $v=class extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return uw(n)&&qc(n.arrayValue,this.value)}},qv=class extends et{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}},zv=class extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!qc(this.value.arrayValue,n)}},Hv=class extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!uw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}};var Gv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function VA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Gv(t,e,n,r,i,o,s)}function lw(t){let e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fs(r)).join(",")),e.ue=n}return e.ue}function dw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LA(t.startAt,e.startAt)&&LA(t.endAt,e.endAt)}function Wv(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var yi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function WB(t,e,n,r,i,o,s,a){return new yi(t,e,n,r,i,o,s,a)}function hw(t){return new yi(t)}function jA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IS(t){return t.collectionGroup!==null}function Vc(t){let e=re(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new xt(Jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ho(o,r))}),n.has(Jt.keyField().canonicalString())||e.ce.push(new ho(Jt.keyField(),r))}return e.ce}function Wn(t){let e=re(t);return e.le||(e.le=KB(e,Vc(t))),e.le}function KB(t,e){if(t.limitType==="F")return VA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ho(i.field,o)});let n=t.endAt?new Ls(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ls(t.startAt.position,t.startAt.inclusive):null;return VA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kv(t,e){let n=t.filters.concat([e]);return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dh(t,e,n){return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yh(t,e){return dw(Wn(t),Wn(e))&&t.limitType===e.limitType}function ES(t){return`${lw(Wn(t))}|lt:${t.limitType}`}function As(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_S(i)).join(", ")}]`),Qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fs(i)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function Jh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Vc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=FA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Vc(r),i)||r.endAt&&!function(s,a,u){let l=FA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Vc(r),i))}(t,e)}function QB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bS(t){return(e,n)=>{let r=!1;for(let i of Vc(t)){let o=YB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function YB(t,e,n){let r=t.field.isKeyField()?J.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ks(u,l):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var vi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return hS(this.inner)}size(){return this.innerSize}};var JB=new He(J.comparator);function Dr(){return JB}var CS=new He(J.comparator);function Fc(...t){let e=CS;for(let n of t)e=e.insert(n.key,n);return e}function DS(t){let e=CS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function io(){return jc()}function TS(){return jc()}function jc(){return new vi(t=>t.toString(),(t,e)=>t.isEqual(e))}var ZB=new He(J.comparator),XB=new xt(J.comparator);function me(...t){let e=XB;for(let n of t)e=e.add(n);return e}var e$=new xt(be);function t$(){return e$}function fw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function AS(t){return{integerValue:""+t}}function n$(t,e){return jB(e)?AS(e):fw(t,e)}var Vs=class{constructor(){this._=void 0}};function r$(t,e,n){return t instanceof js?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&aw(o)&&(o=cw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof fo?MS(t,e):t instanceof po?xS(t,e):function(i,o){let s=SS(i,o),a=UA(s)+UA(i.Pe);return Lv(s)&&Lv(i.Pe)?AS(a):fw(i.serializer,a)}(t,e)}function i$(t,e,n){return t instanceof fo?MS(t,e):t instanceof po?xS(t,e):n}function SS(t,e){return t instanceof Us?function(r){return Lv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var js=class extends Vs{},fo=class extends Vs{constructor(e){super(),this.elements=e}};function MS(t,e){let n=RS(e);for(let r of t.elements)n.some(i=>Qn(i,r))||n.push(r);return{arrayValue:{values:n}}}var po=class extends Vs{constructor(e){super(),this.elements=e}};function xS(t,e){let n=RS(e);for(let r of t.elements)n=n.filter(i=>!Qn(i,r));return{arrayValue:{values:n}}}var Us=class extends Vs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function UA(t){return Ue(t.integerValue||t.doubleValue)}function RS(t){return uw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function o$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof fo&&i instanceof fo||r instanceof po&&i instanceof po?Os(r.elements,i.elements,Qn):r instanceof Us&&i instanceof Us?Qn(r.Pe,i.Pe):r instanceof js&&i instanceof js}(t.transform,e.transform)}var Qv=class{constructor(e,n){this.version=e,this.transformResults=n}},pi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Bs=class{};function PS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Th(t.key,pi.none()):new go(t.key,t.data,pi.none());{let n=t.data,r=En.empty(),i=new xt(Jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Tr(t.key,r,new Hn(i.toArray()),pi.none())}}function s$(t,e,n){t instanceof go?function(i,o,s){let a=i.value.clone(),u=$A(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Tr?function(i,o,s){if(!yh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=$A(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(NS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Uc(t,e,n,r){return t instanceof go?function(o,s,a,u){if(!yh(o.precondition,s))return a;let l=o.value.clone(),h=qA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Tr?function(o,s,a,u){if(!yh(o.precondition,s))return a;let l=qA(o.fieldTransforms,u,s),h=s.data;return h.setAll(NS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return yh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function a$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=SS(r.transform,i||null);o!=null&&(n===null&&(n=En.empty()),n.set(r.field,o))}return n||null}function BA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Os(r,i,(o,s)=>o$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var go=class extends Bs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Tr=class extends Bs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function NS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function $A(t,e,n){let r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,i$(s,a,n[i]))}return r}function qA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,r$(o,s,e))}return r}var Th=class extends Bs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Yv=class extends Bs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Jv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&s$(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Uc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=TS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=PS(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,(n,r)=>BA(n,r))&&Os(this.baseMutations,e.baseMutations,(n,r)=>BA(n,r))}},Zv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return ZB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Xv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var e_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ze,_e;function c$(t){switch(t){default:return ne();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function OS(t){if(t===void 0)return br("GRPC error has no .code"),P.UNKNOWN;switch(t){case Ze.OK:return P.OK;case Ze.CANCELLED:return P.CANCELLED;case Ze.UNKNOWN:return P.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return P.INTERNAL;case Ze.UNAVAILABLE:return P.UNAVAILABLE;case Ze.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ze.NOT_FOUND:return P.NOT_FOUND;case Ze.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ze.ABORTED:return P.ABORTED;case Ze.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ze.DATA_LOSS:return P.DATA_LOSS;default:return ne()}}(_e=Ze||(Ze={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var zA=null;function u$(){return new TextEncoder}var l$=new fi([4294967295,4294967295],0);function HA(t){let e=u$().encode(t),n=new mv;return n.update(e),new Uint8Array(n.digest())}function GA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fi([n,r],0),new fi([i,o],0)]}var t_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oo(`Invalid padding: ${n}`);if(r<0)throw new oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(fi.fromNumber(r)));return i.compare(l$)===1&&(i=new fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=HA(e),[r,i]=GA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=HA(e),[r,i]=GA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},oo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ah=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ae.min(),i,new He(be),Dr(),me())}},zc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,me(),me(),me())}};var Rs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Sh=class{constructor(e,n){this.targetId=e,this.me=n}},Mh=class{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},xh=class{constructor(){this.fe=0,this.ge=KA(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new zc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=KA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},n_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Dr(),this.qe=WA(),this.Qe=new He(be)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Wv(o))if(r===0){let s=new J(o.path);this.Ue(n,s,bn.newNoDocument(s,ae.min()))}else Se(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}zA?.et(function(h,p,m,I,x){var N,R,L,K,Q,X;let Pe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ie=p.unchangedNames;return ie&&(Pe.bloomFilter={applied:x===0,hashCount:(N=ie?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(K=(L=(R=ie?.bits)===null||R===void 0?void 0:R.bitmap)===null||L===void 0?void 0:L.length)!==null&&K!==void 0?K:0,padding:(X=(Q=ie?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&X!==void 0?X:0,mightContain:b=>{var y;return(y=I?.mightContain(b))!==null&&y!==void 0&&y}}),Pe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=mi(r).toUint8Array()}catch(u){if(u instanceof Eh)return Ns("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new t_(s,i,o)}catch(u){return Ns(u instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Wv(a.target)){let u=new J(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,bn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Ah(e,n,this.Qe,this.ke,r);return this.ke=Dr(),this.qe=WA(),this.Qe=new He(be),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(be),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function WA(){return new He(J.comparator)}function KA(){return new He(J.comparator)}var d$={asc:"ASCENDING",desc:"DESCENDING"},h$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f$={and:"AND",or:"OR"},r_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function i_(t,e){return t.useProto3Json||Qh(e)?e:{value:e}}function Rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p$(t,e){return Rh(t,e.toTimestamp())}function Kn(t){return Se(!!t),ae.fromTimestamp(function(n){let r=Cr(n);return new vt(r.seconds,r.nanos)}(t))}function pw(t,e){return o_(t,e).canonicalString()}function o_(t,e){let n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FS(t){let e=Be.fromString(t);return Se(BS(e)),e}function s_(t,e){return pw(t.databaseId,e.path)}function Ev(t,e){let n=FS(e);if(n.get(1)!==t.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(VS(n))}function LS(t,e){return pw(t.databaseId,e)}function g$(t){let e=FS(t);return e.length===4?Be.emptyPath():VS(e)}function a_(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VS(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function QA(t,e,n){return{name:s_(t,e),fields:n.value.mapValue.fields}}function m$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Se(h===void 0||typeof h=="string"),Rt.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:OS(l.code);return new B(h,l.message||"")}(s);n=new Mh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ev(t,r.document.name),o=Kn(r.document.updateTime),s=r.document.createTime?Kn(r.document.createTime):ae.min(),a=new En({mapValue:{fields:r.document.fields}}),u=bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Rs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ev(t,r.document),o=r.readTime?Kn(r.readTime):ae.min(),s=bn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Rs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ev(t,r.document),o=r.removedTargetIds||[];n=new Rs([],o,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new e_(i,o),a=r.targetId;n=new Sh(a,s)}}return n}function y$(t,e){let n;if(e instanceof go)n={update:QA(t,e.key,e.value)};else if(e instanceof Th)n={delete:s_(t,e.key)};else if(e instanceof Tr)n={update:QA(t,e.key,e.data),updateMask:T$(e.fieldMask)};else{if(!(e instanceof Yv))return ne();n={verify:s_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof js)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof po)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Us)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:p$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(t,e.precondition)),n}function v$(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Kn(i.updateTime):Kn(o);return s.isEqual(ae.min())&&(s=Kn(o)),new Qv(s,i.transformResults||[])}(n,e))):[]}function _$(t,e){return{documents:[LS(t,e.path)]}}function w$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LS(t,i);let o=function(l){if(l.length!==0)return US(Cn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Ss(m.field),direction:b$(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=i_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function I$(t){let e=g$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Se(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=jS(p);return m instanceof Cn&&yS(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(x){return new ho(Ms(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Qh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,I=p.values||[];return new Ls(I,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,I=p.values||[];return new Ls(I,m)}(n.endAt)),WB(e,i,s,o,a,"F",u,l)}function E$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ms(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ms(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ms(n.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ms(n.unaryFilter.field);return et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return et.create(Ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cn.create(n.compositeFilter.filters.map(r=>jS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function b$(t){return d$[t]}function C$(t){return h$[t]}function D$(t){return f$[t]}function Ss(t){return{fieldPath:t.canonicalString()}}function Ms(t){return Jt.fromServerFormat(t.fieldPath)}function US(t){return t instanceof et?function(n){if(n.op==="=="){if(kA(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NAN"}};if(OA(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kA(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NAN"}};if(OA(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(n.field),op:C$(n.op),value:n.value}}}(t):t instanceof Cn?function(n){let r=n.getFilters().map(i=>US(i));return r.length===1?r[0]:{compositeFilter:{op:D$(n.op),filters:r}}}(t):ne()}function T$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Hc=class t{constructor(e,n,r,i,o=ae.min(),s=ae.min(),a=Rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var c_=class{constructor(e){this.ct=e}};function A$(t){let e=I$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dh(e,e.limit,"L"):e}var Ph=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ue(e.integerValue));else if("doubleValue"in e){let r=Ue(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Bc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Cr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(mi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?pS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):fS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ue(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),J.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Ph.vt=new Ph;var u_=class{constructor(){this.un=new l_}addToCollectionParentIndex(e,n){return this.un.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(uo.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}},l_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Be.comparator)).toArray()}};var a7=new Uint8Array(0);var zn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);var Gc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var d_=class{constructor(){this.changes=new vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var h_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var f_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Uc(r.mutation,i,Hn.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){let i=io();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Fc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=io();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Dr(),s=jc(),a=function(){return jc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Tr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Uc(h.mutation,l,h.mutation.getFieldMask(),vt.now())):s.set(l.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new h_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=jc(),i=new He((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Hn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=TS();h.forEach(m=>{if(!o.has(m)){let I=PS(n.get(m),r.get(m));I!==null&&p.set(m,I),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(io()),a=-1,u=o;return s.next(l=>V.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(h=>({batchId:a,changes:DS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Fc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Fc();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,u=>{let l=function(p,m){return new yi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=Fc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Uc(h.mutation,l,Hn.empty(),vt.now()),Jh(n,l)&&(a=a.insert(u,l))}),a})}};var p_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return V.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:A$(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),V.resolve()}};var g_=class{constructor(){this.overlays=new He(J.comparator),this.Ir=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){let r=io();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){let i=io(),o=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new He((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=io(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=io(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Xv(n,r));let o=this.Ir.get(n);o===void 0&&(o=me(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var m_=class{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}};var Wc=class{constructor(){this.Tr=new xt(Xe.Er),this.dr=new xt(Xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Xe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Xe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new J(new Be([])),r=new Xe(n,e),i=new Xe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new J(new Be([])),r=new Xe(n,e),i=new Xe(n,e+1),o=me();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Xe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Xe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||J.comparator(e.key,n.key)}};var y_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new xt(Xe.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Jv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Xe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Xe(n,0),i=new Xe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(be);return n.forEach(i=>{let o=new Xe(i,0),s=new Xe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),V.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new Xe(new J(o),0),a=new xt(be);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),V.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return V.forEach(n.mutations,i=>{let o=new Xe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Xe(n,0),i=this.br.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var v_=class{constructor(e){this.Mr=e,this.docs=function(){return new He(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Dr(),s=n.path,a=new J(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||FB(kB(h),r)<=0||(i.has(h.key)||Jh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new __(this)}getSize(e){return V.resolve(this.size)}},__=class extends d_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var w_=class{constructor(e){this.persistence=e,this.Nr=new vi(n=>lw(n),dw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wc,this.targetCount=0,this.kr=Gc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),V.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Gc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Kn(n),V.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),V.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Br.containsKey(n))}};var I_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new dS(0),this.Kr=!1,this.Kr=!0,this.$r=new m_,this.referenceDelegate=e(this),this.Ur=new w_(this),this.indexManager=new u_,this.remoteDocumentCache=function(i){return new v_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new c_(n),this.Gr=new p_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new y_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new E_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return V.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},E_=class extends Ov{constructor(e){super(),this.currentSequenceNumber=e}},b_=class t{constructor(e){this.persistence=e,this.Jr=new Wc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,r=>{let i=J.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return V.or([()=>V.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var C_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=me(),i=me();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var D_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var T_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gT()?8:VB(ct())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new D_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(kc()<=ge.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(kc()<=ge.DEBUG&&q("QueryEngine","Query:",As(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(kc()<=ge.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):V.resolve())}Yi(e,n){if(jA(n))return V.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dh(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Dh(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return jA(n)||i.isEqual(ae.min())?V.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?V.resolve(null):(kc()<=ge.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),As(n)),this.rs(e,s,n,OB(i,-1)).next(a=>a))})}ts(e,n){let r=new xt(bS(e));return n.forEach((i,o)=>{Jh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return kc()<=ge.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",As(n)),this.Ji.getDocumentsMatchingQuery(e,n,uo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var A_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new He(be),this._s=new vi(o=>lw(o),dw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function S$(t,e,n,r){return new A_(t,e,n,r)}function $S(t,e){return v(this,null,function*(){let n=re(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function M$(t,e){let n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),I=V.resolve();return m.forEach(x=>{I=I.next(()=>h.getEntry(u,x)).next(N=>{let R=l.docVersions.get(x);Se(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qS(t){let e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function x$(t,e){let n=re(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let I=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(Rt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(h.resumeToken,r)),i=i.insert(p,I),function(N,R,L){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(m,I,h)&&a.push(n.Ur.updateTargetData(o,I))});let u=Dr(),l=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(R$(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ae.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function R$(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Dr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function P$(t,e){let n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N$(t,e){let n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Hc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function S_(t,e,n){return v(this,null,function*(){let r=re(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!tu(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function YA(t,e,n){let r=re(t),i=ae.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=re(u),m=p._s.get(h);return m!==void 0?V.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?o:me())).next(a=>(O$(r,QB(e),a),{documents:a,Ts:o})))}function O$(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Nh=class{constructor(){this.activeTargetIds=t$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var M_=class{constructor(){this.so=new Nh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Nh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var x_=class{_o(e){}shutdown(){}};var Oh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var gh=null;function bv(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}var k$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var R_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Mt="WebChannelConnection",P_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=bv(),u=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ns("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=k$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=bv();return new Promise((s,a)=>{let u=new yv;u.setWithCredentials(!0),u.listenOnce(vv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Oc.NO_ERROR:let h=u.getResponseJson();q(Mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Oc.TIMEOUT:q(Mt,`RPC '${e}' ${o} timed out`),a(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:let p=u.getStatus();if(q(Mt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let I=m?.error;if(I&&I.status&&I.message){let x=function(R){let L=R.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(L)>=0?L:P.UNKNOWN}(I.status);a(new B(x,I.message))}else a(new B(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new B(P.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{q(Mt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);q(Mt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=bv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Iv(),a=wv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");q(Mt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,I=!1,x=new R_({Io:R=>{I?q(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(q(Mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),q(Mt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,L,K)=>{R.listen(L,Q=>{try{K(Q)}catch(X){setTimeout(()=>{throw X},0)}})};return N(p,Ts.EventType.OPEN,()=>{I||(q(Mt,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),N(p,Ts.EventType.CLOSE,()=>{I||(I=!0,q(Mt,`RPC '${e}' stream ${i} transport closed`),x.So())}),N(p,Ts.EventType.ERROR,R=>{I||(I=!0,Ns(Mt,`RPC '${e}' stream ${i} transport errored:`,R),x.So(new B(P.UNAVAILABLE,"The operation could not be completed")))}),N(p,Ts.EventType.MESSAGE,R=>{var L;if(!I){let K=R.data[0];Se(!!K);let Q=K,X=Q.error||((L=Q[0])===null||L===void 0?void 0:L.error);if(X){q(Mt,`RPC '${e}' stream ${i} received error:`,X);let Pe=X.status,ie=function(_){let E=Ze[_];if(E!==void 0)return OS(E)}(Pe),b=X.message;ie===void 0&&(ie=P.INTERNAL,b="Unknown error status: "+Pe+" with message "+X.message),I=!0,x.So(new B(ie,b)),p.close()}else q(Mt,`RPC '${e}' stream ${i} received:`,K),x.bo(K)}}),N(a,_v.STAT_EVENT,R=>{R.stat===fh.PROXY?q(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===fh.NOPROXY&&q(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}};function Cv(){return typeof document<"u"?document:null}function Zh(t){return new r_(t,!0)}var kh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Fh=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new B(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},N_=class extends Fh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=m$(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?Kn(s.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=a_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Wv(u)?{documents:_$(o,u)}:{query:w$(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=kS(o,s.resumeToken);let l=i_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=Rh(o,s.snapshotVersion.toTimestamp());let l=i_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=E$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=a_(this.serializer),n.removeTarget=e,this.a_(n)}},O_=class extends Fh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=v$(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=a_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>y$(this.serializer,r))};this.a_(n)}};var k_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,o_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(P.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,o_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},F_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(br(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var L_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>v(this,null,function*(){yo(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=re(u);l.L_.add(4),yield nu(l),l.q_.set("Unknown"),l.L_.delete(4),yield Xh(l)})}(this))}))}),this.q_=new F_(r,i)}};function Xh(t){return v(this,null,function*(){if(yo(t))for(let e of t.B_)yield e(!0)})}function nu(t){return v(this,null,function*(){for(let e of t.B_)yield e(!1)})}function zS(t,e){let n=re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),vw(n)?yw(n):Gs(n).r_()&&mw(n,e))}function gw(t,e){let n=re(t),r=Gs(n);n.N_.delete(e),r.r_()&&HS(n,e),n.N_.size===0&&(r.r_()?r.o_():yo(n)&&n.q_.set("Unknown"))}function mw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gs(t).A_(e)}function HS(t,e){t.Q_.xe(e),Gs(t).R_(e)}function yw(t){t.Q_=new n_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Gs(t).start(),t.q_.v_()}function vw(t){return yo(t)&&!Gs(t).n_()&&t.N_.size>0}function yo(t){return re(t).L_.size===0}function GS(t){t.Q_=void 0}function F$(t){return v(this,null,function*(){t.q_.set("Online")})}function L$(t){return v(this,null,function*(){t.N_.forEach((e,n)=>{mw(t,e)})})}function V$(t,e){return v(this,null,function*(){GS(t),vw(t)?(t.q_.M_(e),yw(t)):t.q_.set("Unknown")})}function j$(t,e,n){return v(this,null,function*(){if(t.q_.set("Online"),e instanceof Mh&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Lh(t,r)}else if(e instanceof Rs?t.Q_.Ke(e):e instanceof Sh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{let r=yield qS(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),HS(o,u);let p=new Hc(h.target,u,l,h.sequenceNumber);mw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield Lh(t,r)}})}function Lh(t,e,n){return v(this,null,function*(){if(!tu(e))throw e;t.L_.add(1),yield nu(t),t.q_.set("Offline"),n||(n=()=>qS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Xh(t)}))})}function WS(t,e){return e().catch(n=>Lh(t,n,e))}function ef(t){return v(this,null,function*(){let e=re(t),n=_i(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;U$(e);)try{let i=yield P$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,B$(e,i)}catch(i){yield Lh(e,i)}KS(e)&&QS(e)})}function U$(t){return yo(t)&&t.O_.length<10}function B$(t,e){t.O_.push(e);let n=_i(t);n.r_()&&n.V_&&n.m_(e.mutations)}function KS(t){return yo(t)&&!_i(t).n_()&&t.O_.length>0}function QS(t){_i(t).start()}function $$(t){return v(this,null,function*(){_i(t).p_()})}function q$(t){return v(this,null,function*(){let e=_i(t);for(let n of t.O_)e.m_(n.mutations)})}function z$(t,e,n){return v(this,null,function*(){let r=t.O_.shift(),i=Zv.from(r,e,n);yield WS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ef(t)})}function H$(t,e){return v(this,null,function*(){e&&_i(t).V_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return c$(s)&&s!==P.ABORTED}(i.code)){let o=r.O_.shift();_i(r).s_(),yield WS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ef(r)}})}(t,e)),KS(t)&&QS(t)})}function JA(t,e){return v(this,null,function*(){let n=re(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=yo(n);n.L_.add(3),yield nu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Xh(n)})}function G$(t,e){return v(this,null,function*(){let n=re(t);e?(n.L_.delete(2),yield Xh(n)):e||(n.L_.add(2),yield nu(n),n.q_.set("Unknown"))})}function Gs(t){return t.K_||(t.K_=function(n,r,i){let o=re(n);return o.w_(),new N_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:F$.bind(null,t),Ro:L$.bind(null,t),mo:V$.bind(null,t),d_:j$.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.K_.s_(),vw(t)?yw(t):t.q_.set("Unknown")):(yield t.K_.stop(),GS(t))}))),t.K_}function _i(t){return t.U_||(t.U_=function(n,r,i){let o=re(n);return o.w_(),new O_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$$.bind(null,t),mo:H$.bind(null,t),f_:q$.bind(null,t),g_:z$.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.U_.s_(),yield ef(t)):(yield t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var V_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function _w(t,e){if(br("AsyncQueue",`${e}: ${t}`),tu(t))return new B(P.UNAVAILABLE,`${e}: ${t}`);throw t}var Vh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var jh=class{constructor(){this.W_=new He(J.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},$s=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Vh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var j_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},U_=class{constructor(){this.queries=ZA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=re(n),o=i.queries;i.queries=ZA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new B(P.ABORTED,"Firestore shutting down"))}};function ZA(){return new vi(t=>ES(t),Yh)}function W$(t,e){return v(this,null,function*(){let n=re(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new j_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=_w(s,`Initialization of query '${As(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ww(n)})}function K$(t,e){return v(this,null,function*(){let n=re(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Q$(t,e){let n=re(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&ww(n)}function Y$(t,e,n){let r=re(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function ww(t){t.Y_.forEach(e=>{e.next()})}var B_,XA;(XA=B_||(B_={})).ea="default",XA.Cache="cache";var $_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new $s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==B_.Cache}};var Uh=class{constructor(e){this.key=e}},Bh=class{constructor(e){this.key=e}},q_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=bS(e),this.Ra=new Vh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new jh,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),I=Jh(this.query,p)?p:null,x=!!m&&this.mutatedKeys.has(m.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;m&&I?m.data.isEqual(I.data)?x!==N&&(r.track({type:3,doc:I}),R=!0):this.ga(m,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(a=!0)):!m&&I?(r.track({type:0,doc:I}),R=!0):m&&!I&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(I?(s=s.add(I),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(I,x){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return N(I)-N(x)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new $s(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new jh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Bh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Uh(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $s.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},z_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},H_=class{constructor(e){this.key=e,this.va=!1}},G_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new vi(a=>ES(a),Yh),this.Ma=new Map,this.xa=new Set,this.Oa=new He(J.comparator),this.Na=new Map,this.La=new Wc,this.Ba={},this.ka=new Map,this.qa=Gc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function J$(t,e,n=!0){return v(this,null,function*(){let r=tM(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield YS(r,e,n,!0),i})}function Z$(t,e){return v(this,null,function*(){let n=tM(t);yield YS(n,e,!0,!1)})}function YS(t,e,n,r){return v(this,null,function*(){let i=yield N$(t.localStore,Wn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield X$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&zS(t.remoteStore,i),a})}function X$(t,e,n,r,i){return v(this,null,function*(){t.Ka=(p,m,I)=>function(N,R,L,K){return v(this,null,function*(){let Q=R.view.ma(L);Q.ns&&(Q=yield YA(N.localStore,R.query,!1).then(({documents:b})=>R.view.ma(b,Q)));let X=K&&K.targetChanges.get(R.targetId),Pe=K&&K.targetMismatches.get(R.targetId)!=null,ie=R.view.applyChanges(Q,N.isPrimaryClient,X,Pe);return tS(N,R.targetId,ie.wa),ie.snapshot})}(t,p,m,I);let o=yield YA(t.localStore,e,!0),s=new q_(e,o.Ts),a=s.ma(o.documents),u=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);tS(t,n,l.wa);let h=new z_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function e4(t,e,n){return v(this,null,function*(){let r=re(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Yh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield S_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gw(r.remoteStore,i.targetId),W_(r,i.targetId)}).catch(eu))):(W_(r,i.targetId),yield S_(r.localStore,i.targetId,!0))})}function t4(t,e){return v(this,null,function*(){let n=re(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gw(n.remoteStore,r.targetId))})}function n4(t,e,n){return v(this,null,function*(){let r=u4(t);try{let i=yield function(s,a){let u=re(s),l=vt.now(),h=a.reduce((I,x)=>I.add(x.key),me()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=Dr(),N=me();return u.cs.getEntries(I,h).next(R=>{x=R,x.forEach((L,K)=>{K.isValidDocument()||(N=N.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,x)).next(R=>{p=R;let L=[];for(let K of a){let Q=a$(K,p.get(K.key).overlayedDocument);Q!=null&&L.push(new Tr(K.key,Q,gS(Q.value.mapValue),pi.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,L,a)}).next(R=>{m=R;let L=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(I,R.batchId,L)})}).then(()=>({batchId:m.batchId,changes:DS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new He(be)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield ru(r,i.changes),yield ef(r.remoteStore)}catch(i){let o=_w(i,"Failed to persist write");n.reject(o)}})}function JS(t,e){return v(this,null,function*(){let n=re(t);try{let r=yield x$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Se(s.va):i.removedDocuments.size>0&&(Se(s.va),s.va=!1))}),yield ru(n,r,e)}catch(r){yield eu(r)}})}function eS(t,e,n){let r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=re(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&ww(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function r4(t,e,n){return v(this,null,function*(){let r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new He(J.comparator);s=s.insert(o,bn.newNoDocument(o,ae.min()));let a=me().add(o),u=new Ah(ae.min(),new Map,new He(be),s,a);yield JS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Iw(r)}else yield S_(r.localStore,e,!1).then(()=>W_(r,e,n)).catch(eu)})}function i4(t,e){return v(this,null,function*(){let n=re(t),r=e.batch.batchId;try{let i=yield M$(n.localStore,e);XS(n,r,null),ZS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ru(n,i)}catch(i){yield eu(i)}})}function o4(t,e,n){return v(this,null,function*(){let r=re(t);try{let i=yield function(s,a){let u=re(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Se(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);XS(r,e,n),ZS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ru(r,i)}catch(i){yield eu(i)}})}function ZS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function XS(t,e,n){let r=re(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function W_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||eM(t,r)})}function eM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(gw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Iw(t))}function tS(t,e,n){for(let r of n)r instanceof Uh?(t.La.addReference(r.key,e),s4(t,r)):r instanceof Bh?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||eM(t,r.key)):ne()}function s4(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),Iw(t))}function Iw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new J(Be.fromString(e)),r=t.qa.next();t.Na.set(r,new H_(n)),t.Oa=t.Oa.insert(n,r),zS(t.remoteStore,new Hc(Wn(hw(n.path)),r,"TargetPurposeLimboResolution",dS.oe))}}function ru(t,e,n){return v(this,null,function*(){let r=re(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=C_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return v(this,null,function*(){let h=re(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(l,m=>V.forEach(m.$i,I=>h.persistence.referenceDelegate.addReference(p,m.targetId,I)).next(()=>V.forEach(m.Ui,I=>h.persistence.referenceDelegate.removeReference(p,m.targetId,I)))))}catch(p){if(!tu(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let I=h.os.get(m),x=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(m,N)}}})}(r.localStore,o))})}function a4(t,e){return v(this,null,function*(){let n=re(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield $S(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new B(P.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ru(n,r.hs)}})}function c4(t,e){let n=re(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function tM(t){let e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r4.bind(null,e),e.Ca.d_=Q$.bind(null,e.eventManager),e.Ca.$a=Y$.bind(null,e.eventManager),e}function u4(t){let e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o4.bind(null,e),e}var nS=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=Zh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return S$(this.persistence,new T_,n.initialUser,this.serializer)}Ga(n){return new I_(b_.Zr,this.serializer)}Wa(n){return new M_}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var l4=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=a4.bind(null,this.syncEngine),yield G$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new U_}()}createDatastore(n){let r=Zh(n.databaseInfo.databaseId),i=function(s){return new P_(s)}(n.databaseInfo);return function(s,a,u,l){return new k_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new L_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>eS(this.syncEngine,r,0),function(){return Oh.D()?new Oh:new x_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new G_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=re(o);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield nu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var K_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Q_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=_h.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=_w(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Dv(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield $S(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function rS(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield d4(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JA(e.remoteStore,i)),t._onlineComponents=e})}function d4(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),yield Dv(t,new nS)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield Dv(t,new nS);return t._offlineComponents})}function nM(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield rS(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield rS(t,new l4))),t._onlineComponents})}function h4(t){return nM(t).then(e=>e.syncEngine)}function iS(t){return v(this,null,function*(){let e=yield nM(t),n=e.eventManager;return n.onListen=J$.bind(null,e.syncEngine),n.onUnlisten=e4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Z$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t4.bind(null,e.syncEngine),n})}function rM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var oS=new Map;function iM(t,e,n){if(!n)throw new B(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f4(t,e,n,r){if(e===!0&&r===!0)throw new B(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sS(t){if(!J.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aS(t){if(J.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function ao(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=tf(t);throw new B(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function p4(t,e){if(e<=0)throw new B(P.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var $h=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},qs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $h({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $h(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Tv;switch(r.type){case"firstParty":return new xv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=oS.get(n);r&&(q("ComponentProvider","Removing Datastore"),oS.delete(n),r.terminate())}(this),Promise.resolve()}};function oM(t,e,n,r={}){var i;let o=(t=ao(t,qs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=lt.MOCK_USER;else{a=uT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new lt(l)}t._authCredentials=new Av(new vh(a,u))}}var wi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},$t=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},gi=class t extends wi{constructor(e,n,r){super(e,n,hw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new J(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function iu(t,e,...n){if(t=ut(t),iM("collection","path",e),t instanceof qs){let r=Be.fromString(e,...n);return aS(r),new gi(t,null,r)}{if(!(t instanceof $t||t instanceof gi))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return aS(r),new gi(t.firestore,null,r)}}function Ws(t,e,...n){if(t=ut(t),arguments.length===1&&(e=_h.newId()),iM("doc","path",e),t instanceof qs){let r=Be.fromString(e,...n);return sS(r),new $t(t,null,new J(r))}{if(!(t instanceof $t||t instanceof gi))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return sS(r),new $t(t.firestore,t instanceof gi?t.converter:null,new J(r))}}var qh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kh(this,"async_queue_retry"),this.Vu=()=>{let r=Cv();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Cv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Er;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return v(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!tu(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=V_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return v(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function cS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var mo=class extends qs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new qh(e),this._firestoreClient=void 0,yield e}})}};function Ii(t,e){let n=typeof t=="object"?t:bs(),r=typeof t=="string"?t:e||"(default)",i=Cc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=cT("firestore");o&&oM(i,...o)}return i}function sM(t){if(t._terminated)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||g4(t),t._firestoreClient}function g4(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new kv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Q_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Kc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Rt.fromBase64String(e))}catch(n){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Qc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var zh=class{constructor(e){this._methodName=e}};var Yc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}};var Jc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var m4=/^__.*__$/,Y_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new go(e,this.data,n,this.fieldTransforms)}};function aM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var J_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aM(this.Cu)&&m4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Z_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zh(e)}Qu(e,n,r,i=!1){return new J_({Cu:e,methodName:n,qu:r,path:Jt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ew(t){let e=t._freezeSettings(),n=Zh(t._databaseId);return new Z_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cM(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);dM("Data must be an object, but it was:",s,r);let a=uM(r,s),u,l;if(o.merge)u=new Hn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=v4(e,p,n);if(!s.contains(m))throw new B(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);w4(h,m)||h.push(m)}u=new Hn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Y_(new En(a),u,l)}function y4(t,e,n,r=!1){return bw(n,t.Qu(r?4:3,e))}function bw(t,e){if(lM(t=ut(t)))return dM("Unsupported field value:",e,t),uM(t,e);if(t instanceof zh)return function(r,i){if(!aM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=bw(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=vt.fromDate(r);return{timestampValue:Rh(i.serializer,o)}}if(r instanceof vt){let o=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(i.serializer,o)}}if(r instanceof Yc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kc)return{bytesValue:kS(i.serializer,r._byteString)};if(r instanceof $t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return fw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${tf(r)}`)}(t,e)}function uM(t,e){let n={};return hS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{let o=bw(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function lM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Yc||t instanceof Kc||t instanceof $t||t instanceof zh||t instanceof Jc)}function dM(t,e,n){if(!lM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=tf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function v4(t,e,n){if((e=ut(e))instanceof Qc)return e._internalPath;if(typeof e=="string")return hM(t,e);throw Hh("Field path arguments must be of type string or ",t,!1,void 0,n)}var _4=new RegExp("[~\\*/\\[\\]]");function hM(t,e,n){if(e.search(_4)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qc(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(P.INVALID_ARGUMENT,a+t+u)}function w4(t,e){return t.some(n=>n.isEqual(e))}var Gh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new X_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Cw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},X_=class extends Gh{data(){return super.data()}};function Cw(t,e){return typeof e=="string"?hM(t,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}function I4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zc=class{},Xc=class extends Zc{};function nf(t,e,...n){let r=[];e instanceof Zc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof tw).length,a=o.filter(u=>u instanceof ew).length;if(s>1||s>0&&a>0)throw new B(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ew=class t extends Xc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return pM(e._query,n),new wi(e.firestore,e.converter,Kv(e._query,n))}_parse(e){let n=Ew(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new B(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){lS(p,h);let I=[];for(let x of p)I.push(uS(u,o,x));m={arrayValue:{values:I}}}else m=uS(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||lS(p,h),m=y4(a,s,p,h==="in"||h==="not-in");return et.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var tw=class t extends Zc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Cn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)pM(s,u),s=Kv(s,u)}(e._query,n),new wi(e.firestore,e.converter,Kv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var nw=class t extends Xc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ho(o,s)}(e._query,this._field,this._direction);return new wi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new yi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function rf(t,e="asc"){let n=e,r=Cw("orderBy",t);return nw._create(r,n)}var rw=class t extends Xc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new wi(e.firestore,e.converter,Dh(e._query,this._limit,this._limitType))}};function fM(t){return p4("limit",t),rw._create("limit",t,"F")}function uS(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new B(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IS(e)&&n.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Be.fromString(n));if(!J.isDocumentKey(r))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NA(t,new J(r))}if(n instanceof $t)return NA(t,n._key);throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function lS(t,e){if(!Array.isArray(t)||t.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var iw=class{convertValue(e,n="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Hs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ue(s.doubleValue));return new Jc(o)}convertGeoPoint(e){return new Yc(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=cw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){let n=Cr(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Be.fromString(e);Se(BS(r));let i=new bh(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||br(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function gM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var so=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Wh=class extends Gh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ps(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Cw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ps=class extends Wh{data(e={}){return super.data(e)}},ow=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new so(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ps(this._firestore,this._userDataWriter,r.key,r,new so(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new so(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new so(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:E4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function E4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var Kh=class extends iw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}};function ou(t,e,n){t=ao(t,$t);let r=ao(t.firestore,mo),i=gM(t.converter,e,n);return mM(r,[cM(Ew(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pi.none())])}function of(t,e){let n=ao(t.firestore,mo),r=Ws(t),i=gM(t.converter,e);return mM(n,[cM(Ew(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pi.exists(!1))]).then(()=>r)}function Dn(t,...e){var n,r,i;t=ut(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(cS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof $t)l=ao(t.firestore,mo),h=hw(t._key.path),u={next:p=>{e[s]&&e[s](b4(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=ao(t,wi);l=ao(p.firestore,mo),h=p._query;let m=new Kh(l);u={next:I=>{e[s]&&e[s](new ow(l,m,p,I))},error:e[s+1],complete:e[s+2]},I4(t._query)}return function(m,I,x,N){let R=new K_(N),L=new $_(I,R,x);return m.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return W$(yield iS(m),L)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return K$(yield iS(m),L)}))}}(sM(l),h,a,u)}function mM(t,e){return function(r,i){let o=new Er;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return n4(yield h4(r),i,o)})),o.promise}(sM(t),e)}function b4(t,e,n){let r=n.docs.get(e._key),i=new Kh(t);return new Wh(t,i,e._key,r,new so(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){zs=i})(ci),ai(new an("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new mo(new Sv(r.getProvider("auth-internal")),new Pv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),rt(MA,"4.7.3",e),rt(MA,"4.7.3","esm2017")})();var C4=["chatContainer"],sf=t=>({dimmed:t});function D4(t,e){t&1&&(A(0,"div",10)(1,"label"),O(2,"INICI\xC1 SESI\xD3N PARA JUGAR"),M()())}function T4(t,e){if(t&1&&(A(0,"div"),O(1),M()),t&2){let n=e.$implicit;F(),vn("",n.user,": ",n.text,"")}}function A4(t,e){if(t&1){let n=it();A(0,"div",11)(1,"h3"),O(2,"Chat"),M(),A(3,"div",12,0),De(5,T4,2,2,"div",13),M(),A(6,"div",14)(7,"input",15),st("ngModelChange",function(i){Oe(n);let o=Ae();return mt(o.message,i)||(o.message=i),ke(i)}),M(),A(8,"button",16),se("click",function(){Oe(n);let i=Ae();return ke(i.sendMessage())}),O(9,"Enviar"),M()()()}if(t&2){let n=Ae();F(5),W("ngForOf",n.messages),F(2),ot("ngModel",n.message)}}var yM=(()=>{let e=class e{constructor(r){this.router=r,this.message="",this.messages=[],this.username="",this.isLoggedIn=!1,this.app=yr(Nc),this.auth=ze(this.app),this.db=Ii(this.app)}ngOnInit(){this.checkUserStatus(),this.listenToMessages()}checkUserStatus(){let r=this.auth.currentUser;this.isLoggedIn=!!r,r&&r.email?this.username=r.email:this.username=""}sendMessage(){return v(this,null,function*(){if(this.message.trim()&&this.isLoggedIn)try{yield of(iu(this.db,"chats"),{user:this.username,text:this.message,timestamp:new Date}),this.message="",this.scrollToBottom()}catch(r){console.error("Error al agregar mensaje: ",r)}})}listenToMessages(){let r=nf(iu(this.db,"chats"),rf("timestamp"));Dn(r,i=>{this.messages=[],i.forEach(o=>{let s=o.data();this.messages.push({user:s.user,text:s.text})}),this.scrollToBottom()})}scrollToBottom(){let r=document.querySelector(".chat-messages");r&&(r.scrollTop=r.scrollHeight)}navegarAGrupo(r){this.isLoggedIn&&this.router.navigate([`/${r}`])}};e.\u0275fac=function(i){return new(i||e)($(Je))},e.\u0275cmp=Ve({type:e,selectors:[["app-home"]],viewQuery:function(i,o){if(i&1&&Xb(C4,5),i&2){let s;Gl(s=Wl())&&(o.chatContainer=s.first)}},standalone:!0,features:[je],decls:20,vars:14,consts:[["chatContainer",""],[1,"home-container"],[1,"games"],[1,"icon",3,"click","ngClass"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/PreguntadosGame.jpg?alt=media&token=c055e0c9-dc91-4240-acd3-2d39adf7dfd6","alt","Icono 1"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Ahorcado.png?alt=media&token=9aeee8ad-c688-45ce-837b-c87483bb7442","alt","Icono 2"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/MayorMenor.png?alt=media&token=12efdc3d-24bf-4d6d-a0a2-ac1d2459d9ac","alt","Icono 3"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/WordGame.png?alt=media&token=cc643ceb-2f38-4471-b9e7-ea5fb41ff1b2","alt","Icono 4"],["class","mensaje-sesion",4,"ngIf"],["class","chat-container",4,"ngIf"],[1,"mensaje-sesion"],[1,"chat-container"],[1,"chat-messages"],[4,"ngFor","ngForOf"],[1,"input-container"],["type","text","placeholder","Escribe tu mensaje",3,"ngModelChange","ngModel"],[3,"click"]],template:function(i,o){i&1&&(A(0,"div",1)(1,"div",2)(2,"div",3),se("click",function(){return o.isLoggedIn?o.navegarAGrupo("preguntados"):null}),ye(3,"img",4),A(4,"label"),O(5,"Preguntados"),M()(),A(6,"div",3),se("click",function(){return o.isLoggedIn?o.navegarAGrupo("ahorcado"):null}),ye(7,"img",5),A(8,"label"),O(9,"Ahorcado"),M()(),A(10,"div",3),se("click",function(){return o.isLoggedIn?o.navegarAGrupo("mayor-menor"):null}),ye(11,"img",6),A(12,"label"),O(13,"Mayor o Menor"),M()(),A(14,"div",3),se("click",function(){return o.isLoggedIn?o.navegarAGrupo("word-game"):null}),ye(15,"img",7),A(16,"label"),O(17,"Juego de Letras"),M()()(),De(18,D4,3,0,"div",8)(19,A4,10,2,"div",9),M()),i&2&&(F(2),W("ngClass",La(6,sf,!o.isLoggedIn)),F(4),W("ngClass",La(8,sf,!o.isLoggedIn)),F(4),W("ngClass",La(10,sf,!o.isLoggedIn)),F(4),W("ngClass",La(12,sf,!o.isLoggedIn)),F(4),W("ngIf",!o.isLoggedIn),F(),W("ngIf",o.isLoggedIn))},dependencies:[ii,Un,ri,pr,nt,vC,Ln,St,PD],styles:[".home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:60px;background-color:#fff;border-radius:10px;margin:70px}.games[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:100px;justify-items:center}.icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;transition:transform .3s ease;cursor:pointer}.icon[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:250px;transition:opacity .3s ease;border-radius:10px}.icon[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}label[_ngcontent-%COMP%]{margin-top:15px;text-align:center;color:#000;font-size:20px;font-family:Roboto,sans-serif}.dimmed[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.mensaje-sesion[_ngcontent-%COMP%]{margin-top:10px;font-size:20px;text-align:center;font-family:Roboto,sans-serif}.chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:300px;height:400px;overflow-y:auto;border:1px solid #ccc;border-radius:8px;padding:10px;background-color:#fff;box-shadow:0 4px 10px #0003;z-index:1000;display:flex;flex-direction:column;font-family:Roboto,sans-serif}.chat-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#4caf50}.chat-messages[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;margin-bottom:10px}.chat-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:70%;padding:5px;border:1px solid #ccc;border-radius:5px;margin-right:5px}.chat-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;width:90%}.chat-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}.chat-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}.chat-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:5px 0;padding:5px;border-radius:5px;background-color:#f1f1f1}"]});let t=e;return t})();var vM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["app-page-not-found"]],standalone:!0,features:[je],decls:2,vars:0,template:function(i,o){i&1&&(A(0,"h1"),O(1,"Ruta no encontrada"),M())}});let t=e;return t})();var _o=new or("ANGULARFIRE2_VERSION");function cf(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var su=(t,e)=>{let n=e?[e]:qd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Qs=class{constructor(){return su(S4)}},S4="app-check";function Ks(){}var af=class{zone;delegate;constructor(e,n=Jf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Dw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)),n.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ys=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new af(Zone.current)),this.insideAngular=n.run(()=>new af(Zone.current,Yf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Y(Ie))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function M4(t){return uf().ngZone.runOutsideAngular(()=>t())}function vo(t){return uf().ngZone.run(()=>t())}function x4(t){return R4(uf())(t)}function R4(t){return function(n){return n=n.lift(new Dw(t.ngZone)),n.pipe(kr(t.outsideAngular),Or(t.insideAngular))}}var P4=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),vo(()=>t.apply(void 0,r))},Tn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=vo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks))),r[o]=P4(r[o],n));let i=M4(()=>t.apply(this,r));if(!e)if(i instanceof fe){let o=uf();return i.pipe(kr(o.outsideAngular),Or(o.insideAngular))}else return vo(()=>i);return i instanceof fe?i.pipe(x4):i instanceof Promise?vo(()=>new Promise((o,s)=>i.then(a=>vo(()=>o(a)),a=>vo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:vo(()=>i)};var Ar=class{constructor(e){return e}},wo=class{constructor(){return qd()}};function N4(t){return t&&t.length===1?t[0]:new Ar(bs())}var Tw=new z("angularfire2._apps"),O4={provide:Ar,useFactory:N4,deps:[[new Ct,Tw]]},k4={provide:wo,deps:[[new Ct,Tw]]};function F4(t){return(e,n)=>{let r=n.get(rn);rt("angularfire",_o.full,"core"),rt("angularfire",_o.full,"app"),rt("angular",tC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Ar(i)}}function _M(t,...e){return tn([O4,k4,{provide:Tw,useFactory:F4(t),multi:!0,deps:[Ie,Dt,Ys,...e]}])}var wM=Tn(yr,!0);var IM="auth",au=class{constructor(e){return e}},cu=class{constructor(){return su(IM)}};var Aw=new z("angularfire2.auth-instances");function L4(t,e){let n=cf(IM,t,e);return n&&new au(n)}function V4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new au(r)}}var j4={provide:cu,deps:[[new Ct,Aw]]},U4={provide:au,useFactory:L4,deps:[[new Ct,Aw],Ar]};function EM(t,...e){return rt("angularfire",_o.full,"auth"),tn([U4,j4,{provide:Aw,useFactory:V4(t),multi:!0,deps:[Ie,Dt,Ys,wo,[new Ct,Qs],...e]}])}var bM=Tn(ze,!0);var Zt=class{constructor(e){return e}},CM="firestore",Sw=class{constructor(){return su(CM)}};var Mw=new z("angularfire2.firestore-instances");function B4(t,e){let n=cf(CM,t,e);return n&&new Zt(n)}function $4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Zt(r)}}var q4={provide:Sw,deps:[[new Ct,Mw]]},z4={provide:Zt,useFactory:B4,deps:[[new Ct,Mw],Ar]};function DM(t,...e){return rt("angularfire",_o.full,"fst"),tn([z4,q4,{provide:Mw,useFactory:$4(t),multi:!0,deps:[Ie,Dt,Ys,wo,[new Ct,cu],[new Ct,Qs],...e]}])}var Ei=Tn(of,!0);var cn=Tn(iu,!0);var TM=Tn(Ii,!0);var bi=Tn(fM,!0);var Ci=Tn(rf,!0);var Di=Tn(nf,!0);function H4(t,e){if(t&1){let n=it();A(0,"button",21),se("click",function(){let i=Oe(n).$implicit,o=Ae();return ke(o.seleccionarLetra(i))}),O(1),M()}if(t&2){let n=e.$implicit;F(),tt(" ",n," ")}}function G4(t,e){if(t&1&&(A(0,"div",22)(1,"h4"),O(2,"Letras seleccionadas:"),M(),A(3,"p"),O(4),M()()),t&2){let n=Ae();F(4),Vt(n.letrasSeleccionadas.join(", "))}}function W4(t,e){if(t&1){let n=it();A(0,"div",23)(1,"p"),O(2),M(),A(3,"button",24),se("click",function(){Oe(n);let i=Ae();return ke(i.getRandomWord())}),O(4,"VOLVER A JUGAR"),M()()}if(t&2){let n=Ae();F(2),Vt(n.mensajeResultado)}}function K4(t,e){t&1&&ye(0,"img",25)}function Q4(t,e){t&1&&ye(0,"img",26)}function Y4(t,e){t&1&&ye(0,"img",27)}function J4(t,e){t&1&&ye(0,"img",28)}function Z4(t,e){t&1&&ye(0,"img",29)}function X4(t,e){t&1&&ye(0,"img",30)}function e3(t,e){t&1&&ye(0,"img",31)}function t3(t,e){if(t&1&&(A(0,"li"),O(1),M()),t&2){let n=e.$implicit;F(),vn(" ",n.nombre," - ",n.puntos," puntos ")}}var AM=(()=>{let e=class e{constructor(r){this.http=r,this.letrasSeleccionadas=[],this.palabraSecreta=null,this.intentosRestantes=6,this.juegoTerminado=!1,this.palabraCargada=!1,this.mensajeResultado="",this.puntos=0,this.db=k(Zt),this.ranking=[],this.mejoresJugadores=[],this.getRandomWord(),this.obtenerRanking()}obtenerCorreoUsuario(){let i=ze().currentUser;return i&&i.email?i.email:null}guardarResultado(){let r=this.obtenerCorreoUsuario();r?Ei(cn(this.db,"ranking"),{correo:r,score:this.puntos,fecha:new Date}).then(()=>{console.log("Resultado guardado"),this.obtenerRanking()}).catch(i=>{console.error("Error al guardar el resultado: ",i),this.mensajeResultado="Error al guardar el resultado. Intenta nuevamente."}):(console.error("No hay usuario autenticado"),this.mensajeResultado="No se pudo obtener el correo del usuario. Aseg\xFArate de estar logueado.")}obtenerRanking(){let r=Di(cn(this.db,"ranking"),Ci("score","desc"),bi(5));Dn(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntos:s.score})})},i=>{console.error("Error al obtener ranking: ",i),this.mensajeResultado="Error al obtener el ranking. Intenta nuevamente."})}finalizarJuego(){this.juegoTerminado&&this.guardarResultado()}getRandomWord(){this.palabraCargada=!1,this.http.get("https://random-word-api.herokuapp.com/word?lang=es").subscribe(r=>{if(Array.isArray(r)&&r.length>0){let i=r[0].toUpperCase();this.contieneLetrasConAcento(i)||this.contieneDiacriticos(i)||this.contieneEspacios(i)?this.getRandomWord():(this.palabraSecreta=i,this.resetGame())}console.log(this.palabraSecreta)},r=>{console.error("Error al obtener la palabra secreta",r)})}contieneLetrasConAcento(r){return/[áéíóúÁÉÍÓÚ]/.test(r)}contieneDiacriticos(r){return/[üñ]/.test(r)}contieneEspacios(r){return r.includes(" ")}resetGame(){this.letrasSeleccionadas=[],this.intentosRestantes=6,this.juegoTerminado=!1,this.palabraCargada=!0,this.mensajeResultado=""}seleccionarLetra(r){!this.letrasSeleccionadas.includes(r)&&!this.juegoTerminado&&this.palabraCargada&&(this.letrasSeleccionadas.push(r),this.palabraSecreta&&!this.palabraSecreta.includes(r)&&(this.intentosRestantes--,this.intentosRestantes===0&&(this.juegoTerminado=!0,this.mensajeResultado="PERDISTE. La palabra era: "+this.palabraSecreta,this.puntos=0)),this.haGanado()&&(this.juegoTerminado=!0,this.mensajeResultado="\xA1EXCELENTE! Sumaste 5 puntos",this.puntos+=5),this.juegoTerminado&&this.finalizarJuego())}obtenerPalabraConGuiones(){return this.palabraSecreta?this.palabraSecreta.split("").map(r=>this.letrasSeleccionadas.includes(r)?r:"_").join(" "):""}haGanado(){return this.palabraSecreta?.split("").every(r=>this.letrasSeleccionadas.includes(r))}};e.\u0275fac=function(i){return new(i||e)($($a))},e.\u0275cmp=Ve({type:e,selectors:[["app-ahorcado"]],standalone:!0,features:[je],decls:36,vars:14,consts:[[1,"ahorcado-container"],[1,"contenido-flex"],[1,"juego"],[1,"palabra"],[1,"letras"],[1,"letras-grid"],[3,"click",4,"ngFor","ngForOf"],["class","letras-seleccionadas",4,"ngIf"],["class","mensaje-final",4,"ngIf"],[1,"intentos"],[1,"puntos"],[1,"image-container"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerda.png?alt=media&token=a0596d0d-48de-4d9e-985d-87247c2d75b2","alt","Cuerda",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cabeza.png?alt=media&token=281c80bd-b62e-499a-8310-00ed663f2de9","alt","Cabeza",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/torso.png?alt=media&token=006bbae4-968f-43b5-a025-615093cdb726","alt","Torso",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo1.png?alt=media&token=80b92b68-258e-4304-8c66-2b17adb75ace","alt","Brazo Izquierdo",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo2.png?alt=media&token=7ff5730d-f173-4783-84fe-246986604381","alt","Brazo Derecho",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/pierna1.png?alt=media&token=1a8bcd76-e339-47cd-9e54-cb29fa68844d","alt","Pierna Izquierda",4,"ngIf"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerpo.png?alt=media&token=d2e4a842-19c7-4d3e-b6a6-003c0a3e1377","alt","Cuerpo Entero",4,"ngIf"],[1,"ranking-container"],[4,"ngFor","ngForOf"],[3,"click"],[1,"letras-seleccionadas"],[1,"mensaje-final"],[1,"btn-reintentar",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerda.png?alt=media&token=a0596d0d-48de-4d9e-985d-87247c2d75b2","alt","Cuerda"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cabeza.png?alt=media&token=281c80bd-b62e-499a-8310-00ed663f2de9","alt","Cabeza"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/torso.png?alt=media&token=006bbae4-968f-43b5-a025-615093cdb726","alt","Torso"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo1.png?alt=media&token=80b92b68-258e-4304-8c66-2b17adb75ace","alt","Brazo Izquierdo"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/brazo2.png?alt=media&token=7ff5730d-f173-4783-84fe-246986604381","alt","Brazo Derecho"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/pierna1.png?alt=media&token=1a8bcd76-e339-47cd-9e54-cb29fa68844d","alt","Pierna Izquierda"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cuerpo.png?alt=media&token=d2e4a842-19c7-4d3e-b6a6-003c0a3e1377","alt","Cuerpo Entero"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"h2"),O(2,"JUEGO DEL AHORCADO"),M(),A(3,"div",1)(4,"div",2)(5,"div")(6,"h4"),O(7,"Adivina la palabra:"),M(),A(8,"p",3),O(9),M()(),A(10,"div",4)(11,"h4"),O(12,"Selecciona una letra:"),M(),A(13,"div",5),De(14,H4,2,1,"button",6),M()(),De(15,G4,5,1,"div",7)(16,W4,5,1,"div",8),A(17,"div",9)(18,"h4"),O(19),M()(),A(20,"div",10)(21,"h4"),O(22),M()(),A(23,"div",11),De(24,K4,1,0,"img",12)(25,Q4,1,0,"img",13)(26,Y4,1,0,"img",14)(27,J4,1,0,"img",15)(28,Z4,1,0,"img",16)(29,X4,1,0,"img",17)(30,e3,1,0,"img",18),M()(),A(31,"div",19)(32,"h3"),O(33,"TOP 5:"),M(),A(34,"ul"),De(35,t3,2,2,"li",20),M()()()()),i&2&&(F(9),Vt(o.obtenerPalabraConGuiones()),F(5),W("ngForOf","ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")),F(),W("ngIf",o.letrasSeleccionadas.length>0),F(),W("ngIf",o.juegoTerminado),F(3),tt("Intentos restantes: ",o.intentosRestantes,""),F(3),tt("Puntos: ",o.puntos,""),F(2),W("ngIf",o.intentosRestantes===6),F(),W("ngIf",o.intentosRestantes===5),F(),W("ngIf",o.intentosRestantes===4),F(),W("ngIf",o.intentosRestantes===3),F(),W("ngIf",o.intentosRestantes===2),F(),W("ngIf",o.intentosRestantes===1),F(),W("ngIf",o.intentosRestantes===0),F(5),W("ngForOf",o.mejoresJugadores))},dependencies:[nt,Ln,St,sd],styles:[".ahorcado-container[_ngcontent-%COMP%]{text-align:center;max-width:1200px;margin:80px auto;padding:20px;border:2px solid #4CAF50;border-radius:10px;background-color:#f9f9f9;font-family:Roboto,sans-serif}.contenido-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-top:20px;gap:40px}.juego[_ngcontent-%COMP%]{flex:1}.ranking-container[_ngcontent-%COMP%]{flex-basis:300px;border:2px solid #ccc;padding:20px;background-color:#fafafa;border-radius:10px;text-align:left;box-shadow:0 4px 8px #0000001a}.ranking-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;font-size:20px}.ranking-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.ranking-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;font-size:18px;border-bottom:1px solid #ddd}.palabra[_ngcontent-%COMP%]{font-size:24px;letter-spacing:10px;font-weight:700}.letras-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(13,1fr);gap:10px;margin-top:10px}.letras-seleccionadas[_ngcontent-%COMP%]{margin-top:20px}.mensaje-final[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;color:#d9534f}.btn-reintentar[_ngcontent-%COMP%]{background-color:#5cb85c;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer}.btn-reintentar[_ngcontent-%COMP%]:hover{background-color:#4cae4c}.intentos[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.image-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:auto}"]});let t=e;return t})();function n3(t,e){if(t&1&&(A(0,"li"),O(1),M()),t&2){let n=e.$implicit;F(),vn(" ",n.nombre," - ",n.puntos," ")}}var SM=(()=>{let e=class e{constructor(){this.puntaje=0,this.mensaje="",this.ranking=[],this.mejoresJugadores=[],this.db=k(Zt),this.cartas=[{valor:1,palo:"Basto",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F1basto.jpg?alt=media&token=69375ad9-f781-4c08-90a5-9a30800bb040"},{valor:2,palo:"Oro",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F2oro.jpg?alt=media&token=78131d5e-4b83-4954-9bc3-d1a0a0667fc2"},{valor:3,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F3espada.jpg?alt=media&token=8b9ed865-7f8d-4677-863d-d07f26acf165"},{valor:4,palo:"Copa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F4copa.jpg?alt=media&token=5e444ece-f667-4d42-a354-31c2e9b80969"},{valor:5,palo:"Basto",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F5basto.jpg?alt=media&token=ecc1aa6d-b9bf-400a-abc7-876c3cbefd03"},{valor:6,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F6espada.jpg?alt=media&token=32911066-9563-423e-920c-66352d1cee4f"},{valor:7,palo:"Oro",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F7oro.jpg?alt=media&token=9b64dc71-f0c8-43f3-8229-e89276ddfd66"},{valor:8,palo:"Copa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F8copa.jpg?alt=media&token=661df783-aafc-4616-ac47-384802ac36ca"},{valor:9,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F9espada.jpg?alt=media&token=88fe1c8a-f790-45c0-8c04-2dca581daf37"},{valor:10,palo:"Basto",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F10basto.jpg?alt=media&token=e18705a0-ad73-40b4-99ee-aafb94b34a76"},{valor:11,palo:"Copa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F11copa.jpg?alt=media&token=f44e71d8-3a4c-4e05-9c8e-654077878c97"},{valor:12,palo:"Espada",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/cartas%2F12espada.jpg?alt=media&token=3e38ce2e-a622-4841-8323-ba949ae76bd0"}],this.iniciarJuego(),this.obtenerRanking()}iniciarJuego(){this.cartaActual=this.generarCarta(),this.siguienteCarta=this.generarCarta()}generarCarta(){let r;do r=this.cartas[Math.floor(Math.random()*this.cartas.length)];while(r===this.cartaActual);return r}verificarRespuesta(r){r==="mayor"&&this.siguienteCarta.valor>this.cartaActual.valor||r==="menor"&&this.siguienteCarta.valor<this.cartaActual.valor?(this.mensaje="\xA1CORRECTO! SEGUI SUMANDO PUNTOS",this.puntaje++):(this.mensaje=`\xA1NOO! La carta era: ${this.siguienteCarta.valor} de ${this.siguienteCarta.palo}`,this.guardarResultado()),this.cartaActual=this.siguienteCarta,this.siguienteCarta=this.generarCarta()}obtenerCorreoUsuario(){let i=ze().currentUser;return i&&i.email?i.email:null}guardarResultado(){let r=this.obtenerCorreoUsuario();r?Ei(cn(this.db,"ranking_mayor_o_menor"),{correo:r,score:this.puntaje,fecha:new Date}).then(()=>{console.log("Resultado guardado"),this.obtenerRanking()}).catch(i=>{console.error("Error al guardar el resultado: ",i),this.mensaje="Error al guardar el resultado. Intenta nuevamente."}):(console.error("No hay usuario autenticado"),this.mensaje="No se pudo obtener el correo del usuario. Aseg\xFArate de estar logueado.")}obtenerRanking(){let r=Di(cn(this.db,"ranking_mayor_o_menor"),Ci("score","desc"),bi(5));Dn(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntos:s.score})})},i=>{console.error("Error al obtener ranking: ",i),this.mensaje="Error al obtener el ranking. Intenta nuevamente."})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["app-mayor-o-menor"]],standalone:!0,features:[je],decls:21,vars:4,consts:[[1,"mayor-o-menor-container"],[1,"contenido-flex"],[1,"juego"],[1,"carta-actual"],["alt","Carta Actual",3,"src"],[1,"puntaje"],[1,"botones"],[1,"mayor",3,"click"],[1,"menor",3,"click"],[1,"mensaje-final"],[1,"ranking-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"h2"),O(2,"MAYOR O MENOR"),M(),A(3,"div",1)(4,"div",2)(5,"div",3),ye(6,"img",4),M(),A(7,"div",5),O(8),M(),A(9,"div",6)(10,"button",7),se("click",function(){return o.verificarRespuesta("mayor")}),O(11,"\u2B06"),M(),A(12,"button",8),se("click",function(){return o.verificarRespuesta("menor")}),O(13,"\u2B07"),M()(),A(14,"div",9),O(15),M()(),A(16,"div",10)(17,"h3"),O(18,"TOP 5:"),M(),A(19,"ul"),De(20,n3,2,2,"li",11),M()()()()),i&2&&(F(6),W("src",o.cartaActual.imagen,ka),F(2),tt(" Puntaje: ",o.puntaje," "),F(7),tt(" ",o.mensaje," "),F(5),W("ngForOf",o.mejoresJugadores))},dependencies:[nt,Ln],styles:[".mayor-o-menor-container[_ngcontent-%COMP%]{text-align:center;max-width:600px;margin:100px auto;padding:20px;border:2px solid #4CAF50;border-radius:10px;background-color:#fff;min-height:400px;min-width:400px;font-family:Roboto,sans-serif;position:relative}.carta-actual[_ngcontent-%COMP%]{margin:20px 0}.carta-actual[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:auto}.botones[_ngcontent-%COMP%]{margin:20px 0}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;margin:0 10px;font-size:30px}.menor[_ngcontent-%COMP%]{background-color:#d71b18}.mayor[_ngcontent-%COMP%]{background-color:#05a305}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0a0000}.puntaje[_ngcontent-%COMP%]{margin-top:20px;font-size:24px;font-weight:700}.mensaje-final[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;color:#d9534f;height:30px;overflow:hidden}"]});let t=e;return t})();function r3(t,e){if(t&1&&(A(0,"div",9),ye(1,"img",10),A(2,"h2",11),O(3),M()()),t&2){let n=Ae();F(),Xg("alt","Imagen de ",n.nombreCategoria,""),W("src",n.imagenCategoria,ka),F(2),Vt(n.nombreCategoria)}}function i3(t,e){if(t&1){let n=it();A(0,"button",12),se("click",function(){let i=Oe(n).$implicit,o=Ae();return ke(o.verificarRespuesta(i))}),O(1),M()}if(t&2){let n=e.$implicit;F(),tt(" ",n," ")}}function o3(t,e){if(t&1&&(A(0,"li"),O(1),M()),t&2){let n=e.$implicit;F(),vn(" ",n.nombre," - ",n.puntaje," puntos ")}}var MM=(()=>{let e=class e{constructor(){this.preguntas=[],this.preguntaActual=null,this.respuestas=[],this.puntaje=0,this.mensaje="",this.imagenCategoria="",this.nombreCategoria="",this.apiKey="$2b$12$aOPN7wbnS2sS80QBrb5Jx.HGhQUFe8THWWRyUR6OAmXO7.d0Tk0u6",this.mejoresJugadores=[],this.db=k(Zt),this.preguntasRespondidas=[]}ngOnInit(){this.cargarPreguntas(),this.obtenerRanking()}cargarPreguntas(){return v(this,null,function*(){try{let r=yield fetch("https://api.quiz-contest.xyz/questions?limit=10&page=1&category=sports%26leisure",{method:"GET",headers:{Authorization:`${this.apiKey}`}}),i=yield fetch("https://api.quiz-contest.xyz/questions?limit=10&page=1&category=arts%26literature",{method:"GET",headers:{Authorization:`${this.apiKey}`}}),o=yield fetch("https://api.quiz-contest.xyz/questions?limit=10&page=1&category=geography",{method:"GET",headers:{Authorization:`${this.apiKey}`}});if(!r.ok||!i.ok||!o.ok)throw new Error("Error al cargar preguntas de una o m\xE1s categor\xEDas");let s=yield r.json(),a=yield i.json(),u=yield o.json();this.preguntas=[...s.questions,...a.questions,...u.questions],this.preguntas=this.mezclarPreguntas(this.preguntas),this.cambiarPregunta()}catch(r){this.mensaje=`Error al cargar preguntas: ${r instanceof Error?r.message:"Error desconocido"}`}})}mezclarPreguntas(r){return r.sort(()=>Math.random()-.5)}cambiarPregunta(){let r=this.preguntas.filter(i=>!this.preguntasRespondidas.includes(i.id));if(r.length>0){let i=Math.floor(Math.random()*r.length),o=r[i];this.preguntasRespondidas.push(o.id),this.preguntaActual=o,this.respuestas=[this.preguntaActual.correctAnswers,...this.preguntaActual.incorrectAnswers],this.respuestas=this.mezclarRespuestas(this.respuestas);let s=this.obtenerNombreCategoriaLegible(this.preguntaActual.category);this.nombreCategoria=s.nombre,this.imagenCategoria=s.imagen}else this.mensaje="\xA1No hay m\xE1s preguntas disponibles!"}mezclarRespuestas(r){return r.sort(()=>Math.random()-.5)}obtenerNombreCategoriaLegible(r){return{"sports&leisure":{nombre:"Deportes y Ocio",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fdeportes.jpg?alt=media&token=b382f7e5-8b75-4607-bb8b-3910999523a8"},"arts&literature":{nombre:"Artes y Literatura",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fartylit.jpg?alt=media&token=3608bb12-a4e5-4301-8907-0571d2a575e8"},geography:{nombre:"Geograf\xEDa",imagen:"https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fgeo.jpg?alt=media&token=f026fe5b-6e53-48d4-aef8-9240035735b8"}}[r]||{nombre:r,imagen:"URL_IMAGEN_DEFAULT"}}verificarRespuesta(r){r===this.preguntaActual.correctAnswers?(this.puntaje++,this.mensaje="\xA1Correcto! Tu puntaje es: "+this.puntaje):(this.mensaje="Incorrecto. La respuesta correcta era: "+this.preguntaActual.correctAnswers,this.guardarPuntaje(),this.puntaje=0),this.cambiarPregunta()}onImageError(r){let i=r.target;i.src="https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/preguntados%2Fdefault.jpg?alt=media"}guardarPuntaje(){return v(this,null,function*(){let o=ze().currentUser?.email||"An\xF3nimo";try{yield Ei(cn(this.db,"ranking_preguntados"),{correo:o,puntaje:this.puntaje,fecha:new Date}),this.obtenerRanking()}catch(s){console.error("Error al guardar el puntaje: ",s),this.mensaje="Error al guardar el puntaje. Intenta nuevamente."}})}obtenerRanking(){let r=Di(cn(this.db,"ranking_preguntados"),Ci("puntaje","desc"),bi(5));Dn(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntaje:s.puntaje})})},i=>{console.error("Error al obtener ranking: ",i),this.mensaje="Error al obtener el ranking. Intenta nuevamente."})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["app-preguntados"]],standalone:!0,features:[je],decls:15,vars:6,consts:[[1,"preguntados-container"],["class","categoria-info",4,"ngIf"],[1,"pregunta"],[1,"respuestas-container"],["class","respuesta-btn",3,"click",4,"ngFor","ngForOf"],[1,"puntos"],[1,"mensaje"],[1,"ranking-container"],[4,"ngFor","ngForOf"],[1,"categoria-info"],[1,"categoria-imagen",3,"src","alt"],[1,"categoria"],[1,"respuesta-btn",3,"click"]],template:function(i,o){i&1&&(A(0,"div",0),De(1,r3,4,4,"div",1),A(2,"h2",2),O(3),M(),A(4,"div",3),De(5,i3,2,1,"button",4),M(),A(6,"p",5),O(7),M(),A(8,"p",6),O(9),M(),A(10,"div",7)(11,"h3"),O(12,"TOP 5:"),M(),A(13,"ul"),De(14,o3,2,2,"li",8),M()()()),i&2&&(F(),W("ngIf",o.nombreCategoria&&o.imagenCategoria),F(2),Vt(o.preguntaActual==null?null:o.preguntaActual.question),F(2),W("ngForOf",o.respuestas),F(2),tt("Puntaje: ",o.puntaje,""),F(2),Vt(o.mensaje),F(5),W("ngForOf",o.mejoresJugadores))},dependencies:[nt,Ln,St],styles:[".preguntados-container[_ngcontent-%COMP%]{text-align:center;max-width:900px;margin:150px auto;padding:20px;border:2px solid #007bff;border-radius:10px;background-color:#f9f9f9;font-family:Roboto,sans-serif}.pregunta[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.respuestas-container[_ngcontent-%COMP%]{margin-top:20px}.respuesta-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;margin:5px}.respuesta-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.puntos[_ngcontent-%COMP%]{margin-top:20px;font-size:18px;font-weight:700}.mensaje[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;color:#d9534f}.categoria[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:#4caf50}.categoria-imagen[_ngcontent-%COMP%]{width:400px;height:auto}"]});let t=e;return t})();function s3(t,e){if(t&1&&(A(0,"div")(1,"h4"),O(2,"Palabra desordenada:"),M(),A(3,"p",14),O(4),M()()),t&2){let n=Ae();F(4),Vt(n.palabraMezclada.join(""))}}function a3(t,e){if(t&1){let n=it();A(0,"button",15),se("click",function(){let i=Oe(n).$implicit,o=Ae();return ke(o.seleccionarLetra(i))}),O(1),M()}if(t&2){let n=e.$implicit,r=Ae();ts("letra-seleccionada",r.letrasOrdenadas.includes(n)||r.letrasBloqueadas.has(n)),F(),tt(" ",n," ")}}function c3(t,e){if(t&1){let n=it();A(0,"div",16)(1,"h4"),O(2,"Letras ordenadas:"),M(),A(3,"p"),O(4),M(),A(5,"button",17),se("click",function(){Oe(n);let i=Ae();return ke(i.borrarUltimaLetra())}),O(6,"Borrar \xFAltima"),M()()}if(t&2){let n=Ae();F(4),Vt(n.letrasOrdenadas.join(""))}}function u3(t,e){if(t&1&&(A(0,"div",18)(1,"p"),O(2),M()()),t&2){let n=Ae();F(2),Vt(n.mensajeResultado)}}function l3(t,e){if(t&1&&(A(0,"li"),O(1),M()),t&2){let n=e.$implicit;F(),vn(" ",n.nombre," - ",n.puntos," puntos ")}}var xM=(()=>{let e=class e{constructor(r){this.http=r,this.palabraOriginal=null,this.palabraMezclada=[],this.letrasOrdenadas=[],this.letrasBloqueadas=new Set,this.puntos=0,this.mensajeResultado="",this.mejoresJugadores=[],this.bloqueado=!1,this.botonListoHabilitado=!1,this.db=k(Zt),this.getRandomWord(),this.obtenerRanking()}getRandomWord(){this.botonListoHabilitado=!1,this.http.get("https://random-word-api.herokuapp.com/word?lang=es").subscribe(r=>{if(Array.isArray(r)&&r.length>0){let i=r[0].toUpperCase();!this.contieneLetrasInvalidas(i)&&!this.comprobarLetrasRepetidas(i)?(this.palabraOriginal=i,this.palabraMezclada=this.mezclarLetras(i).split(""),this.botonListoHabilitado=!0):(console.warn("Palabra de la API con acento o dieresis, buscando otra..."),this.getRandomWord())}},r=>{console.error("Error al obtener la palabra",r),this.mensajeResultado="Error al obtener una nueva palabra. Intenta nuevamente."})}seleccionarLetra(r){this.bloqueado||this.palabraOriginal&&!this.letrasOrdenadas.includes(r)&&(this.letrasOrdenadas.push(r),this.letrasBloqueadas.add(r))}contieneLetrasInvalidas(r){return/[áéíóúÁÉÍÓÚüñ ]/.test(r)}mezclarLetras(r){return r.split("").sort(()=>Math.random()-.5).join("")}borrarUltimaLetra(){let r=this.letrasOrdenadas.pop();r&&this.letrasBloqueadas.delete(r)}verificarOrden(){this.bloqueado||(this.letrasOrdenadas.join("")===this.palabraOriginal?(this.mensajeResultado="\xA1Correcto! Ganaste 5 puntos.",this.puntos+=5,this.guardarResultado()):(this.mensajeResultado=`Incorrecto. La palabra correcta era: ${this.palabraOriginal}`,this.puntos=0),this.reiniciarJuego())}guardarResultado(){let o=ze().currentUser?.email||"An\xF3nimo";Ei(cn(this.db,"ranking_word_game"),{correo:o,score:this.puntos,fecha:new Date}).then(()=>{this.obtenerRanking()}).catch(s=>{console.error("Error al guardar el resultado: ",s),this.mensajeResultado="Error al guardar el resultado. Intenta nuevamente."})}obtenerRanking(){let r=Di(cn(this.db,"ranking_word_game"),Ci("score","desc"),bi(5));Dn(r,i=>{this.mejoresJugadores=[],i.forEach(o=>{let s=o.data();this.mejoresJugadores.push({nombre:s.correo,puntos:s.score})})},i=>{console.error("Error al obtener ranking: ",i),this.mensajeResultado="Error al obtener el ranking. Intenta nuevamente."})}reiniciarJuego(){this.letrasOrdenadas=[],this.letrasBloqueadas.clear(),this.getRandomWord()}comprobarLetrasRepetidas(r){let i=new Set;for(let o of r){if(i.has(o))return!0;i.add(o)}return!1}};e.\u0275fac=function(i){return new(i||e)($($a))},e.\u0275cmp=Ve({type:e,selectors:[["app-word-game"]],standalone:!0,features:[je],decls:24,vars:7,consts:[[1,"word-game-container"],[1,"contenido-flex"],[1,"juego"],[4,"ngIf"],[1,"letras"],[1,"letras-grid"],[3,"letra-seleccionada","click",4,"ngFor","ngForOf"],["class","letras-seleccionadas",4,"ngIf"],[1,"acciones"],[1,"btn-listo",3,"click","disabled"],["class","mensaje-final",4,"ngIf"],[1,"puntos"],[1,"ranking-container"],[4,"ngFor","ngForOf"],[1,"palabra"],[3,"click"],[1,"letras-seleccionadas"],[1,"btn-borrar",3,"click"],[1,"mensaje-final"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"h2"),O(2,"ACOMOD\xC1 LA PALABRA"),M(),A(3,"div",1)(4,"div",2),De(5,s3,5,1,"div",3),A(6,"div",4)(7,"h4"),O(8,"Selecciona el orden correcto:"),M(),A(9,"div",5),De(10,a3,2,3,"button",6),M(),De(11,c3,7,1,"div",7),A(12,"div",8)(13,"button",9),se("click",function(){return o.verificarOrden()}),O(14," Listo "),M()(),De(15,u3,3,1,"div",10),A(16,"div",11)(17,"h4"),O(18),M()()()(),A(19,"div",12)(20,"h3"),O(21,"TOP 5:"),M(),A(22,"ul"),De(23,l3,2,2,"li",13),M()()()()),i&2&&(F(5),W("ngIf",o.palabraMezclada),F(5),W("ngForOf",o.palabraMezclada),F(),W("ngIf",o.letrasOrdenadas.length>0),F(2),W("disabled",!o.botonListoHabilitado),F(2),W("ngIf",o.mensajeResultado),F(3),tt("Puntos: ",o.puntos,""),F(5),W("ngForOf",o.mejoresJugadores))},dependencies:[nt,Ln,St,sd],styles:[".word-game-container[_ngcontent-%COMP%]{text-align:center;max-width:1000px;margin:130px auto;padding:40px;border:3px solid #4CAF50;border-radius:20px;background-color:#f9f9f9;font-family:Roboto,sans-serif;box-shadow:0 8px 16px #0003}.contenido-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:40px}.juego[_ngcontent-%COMP%]{flex:1}.ranking-container[_ngcontent-%COMP%]{flex-basis:300px;border:2px solid #ccc;padding:20px;background-color:#fafafa;border-radius:10px;text-align:left;box-shadow:0 4px 8px #0000001a}.ranking-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;font-size:20px}.ranking-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.ranking-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;font-size:18px;border-bottom:1px solid #ddd}.palabra[_ngcontent-%COMP%]{font-size:36px;letter-spacing:15px;font-weight:700;color:#333;margin-bottom:30px}.letras-grid[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px;margin-top:20px}.letras-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:26px;padding:12px;border:2px solid #000000;border-radius:5px;cursor:pointer;background-color:#c4c4c4;transition:background-color .3s ease}.letra-seleccionada[_ngcontent-%COMP%]{background-color:#012d03;color:#fff;opacity:.6;cursor:not-allowed}.btn-listo[_ngcontent-%COMP%]{background-color:#157915;color:#fff;padding:10px 30px;font-size:20px;border:none;border-radius:8px;cursor:pointer;margin:10px;transition:background-color .3s ease}.btn-listo[_ngcontent-%COMP%]:hover{background-color:#050}.btn-borrar[_ngcontent-%COMP%]{background-color:#901717;color:#fff;padding:10px 30px;font-size:20px;border:none;border-radius:8px;cursor:pointer;margin:10px;transition:background-color .3s ease}.btn-borrar[_ngcontent-%COMP%]:hover{background-color:#500}.mensaje-final[_ngcontent-%COMP%]{margin-top:30px;font-size:24px;color:#d9534f}.puntos[_ngcontent-%COMP%]{margin-top:30px;font-size:22px;font-weight:700;color:#000}"]});let t=e;return t})();function d3(t,e){if(t&1&&(A(0,"div",20),O(1),M()),t&2){let n=Ae();F(),Vt(n.errorMessage)}}var RM=(()=>{let e=class e{constructor(r){this.router=r,this.nombre="",this.edad=null,this.telefono="",this.pregunta1="",this.juegoSeleccionado=[],this.pregunta3="",this.errorMessage=""}seleccionDeJuego(r){let i=this.juegoSeleccionado.indexOf(r);i>-1?this.juegoSeleccionado.splice(i,1):this.juegoSeleccionado.push(r)}validarTelefono(){return/^\d{10}$/.test(this.telefono)}validarNombre(){return/^[a-zA-Z\s]+$/.test(this.nombre)}onSubmit(){return v(this,null,function*(){if(!this.nombre||!this.edad||!this.telefono||!this.pregunta1||!this.pregunta3){this.errorMessage="Todos los campos son obligatorios.";return}if(!this.validarNombre()){this.errorMessage="El nombre no puede contener n\xFAmeros o caracteres especiales.";return}if(this.edad<18||this.edad>99){this.errorMessage="La edad debe ser entre 18 y 99 a\xF1os.";return}if(!this.validarTelefono()){this.errorMessage="El n\xFAmero de tel\xE9fono debe tener exactamente 10 d\xEDgitos.";return}if(this.juegoSeleccionado.length===0){this.errorMessage="Debes seleccionar al menos un juego.";return}this.errorMessage="";let o=ze().currentUser?.email||"An\xF3nimo",s={nombre:this.nombre,edad:this.edad,telefono:this.telefono,pregunta1:this.pregunta1,juegosSeleccionados:this.juegoSeleccionado,pregunta3:this.pregunta3,email:o,fechaEncuesta:new Date().toISOString()},a=Ii(),u=Ws(a,"encuesta",o);try{yield ou(u,s),console.log("Encuesta enviada correctamente",s),this.router.navigate(["/home"])}catch(l){console.error("Error al guardar la encuesta:",l)}})}};e.\u0275fac=function(i){return new(i||e)($(Je))},e.\u0275cmp=Ve({type:e,selectors:[["app-encuesta"]],standalone:!0,features:[je],decls:50,vars:11,consts:[[3,"ngSubmit"],[1,"titulo"],["for","nombre"],["type","text","id","nombre","name","nombre",3,"ngModelChange","ngModel"],["for","edad"],["type","number","id","edad","name","edad",3,"ngModelChange","ngModel"],["for","telefono"],["type","text","id","telefono","name","telefono",3,"ngModelChange","ngModel"],["type","radio","value","S\xED","name","pregunta1",3,"ngModelChange","ngModel"],["type","radio","value","No","name","pregunta1",3,"ngModelChange","ngModel"],["type","checkbox",3,"change","checked"],["for","pregunta3"],["id","pregunta3","name","pregunta3",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","Ahorcado"],["value","Preguntados"],["value","Word Game"],["value","Mayor o Menor"],["class","error-messedad",4,"ngIf"],["type","submit"],[1,"error-messedad"]],template:function(i,o){i&1&&(A(0,"form",0),se("ngSubmit",function(){return o.onSubmit()}),A(1,"div",1),O(2,"Encuesta"),M(),A(3,"div")(4,"label",2),O(5,"Nombre y Apellido:"),M(),A(6,"input",3),st("ngModelChange",function(a){return mt(o.nombre,a)||(o.nombre=a),a}),M()(),A(7,"div")(8,"label",4),O(9,"Edad:"),M(),A(10,"input",5),st("ngModelChange",function(a){return mt(o.edad,a)||(o.edad=a),a}),M()(),A(11,"div")(12,"label",6),O(13,"N\xFAmero de Tel\xE9fono:"),M(),A(14,"input",7),st("ngModelChange",function(a){return mt(o.telefono,a)||(o.telefono=a),a}),M()(),A(15,"div")(16,"label"),O(17,"\xBFTe gust\xF3 la p\xE1gina?"),M(),A(18,"input",8),st("ngModelChange",function(a){return mt(o.pregunta1,a)||(o.pregunta1=a),a}),M(),O(19," S\xED "),A(20,"input",9),st("ngModelChange",function(a){return mt(o.pregunta1,a)||(o.pregunta1=a),a}),M(),O(21," No "),M(),A(22,"div")(23,"label"),O(24,"\xBFQu\xE9 juegos te gustaron?"),M(),A(25,"input",10),se("change",function(){return o.seleccionDeJuego("Ahorcado")}),M(),O(26," Ahorcado "),A(27,"input",10),se("change",function(){return o.seleccionDeJuego("Preguntados")}),M(),O(28," Preguntados "),A(29,"input",10),se("change",function(){return o.seleccionDeJuego("Word Game")}),M(),O(30," Word Game "),A(31,"input",10),se("change",function(){return o.seleccionDeJuego("Mayor o Menor")}),M(),O(32," Mayor o Menor "),M(),A(33,"div")(34,"label",11),O(35,"\xBFCu\xE1l fue tu juego favorito?"),M(),A(36,"select",12),st("ngModelChange",function(a){return mt(o.pregunta3,a)||(o.pregunta3=a),a}),A(37,"option",13),O(38,"Selecciona tu juego favorito"),M(),A(39,"option",14),O(40,"Ahorcado"),M(),A(41,"option",15),O(42,"Preguntados"),M(),A(43,"option",16),O(44,"Word Game"),M(),A(45,"option",17),O(46,"Mayor o Menor"),M()()(),De(47,d3,2,1,"div",18),A(48,"button",19),O(49,"Enviar"),M()()),i&2&&(F(6),ot("ngModel",o.nombre),F(4),ot("ngModel",o.edad),F(4),ot("ngModel",o.telefono),F(4),ot("ngModel",o.pregunta1),F(2),ot("ngModel",o.pregunta1),F(5),W("checked",o.juegoSeleccionado.includes("Ahorcado")),F(2),W("checked",o.juegoSeleccionado.includes("Preguntados")),F(2),W("checked",o.juegoSeleccionado.includes("Word Game")),F(2),W("checked",o.juegoSeleccionado.includes("Mayor o Menor")),F(5),ot("ngModel",o.pregunta3),F(11),W("ngIf",o.errorMessage))},dependencies:[ii,ws,nT,iT,Un,hy,Ld,fy,ri,_s,pr,Ji,nt,St],styles:["form[_ngcontent-%COMP%]{max-width:500px;margin:130px auto;padding:40px;border:1px solid #ccc;border-radius:10px;box-shadow:0 4px 20px #0003;background-color:#fff;font-family:Roboto,sans-serif}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:30px;font-weight:700;color:#4caf50;margin-bottom:20px;text-transform:uppercase}label[_ngcontent-%COMP%]{font-size:18px;color:#333;margin-bottom:8px;display:block}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:90%;padding:10px;margin-top:5px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;font-size:16px;box-sizing:border-box}input[type=radio][_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]{width:auto;margin-right:10px}select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:16px}input[type=text][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}small[_ngcontent-%COMP%]{color:red;font-size:14px;display:block;margin-top:-10px;margin-bottom:10px}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin-top:10px;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-bottom:15px}"]});let t=e;return t})();var PM=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:yM},{path:"about",component:ND},{path:"ahorcado",component:AM},{path:"mayor-menor",component:SM},{path:"preguntados",component:MM},{path:"word-game",component:xM},{path:"encuesta",component:RM},{path:"**",component:vM}];var NM={providers:[AD(PM),_M(()=>wM({projectId:"salajuegos-bartel",appId:"1:500772714952:web:203ffc93567f0feb75e8fd",storageBucket:"salajuegos-bartel.appspot.com",apiKey:"AIzaSyDwWtnrBJsAhV_bpBgDDtJOH4ApwmFHfVw",authDomain:"salajuegos-bartel.firebaseapp.com",messagingSenderId:"500772714952"})),EM(()=>bM()),DM(()=>TM())]};function h3(t,e){if(t&1&&(A(0,"div",12),O(1),M()),t&2){let n=Ae();F(),tt(" ",n.errorMessage," ")}}var OM=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new qe,this.username="",this.password="",this.errorMessage="",this.app=yr(Nc),this.auth=ze(this.app)}fillFields(){this.username="prop@prop.com",this.password="123456"}onSubmit(){return v(this,null,function*(){try{let r=yield ch(this.auth,this.username,this.password);this.loginStatusChange.emit(!0),this.router.navigate(["/home"])}catch(r){switch(r.code){case"auth/invalid-credential":this.errorMessage="Correo o contrase\xF1a incorrecta.";break;case"auth/invalid-email":this.errorMessage="Formato de correo inv\xE1lido.";break;default:this.errorMessage="Error al iniciar sesi\xF3n. Intenta nuevamente."}console.error("Error en login:",r),this.loginStatusChange.emit(!1)}})}};e.\u0275fac=function(i){return new(i||e)($(Je))},e.\u0275cmp=Ve({type:e,selectors:[["app-login"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[je],decls:16,vars:3,consts:[["loginForm","ngForm"],[3,"ngSubmit"],["href",Vl`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"titulo"],[1,"input-container"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/UsuarioTP.png?alt=media&token=f606b71b-33eb-434c-8370-4e20b3279a31","alt","Usuario",1,"input-icon"],["id","username","name","username","required","","type","text","placeholder","Correo",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Candadito.png?alt=media&token=9a332aa8-7242-4b21-a586-f4dc7d69c85a","alt","Candado",1,"input-icon"],["id","password","name","password","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],["type","button","alt","Rellenar",1,"rellenar-campos",3,"click"],[1,"error-message"]],template:function(i,o){if(i&1){let s=it();A(0,"form",1,0),se("ngSubmit",function(){return Oe(s),ke(o.onSubmit())}),ye(2,"link",2),A(3,"div",3),O(4," \xA1COMENZ\xC1 A JUGAR! "),M(),A(5,"div",4),ye(6,"img",5),A(7,"input",6),st("ngModelChange",function(u){return Oe(s),mt(o.username,u)||(o.username=u),ke(u)}),M()(),A(8,"div",4),ye(9,"img",7),A(10,"input",8),st("ngModelChange",function(u){return Oe(s),mt(o.password,u)||(o.password=u),ke(u)}),M()(),De(11,h3,2,1,"div",9),A(12,"button",10),O(13,"Iniciar sesi\xF3n"),M(),A(14,"button",11),se("click",function(){return Oe(s),ke(o.fillFields())}),O(15,"Rellenar Campos"),M()()}i&2&&(F(7),ot("ngModel",o.username),F(3),ot("ngModel",o.password),F(),W("ngIf",o.errorMessage))},dependencies:[ii,ws,Un,ri,_s,_c,pr,Ji,nt,St],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:130px auto;padding:60px;border:1px solid #ccc;border-radius:10px;box-shadow:0 4px 20px #0003;background-color:#fff;font-family:Roboto}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:35px;font-weight:700;color:#4caf50;margin-bottom:30px;text-transform:uppercase}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:80%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:16px}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin-top:10px;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:-10px;margin-bottom:15px}a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.rellenar-campos[_ngcontent-%COMP%]{width:50%;background-color:#6e6e6e;color:#fff;padding:10px;border:none;border-radius:5px;cursor:pointer;font-size:14px;margin:10px auto;display:block;transition:background-color .3s,transform .2s}.rellenar-campos[_ngcontent-%COMP%]:hover{background-color:#454545;transform:scale(1.05)}"]});let t=e;return t})();function f3(t,e){if(t&1&&(A(0,"div",15),O(1),M()),t&2){let n=Ae();F(),tt(" ",n.errorMessage," ")}}var kM=(()=>{let e=class e{constructor(r){this.router=r,this.loginStatusChange=new qe,this.username="",this.password="",this.nombre="",this.correo="",this.errorMessage=""}onSubmit(){return v(this,null,function*(){let r=ze(),i=Ii();if(!this.nombre||!this.username||!this.correo||!this.password){this.errorMessage="Todos los campos son obligatorios.";return}if(!this.validateEmail(this.correo)){this.errorMessage="Por favor, ingresa un correo v\xE1lido.";return}if(this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres.";return}try{let s=(yield ah(r,this.correo,this.password)).user,a=Ws(i,"usuarios",s.uid);yield ou(a,{nombre:this.nombre,username:this.username,correo:this.correo,fechaIngreso:new Date().toISOString()}),console.log("Usuario registrado exitosamente:",s),this.loginStatusChange.emit(!0),this.router.navigate(["/home"])}catch(o){switch(o.code){case"auth/email-already-in-use":this.errorMessage="El correo ya est\xE1 registrado.";break;case"auth/invalid-email":this.errorMessage="El formato del correo es inv\xE1lido.";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a es demasiado d\xE9bil.";break;default:this.errorMessage="Error al registrar el usuario. Intenta nuevamente."}console.error("Error al registrar el usuario:",o),this.loginStatusChange.emit(!1)}})}validateEmail(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}};e.\u0275fac=function(i){return new(i||e)($(Je))},e.\u0275cmp=Ve({type:e,selectors:[["app-registro"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!0,features:[je],decls:20,vars:5,consts:[["registroForm","ngForm"],[3,"ngSubmit"],["href",Vl`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"titulo"],[1,"input-container"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/nombre.png?alt=media&token=3d928dd8-ea4a-4ad8-ba89-33ff5b85252d","alt","Nombre",1,"input-icon"],["id","nombre","name","nombre","required","","type","text","placeholder","Nombre",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/mail.png?alt=media&token=0327ea44-8376-43b1-9163-fe0fe01b5075","alt","Mail",1,"input-icon"],["id","correo","name","correo","required","","type","email","placeholder","Correo",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/UsuarioTP.png?alt=media&token=f606b71b-33eb-434c-8370-4e20b3279a31","alt","Usuario",1,"input-icon"],["id","username","name","username","required","","type","text","placeholder","Usuario",3,"ngModelChange","ngModel"],["src","https://firebasestorage.googleapis.com/v0/b/salajuegos-bartel.appspot.com/o/Candadito.png?alt=media&token=9a332aa8-7242-4b21-a586-f4dc7d69c85a","alt","Candado",1,"input-icon"],["id","password","name","password","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],[1,"error-message"]],template:function(i,o){if(i&1){let s=it();A(0,"form",1,0),se("ngSubmit",function(){return Oe(s),ke(o.onSubmit())}),ye(2,"link",2),A(3,"div",3),O(4," \xA1REGISTRATE AHORA! "),M(),A(5,"div",4),ye(6,"img",5),A(7,"input",6),st("ngModelChange",function(u){return Oe(s),mt(o.nombre,u)||(o.nombre=u),ke(u)}),M()(),A(8,"div",4),ye(9,"img",7),A(10,"input",8),st("ngModelChange",function(u){return Oe(s),mt(o.correo,u)||(o.correo=u),ke(u)}),M()(),A(11,"div",4),ye(12,"img",9),A(13,"input",10),st("ngModelChange",function(u){return Oe(s),mt(o.username,u)||(o.username=u),ke(u)}),M()(),A(14,"div",4),ye(15,"img",11),A(16,"input",12),st("ngModelChange",function(u){return Oe(s),mt(o.password,u)||(o.password=u),ke(u)}),M()(),De(17,f3,2,1,"div",13),A(18,"button",14),O(19,"Registrarse"),M()()}i&2&&(F(7),ot("ngModel",o.nombre),F(3),ot("ngModel",o.correo),F(3),ot("ngModel",o.username),F(3),ot("ngModel",o.password),F(),W("ngIf",o.errorMessage))},dependencies:[ii,ws,Un,ri,_s,_c,pr,Ji,nt,St],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:130px auto;padding:60px;border:1px solid #ccc;border-radius:10px;box-shadow:0 4px 20px #0003;background-color:#fff;font-family:Roboto}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:35px;font-weight:700;color:#4caf50;margin-bottom:30px;text-transform:uppercase}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.input-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%]{width:80%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:16px}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:12px;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin-top:10px;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:-10px;margin-bottom:15px}a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]});let t=e;return t})();function p3(t,e){t&1&&(A(0,"button",11),O(1,"ENCUESTA"),M())}function g3(t,e){t&1&&(A(0,"div",12)(1,"button",13),O(2,"INICIAR SESION"),M()())}function m3(t,e){t&1&&(A(0,"div",14)(1,"button",15),O(2,"REGISTRARSE"),M()())}function y3(t,e){if(t&1){let n=it();A(0,"div",16)(1,"button",17),se("click",function(){Oe(n);let i=Ae();return ke(i.logout())}),O(2,"CERRAR SESION"),M()()}}function v3(t,e){if(t&1){let n=it();A(0,"app-registro",18),se("loginStatusChange",function(i){Oe(n);let o=Ae();return ke(o.setLoginStatus(i))}),M()}}function _3(t,e){if(t&1){let n=it();A(0,"app-login",18),se("loginStatusChange",function(i){Oe(n);let o=Ae();return ke(o.setLoginStatus(i))}),M()}}var FM=(()=>{let e=class e{constructor(r){this.router=r,this.title="rutas",this.isLoggedIn=!1}ngOnInit(){let r=ze();uh(r,i=>{i?this.isLoggedIn=!0:this.isLoggedIn=!1})}setLoginStatus(r){this.isLoggedIn=r}logout(){let r=ze();lh(r).then(()=>{this.isLoggedIn=!1,this.router.navigate(["/login"])}).catch(i=>{console.error("Error al cerrar sesi\xF3n: ",i)})}updateLoginStatus(r){this.isLoggedIn=r}};e.\u0275fac=function(i){return new(i||e)($(Je))},e.\u0275cmp=Ve({type:e,selectors:[["app-root"]],standalone:!0,features:[je],decls:15,vars:6,consts:[[1,"nav"],[1,"button-group"],["routerLink","home","routerLinkActive","active-route"],["routerLink","about","routerLinkActive","active-route"],["routerLink","encuesta","routerLinkActive","active-route",4,"ngIf"],["class","login-button-container",4,"ngIf"],["class","register-button-container",4,"ngIf"],["class","logout-button-container",4,"ngIf"],[1,"form-container1"],[1,"form-container"],[3,"loginStatusChange",4,"ngIf"],["routerLink","encuesta","routerLinkActive","active-route"],[1,"login-button-container"],["routerLink","login","routerLinkActive","active-route"],[1,"register-button-container"],["routerLink","registro","routerLinkActive","active-route"],[1,"logout-button-container"],[3,"click"],[3,"loginStatusChange"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"div",1)(2,"button",2),O(3,"INICIO"),M(),A(4,"button",3),O(5,"\xBFQUI\xC9N SOY?"),M(),De(6,p3,2,0,"button",4),M(),De(7,g3,3,0,"div",5)(8,m3,3,0,"div",6)(9,y3,3,0,"div",7),M(),A(10,"div",8),ye(11,"router-outlet"),M(),A(12,"div",9),De(13,v3,1,0,"app-registro",10)(14,_3,1,0,"app-login",10),M()),i&2&&(F(6),W("ngIf",o.isLoggedIn),F(),W("ngIf",!o.isLoggedIn),F(),W("ngIf",!o.isLoggedIn),F(),W("ngIf",o.isLoggedIn),F(4),W("ngIf",o.router.url==="/registro"),F(),W("ngIf",o.router.url==="/login"))},dependencies:[ty,Cd,DD,nt,St,OM,kM],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100vh}.form-container[_ngcontent-%COMP%], .form-container1[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:50px}.login-button-container[_ngcontent-%COMP%], .logout-button-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:50px}.register-button-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:250px}.button-group[_ngcontent-%COMP%]{position:relative;top:10px;left:50px}button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;background-color:#fff;margin:0 10px;color:#000;font-size:20px}button[_ngcontent-%COMP%]:hover{color:#008a5c}.nav[_ngcontent-%COMP%]{width:100%;background-color:#fff;min-height:60px;box-shadow:0 4px 6px #0000001a;position:fixed;top:0;left:0;z-index:1000;display:flex;font-family:Roboto,sans-serif}"]});let t=e;return t})();VC(FM,NM).catch(t=>console.error(t));
